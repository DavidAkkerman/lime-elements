import{r as t,c as i,h as e,H as r}from"./index-6156b4fd.js";import{c as o}from"./random-string-812b1c35.js";import{g as s,a as n,b as a,c as l}from"./file-metadata-9a4780e2.js";import"./get-icon-props-0b65f85e.js";function h(t){let i={id:o(),filename:t.name,contentType:t.type,size:t.size,fileContent:t};i=Object.assign(Object.assign({},i),{icon:{name:s(i),title:n(i),color:a(i),backgroundColor:l(i)}});return i}function c(t,i){if(i===undefined||i==="*"){return true}const e=i.split(",").map((t=>t.trim()));return e.some((i=>{if(i===t.contentType){return true}if(i.endsWith("/*")){const e=i.split("/")[0];return t.contentType.startsWith(`${e}/`)}if(i.startsWith(".")){const e=i.split(".")[1];return t.contentType.endsWith(`/${e}`)}}))}const d=":host(limel-file-dropzone){position:relative;display:grid;position:relative;height:100%;width:100%}.has-file-to-drop{position:absolute;top:0;left:0;overflow:hidden;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;box-sizing:border-box;border:0.25rem dashed rgb(var(--color-gray-light));border-radius:1rem;background-color:rgb(var(--color-gray-dark));opacity:0.9;margin:0.125rem;isolation:isolate;z-index:1}.has-file-to-drop limel-icon.dropzone-icon{height:clamp(2rem, 4vh, 6rem);width:clamp(2rem, 4vh, 6rem);color:rgb(var(--contrast-800))}.has-file-to-drop .dropzone-text{font-size:clamp(1rem, 2vh, 1.75rem);padding-top:1rem;color:rgb(var(--contrast-800))}";const f=class{constructor(r){t(this,r);this.filesSelected=i(this,"filesSelected",7);this.filesRejected=i(this,"filesRejected",7);this.renderOnDragLayout=()=>{if(this.hasFileToDrop){return e("div",{class:"has-file-to-drop"},e("limel-icon",{class:"dropzone-icon",name:this.onDropLayoutIcon}),this.renderOnDragLayoutText())}};this.renderOnDragLayoutText=()=>{if(this.onDragLayoutText.length===0){return}return e("span",{class:"dropzone-text"},this.onDragLayoutText)};this.handleDrop=t=>{t.stopPropagation();t.preventDefault();this.hasFileToDrop=false;if(this.disabled){return}const i=Array.from(t.dataTransfer.files);const e=i.map(h);const r=e.filter((t=>c(t,this.accept)));const o=e.filter((t=>!c(t,this.accept)));if(r.length>0){this.filesSelected.emit(r)}if(o.length>0){this.filesRejected.emit(o)}};this.handleDragOver=t=>{this.hasFileToDrop=true;t.preventDefault()};this.handleDragLeave=t=>{this.hasFileToDrop=false;t.preventDefault()};this.accept="*";this.disabled=false;this.onDragLayoutText="";this.onDropLayoutIcon="upload_2";this.hasFileToDrop=false}render(){return e(r,{onDrop:this.handleDrop,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave},e("slot",null),this.renderOnDragLayout())}};f.style=d;export{f as limel_file_dropzone};
//# sourceMappingURL=limel-file-dropzone.entry.js.map