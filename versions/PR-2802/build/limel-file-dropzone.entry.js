import{r as t,c as r,h as i,H as e}from"./index-6156b4fd.js";import{g as s,a as o,b as n,c as a}from"./file-metadata-9a4780e2.js";import{b as l}from"./_baseForOwn-5c15df9f.js";import{i as c}from"./isArrayLike-84e8e25f.js";import{b as f}from"./_baseIteratee-28da26ef.js";import{i as h}from"./isArray-80298bc7.js";import"./get-icon-props-0b65f85e.js";import"./_baseIsEqual-bb328657.js";import"./eq-1533d1d3.js";import"./_baseGetTag-49d0259e.js";import"./isObject-7039fcda.js";import"./_getNative-4698fd71.js";import"./isObjectLike-38996507.js";import"./_nodeUtil-0ed26eea.js";import"./isSymbol-f24bedd7.js";import"./toString-0a9c1851.js";import"./_arrayMap-e86f6dbb.js";import"./identity-5b806255.js";function d(t,r,i,e){var s=-1,o=t==null?0:t.length;while(++s<o){var n=t[s];r(e,n,i(n),t)}return e}function m(t,r){return function(i,e){if(i==null){return i}if(!c(i)){return t(i,e)}var s=i.length,o=r?s:-1,n=Object(i);while(r?o--:++o<s){if(e(n[o],o,n)===false){break}}return i}}var p=m(l);function u(t,r,i,e){p(t,(function(t,s,o){r(e,t,i(t),o)}));return e}function b(t,r){return function(i,e){var s=h(i)?d:u,o=r?r():{};return s(i,t,f(e),o)}}var g=b((function(t,r,i){t[i?0:1].push(r)}),(function(){return[[],[]]}));function j(t){const r={id:crypto.randomUUID(),filename:t.name,contentType:t.type,size:t.size,fileContent:t};r.icon={name:s(r),title:o(r),color:n(r),backgroundColor:a(r)};return r}function v(t,r){if(r===undefined||r==="*"){return true}const i=r.split(",").map((t=>t.trim()));return i.some((r=>{if(r===t.contentType){return true}if(r.endsWith("/*")){const i=r.split("/")[0];return t.contentType.startsWith(`${i}/`)}if(r.startsWith(".")){const i=r.split(".")[1];return t.contentType.endsWith(`/${i}`)}}))}const y=":host(limel-file-dropzone){position:relative;display:grid;position:relative;height:100%;width:100%}.has-file-to-drop{position:absolute;top:0;left:0;overflow:hidden;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;box-sizing:border-box;border:0.25rem dashed rgb(var(--color-gray-light));border-radius:1rem;background-color:rgb(var(--color-gray-dark));opacity:0.9;margin:0.125rem;isolation:isolate;z-index:1}.has-file-to-drop limel-icon.icon{height:clamp(2rem, 4vh, 6rem);width:clamp(2rem, 4vh, 6rem);color:rgb(var(--contrast-800))}.has-file-to-drop .text{font-size:clamp(1rem, 2vh, 1.75rem);padding-top:0.5rem;color:rgb(var(--contrast-800))}.has-file-to-drop .helper-text{font-size:clamp(0.75rem, 1.5vh, 1rem);color:rgb(var(--contrast-800))}";const x=class{constructor(e){t(this,e);this.filesSelected=r(this,"filesSelected",7);this.filesRejected=r(this,"filesRejected",7);this.renderOnDragLayout=()=>{if(this.hasFileToDrop){return i("div",{class:"has-file-to-drop"},i("limel-icon",{class:"icon",name:"upload_2"}),this.renderText(),this.renderHelperText())}};this.renderText=()=>{if(!this.text){return}return i("span",{class:"text"},this.text)};this.renderHelperText=()=>{if(!this.helperText){return}return i("span",{class:"helper-text"},this.helperText)};this.handleDrop=t=>{t.stopPropagation();t.preventDefault();this.hasFileToDrop=false;if(this.disabled){return}const r=Array.from(t.dataTransfer.files);const i=r.map(j);const[e,s]=g(i,(t=>v(t,this.accept)));if(e.length>0){this.filesSelected.emit(e)}if(s.length>0){this.filesRejected.emit(s)}};this.handleDragOver=t=>{this.hasFileToDrop=true;t.preventDefault()};this.handleDragLeave=t=>{this.hasFileToDrop=false;t.preventDefault()};this.accept="*";this.disabled=false;this.text=undefined;this.helperText="";this.hasFileToDrop=false}render(){return i(e,{onDrop:this.handleDrop,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave},i("slot",null),this.renderOnDragLayout())}};x.style=y;export{x as limel_file_dropzone};
//# sourceMappingURL=limel-file-dropzone.entry.js.map