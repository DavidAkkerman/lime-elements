{"version":3,"names":["helpCss","Help","this","renderReadMoreLink","readMoreLink","linkStyle","color","position","bottom","h","style","href","_a","target","_b","title","_c","tabindex","_d","text","openPopover","event","stopPropagation","isOpen","onPopoverClose","async","render","containerStyle","display","gap","padding","contentStyle","overflow","open","onClose","openDirection","slot","onClick","trigger","value"],"sources":["./src/components/help/help.scss?tag=limel-help&encapsulation=shadow","./src/components/help/help.tsx"],"sourcesContent":["@use '../../style/mixins';\n\nlimel-popover {\n    display: flex;\n    --popover-surface-width: min(calc(100vw - 4rem), 22rem);\n}\n\nbutton[slot='trigger'] {\n    all: unset;\n\n    @include mixins.is-flat-clickable(\n        $color--hovered: rgb(var(--color-sky-dark)),\n        $background-color: var(--lime-elevated-surface-background-color)\n    );\n    @include mixins.visualize-keyboard-focus;\n\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: rgb(var(--color-sky-default));\n    border-radius: 50%;\n    box-shadow: 0 0 0 1px rgb(var(--color-sky-lighter), 0.7);\n    width: 0.875rem;\n    height: 0.875rem;\n    font-size: 0.75rem;\n}\n","import { Component, h, Prop, State } from '@stencil/core';\nimport { OpenDirection } from '../menu/menu.types';\nimport { Link } from '@limetech/lime-elements';\n// import { markdownToHTML } from './markdown-parser';\n\n/**\n * Help component renders an impermanent layer that is displayed on top of other content.\n * @exampleComponent limel-example-help\n * @exampleComponent limel-example-read-more\n * @exampleComponent limel-example-open-direction\n */\n@Component({\n    tag: 'limel-help',\n    shadow: true,\n    styleUrl: 'help.scss',\n})\nexport class Help {\n    /**\n     * The markdown content that will be displayed in the popover.\n     */\n    @Prop()\n    public value: string;\n\n    /**\n     * Visualizes the trigger element. Defaults to **?**\n     * :::important\n     * Be consistent across the product if you want to change it to a custom text.\n     * :::\n     */\n    @Prop()\n    public trigger: string = '?';\n\n    /**\n     * If supplied, it will render a \"Read more\" link at the bottom of the content.\n     */\n    @Prop()\n    public readMoreLink?: Link;\n\n    /**\n     * Decides the popover's location in relation to the trigger.\n     */\n    @Prop({ reflect: true })\n    public openDirection: OpenDirection = 'top-start';\n\n    @State()\n    private isOpen = false;\n\n    // private rootElement: HTMLDivElement;\n\n    // @Watch('text')\n    // public async textChanged() {\n    //     const html = await markdownToHTML(this.text, {\n    //         forceHardLineBreaks: true,\n    //     });\n    //     this.rootElement.innerHTML = html;\n    // }\n\n    public async componentDidLoad() {\n        // this.textChanged();\n    }\n\n    public render() {\n        const containerStyle = {\n            'box-sizing': 'border-box',\n            display: 'flex',\n            'flex-direction': 'column',\n            gap: '0.5rem',\n            padding: '0.5rem 1rem',\n        };\n\n        const contentStyle = {\n            'max-height': '30rem',\n            overflow: 'hidden auto',\n        };\n\n        return [\n            <limel-popover\n                open={this.isOpen}\n                onClose={this.onPopoverClose}\n                openDirection={this.openDirection}\n            >\n                <button slot=\"trigger\" onClick={this.openPopover}>\n                    {this.trigger}\n                </button>\n                <div style={containerStyle}>\n                    <limel-markdown style={contentStyle} value={this.value} />\n                    {this.renderReadMoreLink()}\n                </div>\n            </limel-popover>,\n        ];\n    }\n\n    private renderReadMoreLink = () => {\n        if (!this.readMoreLink) {\n            return;\n        }\n\n        const linkStyle = {\n            color: 'rgb(var(--color-sky-default))',\n            'text-decoration': 'none',\n            'font-size': '0.875rem',\n            position: 'sticky',\n            bottom: '0',\n        };\n\n        return (\n            <a\n                style={linkStyle}\n                href={this.readMoreLink?.href}\n                target={this.readMoreLink?.target}\n                title={this.readMoreLink?.title}\n                tabindex=\"0\"\n            >\n                {this.readMoreLink?.text}\n            </a>\n        );\n    };\n\n    private openPopover = (event: MouseEvent) => {\n        event.stopPropagation();\n        this.isOpen = true;\n    };\n\n    private onPopoverClose = (event: CustomEvent) => {\n        event.stopPropagation();\n        this.isOpen = false;\n    };\n}\n"],"mappings":"+CAAA,MAAMA,EAAU,m8B,MCgBHC,EAAI,M,yBA4ELC,KAAAC,mBAAqB,K,YACzB,IAAKD,KAAKE,aAAc,CACpB,M,CAGJ,MAAMC,EAAY,CACdC,MAAO,gCACP,kBAAmB,OACnB,YAAa,WACbC,SAAU,SACVC,OAAQ,KAGZ,OACIC,EAAA,KACIC,MAAOL,EACPM,MAAMC,EAAAV,KAAKE,gBAAY,MAAAQ,SAAA,SAAAA,EAAED,KACzBE,QAAQC,EAAAZ,KAAKE,gBAAY,MAAAU,SAAA,SAAAA,EAAED,OAC3BE,OAAOC,EAAAd,KAAKE,gBAAY,MAAAY,SAAA,SAAAA,EAAED,MAC1BE,SAAS,MAERC,EAAAhB,KAAKE,gBAAY,MAAAc,SAAA,SAAAA,EAAEC,KACpB,EAIJjB,KAAAkB,YAAeC,IACnBA,EAAMC,kBACNpB,KAAKqB,OAAS,IAAI,EAGdrB,KAAAsB,eAAkBH,IACtBA,EAAMC,kBACNpB,KAAKqB,OAAS,KAAK,E,kCA/FE,I,+CAYa,Y,YAGrB,K,CAYVE,yB,CAIAC,SACH,MAAMC,EAAiB,CACnB,aAAc,aACdC,QAAS,OACT,iBAAkB,SAClBC,IAAK,SACLC,QAAS,eAGb,MAAMC,EAAe,CACjB,aAAc,QACdC,SAAU,eAGd,MAAO,CACHvB,EAAA,iBACIwB,KAAM/B,KAAKqB,OACXW,QAAShC,KAAKsB,eACdW,cAAejC,KAAKiC,eAEpB1B,EAAA,UAAQ2B,KAAK,UAAUC,QAASnC,KAAKkB,aAChClB,KAAKoC,SAEV7B,EAAA,OAAKC,MAAOiB,GACRlB,EAAA,kBAAgBC,MAAOqB,EAAcQ,MAAOrC,KAAKqC,QAChDrC,KAAKC,uB"}