import{r,c as t,h as o,g as e}from"./index-9cbaf4f2.js";import"./_baseGetTag-accbac5b.js";import"./isObject-7039fcda.js";import"./eq-5dc06ea1.js";import"./_defineProperty-f13bbdd5.js";import{a as i}from"./_assignValue-9df5f80a.js";import{c as s}from"./random-string-2246b81e.js";function a(r,t){var o;if(r.contains(t)||(null===(o=r.shadowRoot)||void 0===o?void 0:o.contains(t)))return!0;const e=function(r){const t=r.closest(".limel-portal--container");return t?t.portalSource:r.getRootNode().host}(t);return!!e&&a(r,e)}const c=class{constructor(o){r(this,o),this.close=t(this,"close",7),this.open=!1,this.useArrow=!0,this.portalId=s(),this.globalClickListener=this.globalClickListener.bind(this)}watchOpen(){this.setupClickHandler()}componentWillLoad(){this.setupClickHandler()}setupClickHandler(){this.open?document.addEventListener("click",this.globalClickListener,{capture:!0}):document.removeEventListener("click",this.globalClickListener)}render(){const r=this.getCssProperties();return o("div",{class:"trigger-anchor"},o("slot",{name:"trigger"}),o("limel-portal",{visible:this.open,containerId:this.portalId,useArrow:this.useArrow},o("limel-popover-surface",{class:{"has-arrow":this.useArrow},contentCollection:this.host.children,style:r})))}globalClickListener(r){const t=a(this.host,r.target);this.open&&!t&&(r.stopPropagation(),this.close.emit())}getCssProperties(){const r=["--popover-surface-width","--popover-body-background-color"],t=getComputedStyle(this.host),o=r.map((r=>t.getPropertyValue(r)));return function(r,t){return function(r,t,o){for(var e=-1,i=r.length,s=t.length,a={};++e<i;)o(a,r[e],e<s?t[e]:void 0);return a}(r||[],t||[],i)}(r,o)}get host(){return e(this)}static get watchers(){return{open:["watchOpen"]}}};c.style=".trigger-anchor{display:inline-block;position:relative}";const n=class{constructor(t){r(this,t)}componentDidLoad(){this.appendElement()}render(){return o("div",{class:"limel-popover-surface",tabindex:"-1"})}appendElement(){const r=this.host.shadowRoot.querySelector(".limel-popover-surface");Array.from(this.contentCollection).forEach((t=>{"trigger"!==t.slot&&r.appendChild(t)}))}get host(){return e(this)}};n.style=':host{display:block;filter:drop-shadow(0 0.25rem 0.25rem rgba(var(--color-black), 0.4))}:host:before{content:"";visibility:hidden;transform:rotate(45deg);position:absolute;width:0.625rem;height:0.625rem;margin:auto;background-color:var(--popover-body-background-color, rgb(var(--contrast-100)))}:host(.has-arrow):before{visibility:visible}.limel-popover-surface{position:relative;display:flex;flex-direction:column;width:var(--popover-surface-width, auto);max-height:calc(100vh - 2rem);max-width:calc(100vw - 2rem);border-radius:0.4375rem;background-color:var(--popover-body-background-color, rgb(var(--contrast-100)))}';export{c as limel_popover,n as limel_popover_surface}