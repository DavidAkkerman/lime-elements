import{r as t,c as i,h as e}from"./index-a55db97c.js";import{c as o}from"./random-string-2246b81e.js";const r=class{constructor(r){t(this,r),this.itemSelected=i(this,"itemSelected",7),this.menuOpen=i(this,"menuOpen",7),this.close=i(this,"close",7),this.renderNotification=()=>{if(void 0!==this.item.badge)return e("limel-badge",{label:this.item.badge})},this.openPopover=t=>{t.stopPropagation(),this.isOpen=!0,this.menuOpen.emit(this.item)},this.setCustomComponentElement=t=>{this.customComponentElement=t},this.onPopoverClose=()=>{this.isOpen=!1,this.close.emit()},this.handleClick=t=>{t.stopPropagation(),this.itemSelected.emit(this.item)},this.focusCustomComponentElement=()=>{var t,i,e;(null===(i=null===(t=this.customComponentElement)||void 0===t?void 0:t.shadowRoot)||void 0===i?void 0:i.delegatesFocus)&&(null===(e=this.customComponentElement)||void 0===e||e.focus())},this.item=void 0,this.useMobileLayout=!1,this.isOpen=!1,this.tooltipId=o()}render(){var t,i;return(null===(i=null===(t=this.item)||void 0===t?void 0:t.actionBarMenu)||void 0===i?void 0:i.componentName)?this.renderPopover():this.renderButton(this.handleClick)}openWatcher(){this.isOpen&&new IntersectionObserver(this.focusCustomComponentElement).observe(this.customComponentElement)}renderPopover(){var t;const i=null===(t=this.item)||void 0===t?void 0:t.actionBarMenu.componentName;return e("limel-popover",{openDirection:this.useMobileLayout?"top":"right",open:this.isOpen||this.item.actionBarMenu.menuOpen,onClose:this.onPopoverClose},this.renderButton(this.openPopover,"trigger"),e(i,Object.assign({ref:this.setCustomComponentElement},this.item.actionBarMenu.props||{},{onClose:this.onPopoverClose})))}renderButton(t,i){return e("button",{slot:i,tabindex:"0",id:this.tooltipId,type:"button",class:{button:!0},onClick:t,"aria-live":"polite"},this.renderIcon(),this.renderLabel(),this.renderTooltip(),this.renderNotification())}renderIcon(){if(this.item.icon)return e("limel-icon",{name:this.item.icon,class:"icon"})}renderLabel(){return e("span",{class:"text"},this.item.label)}renderTooltip(){return this.item.label?e("limel-tooltip",{elementId:this.tooltipId,label:this.item.label,helperLabel:this.item.helperLabel}):this.item.helperLabel?e("limel-tooltip",{elementId:this.tooltipId,label:this.item.helperLabel}):void 0}static get watchers(){return{isOpen:["openWatcher"]}}};r.style="button{all:unset;transition:color 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease-out;cursor:pointer;color:var(--limel-action-bar-item-text-color);background-color:var(--action-bar-background-color);box-sizing:border-box;display:flex;align-items:center;width:100%;height:var(--action-bar-item-height);border-radius:var(--action-bar-item-height);font-size:0.875rem;padding:0 0.5rem;min-width:var(--action-bar-item-height)}button:hover{color:var(--mdc-theme-on-surface);background-color:var(--lime-elevated-surface-background-color);box-shadow:var(--button-shadow-hovered)}button:active{background-color:var(--mdc-theme-surface);box-shadow:var(--button-shadow-inset-pressed);transform:translate3d(0, 0.05rem, 0)}button:focus{outline:none}button:focus-visible{outline:none;box-shadow:var(--shadow-depth-8-focused)}.text{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-left:0.5rem;padding-right:0.75rem}.icon{flex-shrink:0;width:calc(var(--action-bar-item-height) - 0.75rem);height:calc(var(--action-bar-item-height) - 0.75rem);color:var(--action-bar-item-icon-color, var(--limel-action-bar-item-text-color))}";export{r as limel_action_bar_button}