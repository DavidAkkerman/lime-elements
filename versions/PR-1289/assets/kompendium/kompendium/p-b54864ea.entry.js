import{r as t,h as e,g as n,a as i,c as s}from"./p-5a80af50.js";import{s as r}from"./p-913596d1.js";import{c as o}from"./p-a5bfdd98.js";import{m as a,a as c,s as l,b as h,c as u,d,e as p,f as m,g as f,h as g,i as v,j as b,k as y,l as w,n as k,o as x,p as M}from"./p-9b6a9315.js";import{A as L}from"./p-c8547fcd.js";function j(t){return Array.isArray?Array.isArray(t):"[object Array]"===C(t)}function _(t){return"string"==typeof t}function S(t){return"number"==typeof t}function $(t){return"object"==typeof t}function P(t){return null!=t}function O(t){return!t.trim().length}function C(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const A=Object.prototype.hasOwnProperty;class z{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach((t=>{let n=R(t);e+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight})),this._keys.forEach((t=>{t.weight/=e}))}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function R(t){let e=null,n=null,i=null,s=1;if(_(t)||j(t))i=t,e=T(t),n=I(t);else{if(!A.call(t,"name"))throw new Error("Missing name property in key");const r=t.name;if(i=r,A.call(t,"weight")&&(s=t.weight,s<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(r));e=T(r),n=I(r)}return{path:e,id:n,weight:s,src:i}}function T(t){return j(t)?t:t.split(".")}function I(t){return j(t)?t.join("."):t}var H={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(t,e){let n=[],i=!1;const s=(t,e,r)=>{if(P(t))if(e[r]){const o=t[e[r]];if(!P(o))return;if(r===e.length-1&&(_(o)||S(o)||function(t){return!0===t||!1===t||function(t){return $(t)&&null!==t}(t)&&"[object Boolean]"==C(t)}(o)))n.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(o));else if(j(o)){i=!0;for(let t=0,n=o.length;t<n;t+=1)s(o[t],e,r+1)}else e.length&&s(o,e,r+1)}else n.push(t)};return s(t,_(e)?e.split("."):e,0),i?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1};const F=/[^ ]+/g;class N{constructor({getFn:t=H.getFn}={}){this.norm=function(t=3){const e=new Map,n=Math.pow(10,t);return{get(t){const i=t.match(F).length;if(e.has(i))return e.get(i);const s=1/Math.sqrt(i),r=parseFloat(Math.round(s*n)/n);return e.set(i,r),r},clear(){e.clear()}}}(3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,_(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const e=this.size();_(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!P(t)||O(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach(((e,i)=>{let s=this.getFn(t,e.path);if(P(s))if(j(s)){let t=[];const e=[{nestedArrIndex:-1,value:s}];for(;e.length;){const{nestedArrIndex:n,value:i}=e.pop();if(P(i))if(_(i)&&!O(i)){let e={v:i,i:n,n:this.norm.get(i)};t.push(e)}else j(i)&&i.forEach(((t,n)=>{e.push({nestedArrIndex:n,value:t})}))}n.$[i]=t}else if(!O(s)){let t={v:s,n:this.norm.get(s)};n.$[i]=t}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function E(t,e,{getFn:n=H.getFn}={}){const i=new N({getFn:n});return i.setKeys(t.map(R)),i.setSources(e),i.create(),i}function U(t,{errors:e=0,currentLocation:n=0,expectedLocation:i=0,distance:s=H.distance,ignoreLocation:r=H.ignoreLocation}={}){const o=e/t.length;if(r)return o;const a=Math.abs(i-n);return s?o+a/s:a?1:o}function V(t){let e={};for(let n=0,i=t.length;n<i;n+=1){const s=t.charAt(n);e[s]=(e[s]||0)|1<<i-n-1}return e}class B{constructor(t,{location:e=H.location,threshold:n=H.threshold,distance:i=H.distance,includeMatches:s=H.includeMatches,findAllMatches:r=H.findAllMatches,minMatchCharLength:o=H.minMatchCharLength,isCaseSensitive:a=H.isCaseSensitive,ignoreLocation:c=H.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:i,includeMatches:s,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:c},this.pattern=a?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(t,e)=>{this.chunks.push({pattern:t,alphabet:V(t),startIndex:e})},h=this.pattern.length;if(h>32){let t=0;const e=h%32,n=h-e;for(;t<n;)l(this.pattern.substr(t,32),t),t+=32;if(e){const t=h-32;l(this.pattern.substr(t),t)}}else l(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:i,distance:s,threshold:r,findAllMatches:o,minMatchCharLength:a,ignoreLocation:c}=this.options;let l=[],h=0,u=!1;this.chunks.forEach((({pattern:e,alphabet:d,startIndex:p})=>{const{isMatch:m,score:f,indices:g}=function(t,e,n,{location:i=H.location,distance:s=H.distance,threshold:r=H.threshold,findAllMatches:o=H.findAllMatches,minMatchCharLength:a=H.minMatchCharLength,includeMatches:c=H.includeMatches,ignoreLocation:l=H.ignoreLocation}={}){if(e.length>32)throw new Error("Pattern length exceeds max of 32.");const h=e.length,u=t.length,d=Math.max(0,Math.min(i,u));let p=r,m=d;const f=a>1||c,g=f?Array(u):[];let v;for(;(v=t.indexOf(e,m))>-1;){let t=U(e,{currentLocation:v,expectedLocation:d,distance:s,ignoreLocation:l});if(p=Math.min(t,p),m=v+h,f){let t=0;for(;t<h;)g[v+t]=1,t+=1}}m=-1;let b=[],y=1,w=h+u;const k=1<<h-1;for(let i=0;i<h;i+=1){let r=0,a=w;for(;r<a;)U(e,{errors:i,currentLocation:d+a,expectedLocation:d,distance:s,ignoreLocation:l})<=p?r=a:w=a,a=Math.floor((w-r)/2+r);w=a;let c=Math.max(1,d-a+1),v=o?u:Math.min(d+a,u)+h,x=Array(v+2);x[v+1]=(1<<i)-1;for(let r=v;r>=c;r-=1){let o=r-1,a=n[t.charAt(o)];if(f&&(g[o]=+!!a),x[r]=(x[r+1]<<1|1)&a,i&&(x[r]|=(b[r+1]|b[r])<<1|1|b[r+1]),x[r]&k&&(y=U(e,{errors:i,currentLocation:o,expectedLocation:d,distance:s,ignoreLocation:l}),y<=p)){if(p=y,m=o,m<=d)break;c=Math.max(1,2*d-m)}}if(U(e,{errors:i+1,currentLocation:d,expectedLocation:d,distance:s,ignoreLocation:l})>p)break;b=x}const x={isMatch:m>=0,score:Math.max(.001,y)};if(f){const t=function(t=[],e=H.minMatchCharLength){let n=[],i=-1,s=-1,r=0;for(let o=t.length;r<o;r+=1){let o=t[r];o&&-1===i?i=r:o||-1===i||(s=r-1,s-i+1>=e&&n.push([i,s]),i=-1)}return t[r-1]&&r-i>=e&&n.push([i,r-1]),n}(g,a);t.length?c&&(x.indices=t):x.isMatch=!1}return x}(t,e,d,{location:i+p,distance:s,threshold:r,findAllMatches:o,minMatchCharLength:a,includeMatches:n,ignoreLocation:c});m&&(u=!0),h+=f,m&&g&&(l=[...l,...g])}));let d={isMatch:u,score:u?h/this.chunks.length:1};return u&&n&&(d.indices=l),d}}class D{constructor(t){this.pattern=t}static isMultiMatch(t){return J(t,this.multiRegex)}static isSingleMatch(t){return J(t,this.singleRegex)}search(){}}function J(t,e){const n=t.match(e);return n?n[1]:null}class W extends D{constructor(t,{location:e=H.location,threshold:n=H.threshold,distance:i=H.distance,includeMatches:s=H.includeMatches,findAllMatches:r=H.findAllMatches,minMatchCharLength:o=H.minMatchCharLength,isCaseSensitive:a=H.isCaseSensitive,ignoreLocation:c=H.ignoreLocation}={}){super(t),this._bitapSearch=new B(t,{location:e,threshold:n,distance:i,includeMatches:s,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class q extends D{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const i=[],s=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+s,i.push([e,n-1]);const r=!!i.length;return{isMatch:r,score:r?0:1,indices:i}}}const Y=[class extends D{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},q,class extends D{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends D{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends D{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends D{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends D{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},W],K=Y.length,X=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,G=new Set([W.type,q.type]);const Q=[];function Z(t,e){for(let n=0,i=Q.length;n<i;n+=1){let i=Q[n];if(i.condition(t,e))return new i(t,e)}return new B(t,e)}const tt=t=>!(!t.$and&&!t.$or),et=t=>({$and:Object.keys(t).map((e=>({[e]:t[e]})))});function nt(t,e,{auto:n=!0}={}){const i=t=>{let s=Object.keys(t);const r=(t=>!!t.$path)(t);if(!r&&s.length>1&&!tt(t))return i(et(t));if((t=>!j(t)&&$(t)&&!tt(t))(t)){const i=r?t.$path:s[0],o=r?t.$val:t[i];if(!_(o))throw new Error((t=>`Invalid value for key ${t}`)(i));const a={keyId:I(i),pattern:o};return n&&(a.searcher=Z(o,e)),a}let o={children:[],operator:s[0]};return s.forEach((e=>{const n=t[e];j(n)&&n.forEach((t=>{o.children.push(i(t))}))})),o};return tt(t)||(t=et(t)),i(t)}function it(t,e){const n=t.matches;e.matches=[],P(n)&&n.forEach((t=>{if(!P(t.indices)||!t.indices.length)return;const{indices:n,value:i}=t;let s={indices:n,value:i};t.key&&(s.key=t.key.src),t.idx>-1&&(s.refIndex=t.idx),e.matches.push(s)}))}function st(t,e){e.score=t.score}class rt{constructor(t,e={},n){this.options={...H,...e},this._keyStore=new z(this.options.keys),this.setCollection(t,n)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof N))throw new Error("Incorrect 'index' type");this._myIndex=e||E(this.options.keys,this._docs,{getFn:this.options.getFn})}add(t){P(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let n=0,i=this._docs.length;n<i;n+=1){const s=this._docs[n];t(s,n)&&(this.removeAt(n),n-=1,i-=1,e.push(s))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:s,sortFn:r,ignoreFieldNorm:o}=this.options;let a=_(t)?_(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=H.ignoreFieldNorm}){t.forEach((t=>{let n=1;t.matches.forEach((({key:t,norm:i,score:s})=>{const r=t?t.weight:null;n*=Math.pow(0===s&&r?Number.EPSILON:s,(r||1)*(e?1:i))})),t.score=n}))}(a,{ignoreFieldNorm:o}),s&&a.sort(r),S(e)&&e>-1&&(a=a.slice(0,e)),function(t,e,{includeMatches:n=H.includeMatches,includeScore:i=H.includeScore}={}){const s=[];return n&&s.push(it),i&&s.push(st),t.map((t=>{const{idx:n}=t,i={item:e[n],refIndex:n};return s.length&&s.forEach((e=>{e(t,i)})),i}))}(a,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(t){const e=Z(t,this.options),{records:n}=this._myIndex,i=[];return n.forEach((({v:t,i:n,n:s})=>{if(!P(t))return;const{isMatch:r,score:o,indices:a}=e.searchIn(t);r&&i.push({item:t,idx:n,matches:[{score:o,value:t,norm:s,indices:a}]})})),i}_searchLogical(t){const e=nt(t,this.options),n=(t,e,i)=>{if(!t.children){const{keyId:n,searcher:s}=t,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:s});return r&&r.length?[{idx:i,item:e,matches:r}]:[]}switch(t.operator){case"$and":{const s=[];for(let r=0,o=t.children.length;r<o;r+=1){const o=n(t.children[r],e,i);if(!o.length)return[];s.push(...o)}return s}case"$or":{const s=[];for(let r=0,o=t.children.length;r<o;r+=1){const o=n(t.children[r],e,i);if(o.length){s.push(...o);break}}return s}}},i={},s=[];return this._myIndex.records.forEach((({$:t,i:r})=>{if(P(t)){let o=n(e,t,r);o.length&&(i[r]||(i[r]={idx:r,item:t,matches:[]},s.push(i[r])),o.forEach((({matches:t})=>{i[r].matches.push(...t)})))}})),s}_searchObjectList(t){const e=Z(t,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach((({$:t,i})=>{if(!P(t))return;let r=[];n.forEach(((n,i)=>{r.push(...this._findMatches({key:n,value:t[i],searcher:e}))})),r.length&&s.push({idx:i,item:t,matches:r})})),s}_findMatches({key:t,value:e,searcher:n}){if(!P(e))return[];let i=[];if(j(e))e.forEach((({v:e,i:s,n:r})=>{if(!P(e))return;const{isMatch:o,score:a,indices:c}=n.searchIn(e);o&&i.push({score:a,key:t,value:e,idx:s,norm:r,indices:c})}));else{const{v:s,n:r}=e,{isMatch:o,score:a,indices:c}=n.searchIn(s);o&&i.push({score:a,key:t,value:s,norm:r,indices:c})}return i}}rt.version="6.4.6",rt.createIndex=E,rt.parseIndex=function(t,{getFn:e=H.getFn}={}){const{keys:n,records:i}=t,s=new N({getFn:e});return s.setKeys(n),s.setIndexRecords(i),s},rt.config=H,rt.parseQuery=nt,Q.push(class{constructor(t,{isCaseSensitive:e=H.isCaseSensitive,includeMatches:n=H.includeMatches,minMatchCharLength:i=H.minMatchCharLength,ignoreLocation:s=H.ignoreLocation,findAllMatches:r=H.findAllMatches,location:o=H.location,threshold:a=H.threshold,distance:c=H.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:i,findAllMatches:r,ignoreLocation:s,location:o,threshold:a,distance:c},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map((t=>{let n=t.trim().split(X).filter((t=>t&&!!t.trim())),i=[];for(let t=0,s=n.length;t<s;t+=1){const s=n[t];let r=!1,o=-1;for(;!r&&++o<K;){const t=Y[o];let n=t.isMultiMatch(s);n&&(i.push(new t(n,e)),r=!0)}if(!r)for(o=-1;++o<K;){const t=Y[o];let n=t.isSingleMatch(s);if(n){i.push(new t(n,e));break}}}return i}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let s=0,r=[],o=0;for(let i=0,a=e.length;i<a;i+=1){const a=e[i];r.length=0,s=0;for(let e=0,i=a.length;e<i;e+=1){const i=a[e],{isMatch:c,indices:l,score:h}=i.search(t);if(!c){o=0,s=0,r.length=0;break}s+=1,o+=h,n&&(G.has(i.constructor.type)?r=[...r,...l]:r.push(l))}if(s){let t={isMatch:!0,score:o/s};return n&&(t.indices=r),t}}return{isMatch:!1,score:1}}});const ot=class{constructor(e){t(this,e),this.path="/kompendium.json",this.onMessage=this.onMessage.bind(this)}componentWillLoad(){this.createWebSocket(),this.fetchData()}watchData(){const t=rt.parseIndex(this.data.index.data);this.index=new rt(this.data.index.documents,{includeScore:!0,includeMatches:!0,ignoreLocation:!0,threshold:.4},t)}createWebSocket(){if(this.socket)return;const t=function(t){return`${"https:"===t.protocol?"wss:":"ws:"}//${t.hostname}:${t.port}/`}(location);this.socket=new WebSocket(t),this.socket.addEventListener("message",this.onMessage)}onMessage(t){var e;try{1===(null===(e=JSON.parse(t.data).buildLog)||void 0===e?void 0:e.progress)&&this.fetchData()}catch(t){console.error(t)}}async fetchData(){const t=await fetch(this.path);this.data=await t.json();const e=this.data.types.map((t=>t.name));r(e)}render(){return this.data?e("div",{class:"kompendium-body"},e("kompendium-navigation",{menu:this.data.menu,header:this.data.title,logo:this.data.logo,index:this.index}),e("main",{role:"main"},e("stencil-router",{historyType:"hash"},e("stencil-route-switch",{scrollTopOffset:0},e("stencil-route",{url:"/",component:"kompendium-markdown",componentProps:{text:this.data.readme},exact:!0}),e("stencil-route",{url:"/component/:name/:section?",component:"kompendium-component",componentProps:{docs:this.data.docs,schemas:this.data.schemas}}),e("stencil-route",{url:"/type/:name",component:"kompendium-type",componentProps:{types:this.data.types}}),e("stencil-route",{url:"/debug/:name",component:"kompendium-debug",componentProps:{docs:this.data.docs,schemas:this.data.schemas}}),e("stencil-route",{component:"kompendium-guide",componentProps:{data:this.data}}))))):e("div",{class:"loading-screen"},e("div",{class:"loading-screen-icon"}),e("div",{class:"loading-screen-text"},"Loading..."))}static get watchers(){return{data:["watchData"]}}};ot.style="*,*::before,*::after{box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}ul[class],ol[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%}input,button,textarea,select{font:inherit}@media (prefers-reduced-motion: reduce){*{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important;scroll-behavior:auto !important}}:root{--width-nav-panel:16rem}@keyframes spin{to{transform:rotate(360deg)}}.loading-screen{display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;top:0;right:0;bottom:0;left:0}.loading-screen-icon{animation:spin 0.35s linear infinite;border-radius:50%;border-style:solid;border-width:0.125rem;border-color:rgb(var(--kompendium-color-blue-default));border-top-color:transparent;display:inline-block;height:1.25rem;width:1.25rem}.loading-screen-text{padding-left:0.75rem;color:rgb(var(--kompendium-contrast-1100))}:host{display:block;margin:0;padding:0}main{padding:1.25rem 2rem;margin-left:var(--width-nav-panel)}main kompendium-guide{display:block;width:100%;max-width:60rem}@media (max-width: 1400px){main{padding-top:2.625rem;margin-left:0}}";const at=class{constructor(e){t(this,e),this.route="",this.toggleMenu=()=>{const t=this.host.shadowRoot.querySelector(".nav-panel");t&&t.classList.toggle("display-nav-panel")},this.setRoute=this.setRoute.bind(this),this.renderMenuItem=this.renderMenuItem.bind(this)}connectedCallback(){window.addEventListener("hashchange",this.setRoute),this.setRoute()}disconnectedCallback(){window.removeEventListener("hashchange",this.setRoute)}setRoute(){this.route=location.hash.substr(1)}render(){return e("nav",{class:"nav-panel"},e("a",{class:"nav-panel__responsive-menu",onClick:this.toggleMenu},e("span",null),e("span",null),e("span",null),e("span",null)),e("header",{class:"panel-header"},e("h1",null,this.renderHeader()),e("kompendium-search",{index:this.index})),this.renderChapters(this.menu))}renderHeader(){let t=this.header;return this.logo&&(t=e("img",{alt:this.header,src:this.logo})),e("a",{href:"#"},t)}renderChapters(t){if(t&&t.length)return e("ul",{class:"panel-list"},t.map(this.renderMenuItem),e("div",{class:"powered-by"},e("p",null,"Powered by ",e("a",{href:"https://github.com/jgroth/kompendium"},"Kompendium"))))}renderMenuItem(t){const i={active:this.isRouteActive(t.path),chapters:!0,"panel-list":!0},s={"panel-link":!0,active:this.isRouteActive(t.path)},r=t.children||[],o=n("../collection/assets/icons/arrow-right-s-line.svg");return e("li",{class:"panel-item"},e("a",{class:s,href:"#"+t.path},e("img",{src:o}),e("span",{class:"link-text"},t.title)),e("ul",{class:i},r.map(this.renderMenuItem)))}isRouteActive(t){return this.route.startsWith(t)}get host(){return i(this)}};at.style='*,*::before,*::after{box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}ul[class],ol[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%}input,button,textarea,select{font:inherit}@media (prefers-reduced-motion: reduce){*{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important;scroll-behavior:auto !important}}:root{--width-nav-panel:16rem}:host{display:block;font-family:var(--kompendium-font-primary);--size-show-nav-panel-button:2.25rem}header a{text-decoration:none;color:unset}.nav-panel{transition:margin 0.2s ease;z-index:100;width:var(--width-nav-panel);height:100vh;position:fixed;background-color:rgb(var(--kompendium-contrast-400));display:flex;flex-direction:column}.nav-panel .panel-header{flex-direction:row;padding:1rem;border-bottom:1px solid rgb(var(--kompendium-contrast-600));margin-bottom:0.5rem}.nav-panel .panel-header h1{font-size:1rem;font-weight:normal;letter-spacing:0.5ch;color:rgb(var(--kompendium-contrast-800));margin:0.125rem 0 0.5rem 0}.nav-panel .panel-list{overflow-y:auto}.nav-panel .panel-list:not(.chapters){padding:0 0.25rem 2rem 0.25rem}.powered-by{position:absolute;bottom:0;font-size:0.75rem;padding:0.5rem 0.75rem;background-color:rgba(var(--kompendium-contrast-100), 0.4);backdrop-filter:blur(0.25rem);width:100%;margin-left:-0.25rem}.powered-by p{padding-left:1.75rem;background-image:url(\'data:image/svg+xml;utf8,<svg viewBox="0 0 148 80" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><path fill="none" d="M-.003 0h148v80h-148z"/><path d="M148.008 20c0-11.038-8.96-20-19.999-20H19.977c-11.038 0-20 8.962-20 20v40c0 11.038 8.962 20 20 20H128.01c11.038 0 20-8.962 20-20V20z" fill="rgb(36,71,88)"/><path d="M26.564 43.651v14.604H19.26V43.65h7.304zm0-7.302H19.26V21.745h7.304V36.35z" fill="rgb(255,160,0)"/><path d="M106.82 58.254v-7.303h7.304V43.65h7.304v-7.301h-7.304v-7.303h-7.304v-7.302h7.304v7.302h7.304v7.303h7.293v7.301h-7.293v7.302h-7.304v7.303h-7.304zm-43.812 0v-7.303h7.304V43.65h7.304v-7.301h7.303v-7.303h7.293v-7.302h7.304v7.302h-7.304v7.303H84.92v7.301h-7.303v7.302h-7.304v7.303h-7.304zm-14.597 0v-7.303h-7.304V43.65h-7.304v-7.301h7.304v-7.303h7.304v-7.302h7.293v7.302H48.41v7.303h-7.304v7.301h7.304v7.302h7.293v7.303H48.41z" fill="rgb(0,200,82)"/></svg>\');background-position:left center;background-repeat:no-repeat;background-size:1.5rem}.powered-by a{transition:color 0.2s ease;color:rgb(var(--kompendium-color-blue-default));text-decoration:none}.powered-by a:hover{color:rgb(var(--kompendium-color-blue-light))}.nav-panel__responsive-menu{transition:background-color 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease-out;box-shadow:var(--kompendium-button-shadow-normal);transition:all 0.2s ease;display:none;cursor:pointer;position:absolute;top:0.75rem;right:calc((var(--size-show-nav-panel-button) * -1) - 1rem);width:var(--size-show-nav-panel-button);height:var(--size-show-nav-panel-button);margin:0.25rem;border-radius:50%;text-align:center;font-weight:bold;background-color:rgba(var(--kompendium-contrast-200), 0.7);backdrop-filter:blur(0.25rem);color:rgb(var(--kompendium-contrast-900))}.nav-panel__responsive-menu:hover{box-shadow:var(--kompendium-button-shadow-hovered)}.nav-panel__responsive-menu:active{box-shadow:var(--kompendium-button-shadow-pressed);transform:translate3d(0, 0.08rem, 0)}.nav-panel__responsive-menu span{transition:background-color 0.2s ease, transform 0.2s ease 0.3s, opacity 0.15s ease 0.3s;display:block;position:absolute;left:0;right:0;margin:auto;height:0.125rem;width:1rem;border-radius:0.25rem;background-color:rgb(var(--kompendium-contrast-900))}.nav-panel__responsive-menu span:nth-child(1){top:0.75rem}.nav-panel__responsive-menu span:nth-child(2),.nav-panel__responsive-menu span:nth-child(3){top:0;bottom:0}.nav-panel__responsive-menu span:nth-child(4){bottom:0.75rem}.nav-panel__responsive-menu:hover span{background-color:rgb(var(--kompendium-contrast-1200))}@media (max-width: 1400px){.nav-panel{margin-left:calc(var(--width-nav-panel) * -1)}.nav-panel.display-nav-panel{margin-left:0;box-shadow:0 0.09375rem 0.225rem 0 rgba(0, 0, 0, 0.232), 0 0.01875rem 0.05625rem 0 rgba(0, 0, 0, 0.208)}.nav-panel.display-nav-panel .nav-panel__responsive-menu{right:calc( (var(--size-show-nav-panel-button) * -1) - 0.3125rem );border-radius:0 0.5rem 0.5rem 0}.nav-panel.display-nav-panel .nav-panel__responsive-menu span:nth-child(1),.nav-panel.display-nav-panel .nav-panel__responsive-menu span:nth-child(4){transform:scaleX(0);opacity:0}.nav-panel.display-nav-panel .nav-panel__responsive-menu span:nth-child(2){transform:rotate(45deg)}.nav-panel.display-nav-panel .nav-panel__responsive-menu span:nth-child(3){transform:rotate(-45deg)}.nav-panel__responsive-menu{display:block}}.panel-item{transition:opacity 0.2s ease;width:100%;padding-right:0.75rem}.panel-link{display:grid;grid-auto-flow:column;grid-template-columns:1.25rem 1fr;line-height:1.75rem;color:rgb(var(--kompendium-contrast-900));text-decoration:none;border-radius:0.375rem}.panel-link:hover,.panel-link.active{color:rgb(var(--kompendium-color-blue-default))}.panel-link.active img{transform:rotate(90deg) scale(0.8)}.panel-link img{transition:transform 0.2s ease;transform:scale(0.8);height:2rem}.link-text{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;padding-left:0.5rem}.chapters{height:0;transition:height 0.2s ease}.chapters.active{height:100%;padding-left:1.25rem}.chapters.active .panel-item{opacity:1;transition-delay:0.2s}.chapters.active .panel-item:nth-child(1){transition-delay:0s}.chapters.active .panel-item:nth-child(2){transition-delay:0.04s}.chapters.active .panel-item:nth-child(3){transition-delay:0.06s}.chapters.active .panel-item:nth-child(4){transition-delay:0.08s}.chapters.active .panel-item:nth-child(5){transition-delay:0.1s}.chapters.active .panel-item:nth-child(6){transition-delay:0.12s}.chapters.active .panel-item:nth-child(7){transition-delay:0.14s}.chapters.active .panel-item:nth-child(8){transition-delay:0.15s}.chapters.active .panel-item:nth-child(9){transition-delay:0.16s}.chapters.active .panel-item:nth-child(10){transition-delay:0.17s}.chapters.active .panel-item:nth-child(11){transition-delay:0.18s}.chapters.active .panel-item:nth-child(12){transition-delay:0.19s}.chapters.active .panel-item:last-child{margin-bottom:1rem}.chapters img{visibility:hidden}.chapters .panel-item{opacity:0}.chapters .panel-item .chapters{font-size:0.8125rem;padding-left:0.5rem}.chapters .panel-item .chapters:first-child{margin-top:0.25rem}.chapters .panel-item .chapters:last-child{margin-bottom:0.5rem}';var ct=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},lt="object"==typeof self&&self&&self.Object===Object&&self,ht="object"==typeof o&&o&&o.Object===Object&&o||lt||Function("return this")(),ut=function(){return ht.Date.now()},dt=/\s/,pt=/^\s+/,mt=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&dt.test(t.charAt(e)););return e}(t)+1).replace(pt,""):t},ft=ht.Symbol,gt=Object.prototype,vt=gt.hasOwnProperty,bt=gt.toString,yt=ft?ft.toStringTag:void 0,wt=Object.prototype.toString,kt=ft?ft.toStringTag:void 0,xt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":kt&&kt in Object(t)?function(t){var e=vt.call(t,yt),n=t[yt];try{t[yt]=void 0;var i=!0}catch(t){}var s=bt.call(t);return i&&(e?t[yt]=n:delete t[yt]),s}(t):function(t){return wt.call(t)}(t)},Mt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,jt=/^0o[0-7]+$/i,_t=parseInt,St=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==xt(t)}(t))return NaN;if(ct(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ct(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=mt(t);var n=Lt.test(t);return n||jt.test(t)?_t(t.slice(2),n?2:8):Mt.test(t)?NaN:+t},$t=Math.max,Pt=Math.min;const Ot=class{constructor(n){t(this,n),this.documents=[],this.renderDocument=t=>e("li",null,e("a",{href:"#"+t.path,onClick:this.handleLinkClick},e("span",{class:"link-text"},t.title))),this.handleChangeInput=t=>{this.search(t.target.value)},this.handleLinkClick=()=>{var t;null===(t=this.host.shadowRoot.activeElement)||void 0===t||t.blur()},this.search=function(t,e,n){var i,s,r,o,a,c,l=0,h=!1,u=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=i,r=s;return i=s=void 0,l=e,o=t.apply(r,n)}function m(t){return l=t,a=setTimeout(g,e),h?p(t):o}function f(t){var n=t-c;return void 0===c||n>=e||n<0||u&&t-l>=r}function g(){var t=ut();if(f(t))return v(t);a=setTimeout(g,function(t){var n=e-(t-c);return u?Pt(n,r-(t-l)):n}(t))}function v(t){return a=void 0,d&&i?p(t):(i=s=void 0,o)}function b(){var t=ut(),n=f(t);if(i=arguments,s=this,c=t,n){if(void 0===a)return m(c);if(u)return clearTimeout(a),a=setTimeout(g,e),p(c)}return void 0===a&&(a=setTimeout(g,e)),o}return e=St(e)||0,ct(n)&&(h=!!n.leading,r=(u="maxWait"in n)?$t(St(n.maxWait)||0,e):r,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==a&&clearTimeout(a),l=0,i=c=s=a=void 0},b.flush=function(){return void 0===a?o:v(ut())},b}(this.search,300)}componentDidLoad(){this.host.shadowRoot.querySelector("input").focus()}render(){const t={result:!0,"has-results":this.documents.length>0};return e("div",{class:"search-box"},e("input",{type:"search",autoFocus:!0,placeholder:"Search",onInput:this.handleChangeInput}),e("ul",{class:t},this.documents.map(this.renderDocument)))}search(t){const e=this.index.search(t);this.documents=e.map((t=>t.item)).slice(0,10)}get host(){return i(this)}};Ot.style='*,*::before,*::after{box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}ul[class],ol[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%}input,button,textarea,select{font:inherit}@media (prefers-reduced-motion: reduce){*{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important;scroll-behavior:auto !important}}:host{display:block}:host(:focus) .result.has-results,:host(:focus-within) .result.has-results{display:block}@keyframes display-search-results{0%{opacity:0;transform:translate3d(0, -1.25rem, -1rem) rotateX(10deg)}50%{opacity:1}100%{transform:translate3d(0, 0, 0) rotateX(0)}}.search-box{z-index:1;display:flex;flex-direction:column;position:relative;perspective:60rem}.search-box .result.has-results{animation:display-search-results 0.28s ease-out forwards;position:absolute;background:rgb(var(--kompendium-contrast-200));padding:0.5rem;margin-top:2rem;width:100%;border-radius:5px;box-shadow:var(--kompendium-shadow-depth-16);display:none;max-height:calc(100vh - 6rem);overflow-y:auto}.search-box .result.has-results li a{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:background-color 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease-out;display:block;width:100%;padding:0.5rem 0.75rem;border-radius:0.25rem}.search-box .result.has-results li a:hover{box-shadow:var(--kompendium-button-shadow-hovered)}.search-box .result.has-results li a:active{box-shadow:var(--kompendium-button-shadow-pressed);transform:translate3d(0, 0.08rem, 0)}.search-box .result.has-results li:hover a{background:rgb(var(--kompendium-contrast-100))}input{transition:background-color 0.2s ease;border:0;border-radius:0.25rem;padding:0 0.5rem 0 2.25rem;color:rgb(var(--kompendium-contrast-1200));height:2rem;line-height:2rem;background-color:rgb(var(--kompendium-contrast-300));background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5" clip-rule="evenodd" viewBox="0 0 400 400"><defs/><path fill="none" d="M0 0h400v400H0z"/><path d="M275.621 258.31l-16.962 16.979 50.965 50.964.008.009c4.637 4.637 12.268 4.637 16.905 0l.032-.033c4.687-4.687 4.642-12.33.025-16.946l-50.964-50.965-.009-.008z" fill="rgb(48,48,66)"/><circle cx="200" cy="200" r="99.5" fill="rgb(33,150,243)" fill-opacity=".3" stroke="rgb(48,48,66)" stroke-width="13.27" transform="translate(19.096 19.096) scale(.90452)"/><ellipse cx="163.443" cy="186.777" rx="32.324" ry="22.133" fill="rgb(255,255,255)" fill-opacity=".3" transform="rotate(-45 128.405 173.5)"/></svg>\');background-repeat:no-repeat;background-position:left center}input::placeholder{color:rgb(var(--kompendium-contrast-800))}input:active,input:focus,input:hover{background-color:rgb(var(--kompendium-contrast-200))}input:focus{outline:none}input::-webkit-search-cancel-button{-webkit-appearance:none;transition:background-color 0.2s ease;height:1.25rem;width:1.25rem;border-radius:50%;margin-right:-0.25rem;cursor:pointer;background-color:rgb(var(--kompendium-contrast-800));background-repeat:no-repeat;background-position:center;background-size:0.75rem;background-image:url("data:image/svg+xml; utf8, <svg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 32 32\'><defs/><path fill=\'rgb(255,255,255)\' d=\'M7.219 5.781L5.78 7.22 14.563 16 5.78 24.781 7.22 26.22 16 17.437l8.781 8.782 1.438-1.438L17.437 16l8.782-8.781L24.78 5.78 16 14.563z\'/></svg>")}input::-webkit-search-cancel-button:hover{background-color:rgb(var(--kompendium-contrast-1000))}a{text-decoration:none;color:unset}a:hover,a.active{color:rgb(var(--kompendium-color-blue-default))}';const Ct=class{constructor(e){t(this,e),this.group=null,this.match=null,this.componentProps={},this.exact=!1,this.scrollOnNextRender=!1,this.previousMatch=null}computeMatch(t){const e=null!=this.group||null!=this.el.parentElement&&"stencil-route-switch"===this.el.parentElement.tagName.toLowerCase();if(t&&!e)return this.previousMatch=this.match,this.match=a(t.pathname,{path:this.url,exact:this.exact,strict:!0})}async loadCompleted(){let t={};this.history&&this.history.location.hash?t={scrollToId:this.history.location.hash.substr(1)}:this.scrollTopOffset&&(t={scrollTopOffset:this.scrollTopOffset}),"function"==typeof this.componentUpdated?this.componentUpdated(t):this.match&&!c(this.match,this.previousMatch)&&this.routeViewsUpdated&&this.routeViewsUpdated(t)}async componentDidUpdate(){await this.loadCompleted()}async componentDidLoad(){await this.loadCompleted()}render(){if(!this.match||!this.history)return null;const t=Object.assign({},this.componentProps,{history:this.history,match:this.match});return this.routeRender?this.routeRender(Object.assign({},t,{component:this.component})):this.component?e(this.component,Object.assign({},t)):void 0}get el(){return i(this)}static get watchers(){return{location:["computeMatch"]}}};L.injectProps(Ct,["location","history","historyType","routeViewsUpdated"]),Ct.style="stencil-route.inactive{display:none}";const At=t=>"STENCIL-ROUTE"===t.tagName,zt=class{constructor(e){t(this,e),this.group=((1e17*Math.random()).toString().match(/.{4}/g)||[]).join("-"),this.subscribers=[],this.queue=s(this,"queue")}componentWillLoad(){null!=this.location&&this.regenerateSubscribers(this.location)}async regenerateSubscribers(t){if(null==t)return;let e=-1;if(this.subscribers=Array.prototype.slice.call(this.el.children).filter(At).map(((n,i)=>{const s=a(t.pathname,{path:n.url,exact:n.exact,strict:!0});return s&&-1===e&&(e=i),{el:n,match:s}})),-1===e)return;if(this.activeIndex===e)return void(this.subscribers[e].el.match=this.subscribers[e].match);this.activeIndex=e;const n=this.subscribers[this.activeIndex];this.scrollTopOffset&&(n.el.scrollTopOffset=this.scrollTopOffset),n.el.group=this.group,n.el.match=n.match,n.el.componentUpdated=t=>{this.queue.write((()=>{this.subscribers.forEach(((t,e)=>{if(t.el.componentUpdated=void 0,e===this.activeIndex)return t.el.style.display="";this.scrollTopOffset&&(t.el.scrollTopOffset=this.scrollTopOffset),t.el.group=this.group,t.el.match=null,t.el.style.display="none"}))})),this.routeViewsUpdated&&this.routeViewsUpdated(Object.assign({scrollTopOffset:this.scrollTopOffset},t))}}render(){return e("slot",null)}get el(){return i(this)}static get watchers(){return{location:["regenerateSubscribers"]}}};L.injectProps(zt,["location","routeViewsUpdated"]);const Rt=(t,...e)=>{t||console.warn(...e)},Tt=()=>{let t,e=[];return{setPrompt:e=>(Rt(null==t,"A history supports only one prompt at a time"),t=e,()=>{t===e&&(t=null)}),confirmTransitionTo:(e,n,i,s)=>{if(null!=t){const r="function"==typeof t?t(e,n):t;"string"==typeof r?"function"==typeof i?i(r,s):(Rt(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),s(!0)):s(!1!==r)}else s(!0)},appendListener:t=>{let n=!0;const i=(...e)=>{n&&t(...e)};return e.push(i),()=>{n=!1,e=e.filter((t=>t!==i))}},notifyListeners:(...t)=>{e.forEach((e=>e(...t)))}}},It=(t,e="scrollPositions")=>{let n=new Map;const i=(e,i)=>{if(n.set(e,i),l(t,"sessionStorage")){const e=[];n.forEach(((t,n)=>{e.push([n,t])})),t.sessionStorage.setItem("scrollPositions",JSON.stringify(e))}};if(l(t,"sessionStorage")){const i=t.sessionStorage.getItem(e);n=i?new Map(JSON.parse(i)):n}return"scrollRestoration"in t.history&&(history.scrollRestoration="manual"),{set:i,get:t=>n.get(t),has:t=>n.has(t),capture:e=>{i(e,[t.scrollX,t.scrollY])}}},Ht={hashbang:{encodePath:t=>"!"===t.charAt(0)?t:"!/"+x(t),decodePath:t=>"!"===t.charAt(0)?t.substr(1):t},noslash:{encodePath:x,decodePath:p},slash:{encodePath:p,decodePath:p}},Ft=(t,e)=>{const n=0==t.pathname.indexOf(e)?"/"+t.pathname.slice(e.length):t.pathname;return Object.assign({},t,{pathname:n})},Nt={browser:(t,e={})=>{let n=!1;const i=t.history,s=t.location,r=t.navigator,o=h(t),a=!u(r),c=It(t),l=null!=e.forceRefresh&&e.forceRefresh,k=null!=e.getUserConfirmation?e.getUserConfirmation:y,x=null!=e.keyLength?e.keyLength:6,M=e.basename?d(p(e.basename)):"",L=()=>{try{return t.history.state||{}}catch(t){return{}}},j=t=>{t=t||{};const{key:e,state:n}=t,{pathname:i,search:r,hash:o}=s;let a=i+r+o;return Rt(!M||g(a,M),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+M+'".'),M&&(a=v(a,M)),m(a,n,e||f(x))},_=Tt(),S=t=>{c.capture(N.location.key),Object.assign(N,t),N.location.scrollPosition=c.get(N.location.key),N.length=i.length,_.notifyListeners(N.location,N.action)},$=t=>{w(r,t)||O(j(t.state))},P=()=>{O(j(L()))},O=t=>{if(n)n=!1,S();else{const e="POP";_.confirmTransitionTo(t,e,k,(n=>{n?S({action:e,location:t}):C(t)}))}},C=t=>{let e=z.indexOf(N.location.key),i=z.indexOf(t.key);-1===e&&(e=0),-1===i&&(i=0);const s=e-i;s&&(n=!0,H(s))},A=j(L());let z=[A.key],R=0,T=!1;const I=t=>M+b(t),H=t=>{i.go(t)},F=e=>{R+=e,1===R?(t.addEventListener("popstate",$),a&&t.addEventListener("hashchange",P)):0===R&&(t.removeEventListener("popstate",$),a&&t.removeEventListener("hashchange",P))},N={length:i.length,action:"POP",location:A,createHref:I,push:(t,e)=>{Rt(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");const n="PUSH",r=m(t,e,f(x),N.location);_.confirmTransitionTo(r,n,k,(t=>{if(!t)return;const e=I(r),{key:a,state:c}=r;if(o)if(i.pushState({key:a,state:c},"",e),l)s.href=e;else{const t=z.indexOf(N.location.key),e=z.slice(0,-1===t?0:t+1);e.push(r.key),z=e,S({action:n,location:r})}else Rt(void 0===c,"Browser history cannot push state in browsers that do not support HTML5 history"),s.href=e}))},replace:(t,e)=>{Rt(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");const n="REPLACE",r=m(t,e,f(x),N.location);_.confirmTransitionTo(r,n,k,(t=>{if(!t)return;const e=I(r),{key:a,state:c}=r;if(o)if(i.replaceState({key:a,state:c},"",e),l)s.replace(e);else{const t=z.indexOf(N.location.key);-1!==t&&(z[t]=r.key),S({action:n,location:r})}else Rt(void 0===c,"Browser history cannot replace state in browsers that do not support HTML5 history"),s.replace(e)}))},go:H,goBack:()=>H(-1),goForward:()=>H(1),block:(t="")=>{const e=_.setPrompt(t);return T||(F(1),T=!0),()=>(T&&(T=!1,F(-1)),e())},listen:t=>{const e=_.appendListener(t);return F(1),()=>{F(-1),e()}},win:t};return N},hash:(t,e={})=>{let n=!1,i=null,s=0,r=!1;const o=t.location,a=t.history,c=k(t.navigator),l=null!=e.keyLength?e.keyLength:6,{getUserConfirmation:h=y,hashType:u="slash"}=e,w=e.basename?d(p(e.basename)):"",{encodePath:x,decodePath:L}=Ht[u],j=()=>{const t=o.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},_=t=>{const e=o.href.indexOf("#");o.replace(o.href.slice(0,e>=0?e:0)+"#"+t)},S=()=>{let t=L(j());return Rt(!w||g(t,w),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+w+'".'),w&&(t=v(t,w)),m(t,void 0,f(l))},$=Tt(),P=t=>{Object.assign(N,t),N.length=a.length,$.notifyListeners(N.location,N.action)},O=()=>{const t=j(),e=x(t);if(t!==e)_(e);else{const t=S(),e=N.location;if(!n&&M(e,t))return;if(i===b(t))return;i=null,C(t)}},C=t=>{if(n)n=!1,P();else{const e="POP";$.confirmTransitionTo(t,e,h,(n=>{n?P({action:e,location:t}):A(t)}))}},A=t=>{let e=I.lastIndexOf(b(N.location)),i=I.lastIndexOf(b(t));-1===e&&(e=0),-1===i&&(i=0);const s=e-i;s&&(n=!0,H(s))},z=j(),R=x(z);z!==R&&_(R);const T=S();let I=[b(T)];const H=t=>{Rt(c,"Hash history go(n) causes a full page reload in this browser"),a.go(t)},F=(t,e)=>{s+=e,1===s?t.addEventListener("hashchange",O):0===s&&t.removeEventListener("hashchange",O)},N={length:a.length,action:"POP",location:T,createHref:t=>"#"+x(w+b(t)),push:(t,e)=>{Rt(void 0===e,"Hash history cannot push state; it is ignored");const n="PUSH",s=m(t,void 0,f(l),N.location);$.confirmTransitionTo(s,n,h,(t=>{if(!t)return;const e=b(s),r=x(w+e);if(j()!==r){i=e,(t=>{o.hash=t})(r);const t=I.lastIndexOf(b(N.location)),a=I.slice(0,-1===t?0:t+1);a.push(e),I=a,P({action:n,location:s})}else Rt(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),P()}))},replace:(t,e)=>{Rt(void 0===e,"Hash history cannot replace state; it is ignored");const n="REPLACE",s=m(t,void 0,f(l),N.location);$.confirmTransitionTo(s,n,h,(t=>{if(!t)return;const e=b(s),r=x(w+e);j()!==r&&(i=e,_(r));const o=I.indexOf(b(N.location));-1!==o&&(I[o]=e),P({action:n,location:s})}))},go:H,goBack:()=>H(-1),goForward:()=>H(1),block:(e="")=>{const n=$.setPrompt(e);return r||(F(t,1),r=!0),()=>(r&&(r=!1,F(t,-1)),n())},listen:e=>{const n=$.appendListener(e);return F(t,1),()=>{F(t,-1),n()}},win:t};return N}},Et=class{constructor(e){t(this,e),this.root="/",this.historyType="browser",this.titleSuffix="",this.routeViewsUpdated=(t={})=>{if(this.history&&t.scrollToId&&"browser"===this.historyType){const e=this.history.win.document.getElementById(t.scrollToId);if(e)return e.scrollIntoView()}this.scrollTo(t.scrollTopOffset||this.scrollTopOffset)},this.isServer=s(this,"isServer"),this.queue=s(this,"queue")}componentWillLoad(){this.history=Nt[this.historyType](this.el.ownerDocument.defaultView),this.history.listen((t=>{t=Ft(t,this.root),this.location=t})),this.location=Ft(this.history.location,this.root)}scrollTo(t){const e=this.history;if(null!=t&&!this.isServer&&e)return"POP"===e.action&&Array.isArray(e.location.scrollPosition)?this.queue.write((()=>{e&&e.location&&Array.isArray(e.location.scrollPosition)&&e.win.scrollTo(e.location.scrollPosition[0],e.location.scrollPosition[1])})):this.queue.write((()=>{e.win.scrollTo(0,t)}))}render(){if(this.location&&this.history)return e(L.Provider,{state:{historyType:this.historyType,location:this.location,titleSuffix:this.titleSuffix,root:this.root,history:this.history,routeViewsUpdated:this.routeViewsUpdated}},e("slot",null))}get el(){return i(this)}};export{ot as kompendium_app,at as kompendium_navigation,Ot as kompendium_search,Ct as stencil_route,zt as stencil_route_switch,Et as stencil_router}