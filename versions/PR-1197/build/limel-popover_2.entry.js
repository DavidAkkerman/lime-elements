import{r as e,c as r,h as o,g as t}from"./index-9cbaf4f2.js";import"./_baseGetTag-accbac5b.js";import"./isObject-7039fcda.js";import"./eq-5dc06ea1.js";import"./_defineProperty-f13bbdd5.js";import{a as i}from"./_assignValue-9df5f80a.js";import{c as s}from"./random-string-2246b81e.js";function a(e,r){var o;if(e.contains(r)||(null===(o=e.shadowRoot)||void 0===o?void 0:o.contains(r)))return!0;const t=function(e){const r=e.closest(".limel-portal--container");return r?r.portalSource:e.getRootNode().host}(r);return!!t&&a(e,t)}const c=class{constructor(o){e(this,o),this.close=r(this,"close",7),this.open=!1,this.stopPropagation=!0,this.portalId=s(),this.globalClickListener=this.globalClickListener.bind(this)}watchOpen(){this.setupClickHandler()}componentWillLoad(){this.setupClickHandler()}setupClickHandler(){this.open?document.addEventListener("click",this.globalClickListener,{capture:!0}):document.removeEventListener("click",this.globalClickListener)}render(){const e=this.getCssProperties();return o("div",{class:"trigger-anchor"},o("slot",{name:"trigger"}),o("limel-portal",{visible:this.open,containerId:this.portalId},o("limel-popover-surface",{contentCollection:this.host.children,style:e})))}globalClickListener(e){const r=a(this.host,e.target);this.open&&!r&&(this.stopPropagation&&e.stopPropagation(),this.close.emit())}getCssProperties(){const e=["--popover-surface-width","--popover-body-background-color","--popover-border-radius"],r=getComputedStyle(this.host),o=e.map((e=>r.getPropertyValue(e)));return function(e,r){return function(e,r,o){for(var t=-1,i=e.length,s=r.length,a={};++t<i;)o(a,e[t],t<s?r[t]:void 0);return a}(e||[],r||[],i)}(e,o)}get host(){return t(this)}static get watchers(){return{open:["watchOpen"]}}};c.style=".trigger-anchor{display:inline-block;position:relative}";const n=class{constructor(r){e(this,r)}componentDidLoad(){this.appendElement()}render(){return o("div",{class:"limel-popover-surface",tabindex:"0"})}appendElement(){const e=this.host.shadowRoot.querySelector(".limel-popover-surface");Array.from(this.contentCollection).forEach((r=>{"trigger"!==r.slot&&e.appendChild(r)}))}get host(){return t(this)}};n.style='.limel-popover-surface{position:relative;display:flex;flex-direction:column;width:var(--popover-surface-width, auto);max-height:calc(100vh - 2rem);max-width:calc(100vw - 2rem);border-radius:var(--popover-border-radius, 0.75rem);box-shadow:var(--shadow-depth-16);backdrop-filter:blur(0.3125rem)}.limel-popover-surface:after{transition:opacity 0.4s ease;pointer-events:none;content:"";position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1;opacity:0.7;border-radius:var(--popover-border-radius, 0.75rem);background-color:var(--popover-body-background-color, rgb(var(--contrast-100)))}.limel-popover-surface:focus,.limel-popover-surface:focus-within{outline:none}.limel-popover-surface:focus:after,.limel-popover-surface:focus-within:after{opacity:1}.limel-popover-surface:focus-visible{box-shadow:var(--shadow-depth-16-focused)}';export{c as limel_popover,n as limel_popover_surface}