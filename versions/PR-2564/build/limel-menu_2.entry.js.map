{"version":3,"names":["menuCss","Menu","constructor","hostRef","this","setTriggerAttributes","element","attributes","open","disabled","role","key","value","Object","entries","removeAttribute","setAttribute","String","onClose","cancel","emit","onTriggerClick","event","stopPropagation","handleSelect","select","detail","setListElement","list","focusMenuItem","activeElement","shadowRoot","blur","MenuItems","items","filter","isMenuItem","selectedIndex","Math","max","findIndex","item","selected","menuElements","Array","from","querySelectorAll","_a","focus","renderNotificationBadge","some","hasNotificationBadge","h","badge","undefined","setTriggerRef","elm","triggerElement","portalId","createRandomString","openWatcher","observer","IntersectionObserver","unobserve","observe","render","cssProperties","getCssProperties","dropdownZIndex","getComputedStyle","host","getPropertyValue","menuSurfaceWidth","getMenuSurfaceWidth","class","onClick","ref","name","visible","containerId","openDirection","position","containerStyle","onDismiss","style","assign","gridLayout","type","badgeIcons","onSelect","componentDidRender","slotElement","querySelector","assignedElements","forEach","propertyNames","values","map","property","zipObject","customWidth","surfaceWidth","assignedTriggers","length","_b","clientWidth","_c","_d","cssClasses","MENU_SELECTED_LIST_ITEM","MENU_SELECTION_GROUP","ROOT","strings","ARIA_CHECKED_ATTR","ARIA_DISABLED_ATTR","CHECKBOX_SELECTOR","LIST_SELECTOR","SELECTED_EVENT","SKIP_RESTORE_FOCUS","numbers","FOCUS_ROOT_INDEX","DefaultFocusState","MDCMenuFoundation","_super","__extends","adapter","_this","call","__assign","defaultAdapter","closeAnimationEndTimerId","defaultFocusState","LIST_ROOT","defineProperty","get","enumerable","configurable","addClassToElementAtIndex","removeClassFromElementAtIndex","addAttributeToElementAtIndex","removeAttributeFromElementAtIndex","getAttributeFromElementAtIndex","elementContainsClass","closeSurface","getElementIndex","notifySelected","getMenuItemCount","focusItemAtIndex","focusListRoot","getSelectedSiblingOfItemAtIndex","isSelectableItemAtIndex","prototype","destroy","clearTimeout","handleKeydown","evt","keyCode","isTab","handleItemAction","listItem","index","skipRestoreFocus","setTimeout","recomputedIndex","setSelectedIndex","MDCMenuSurfaceFoundation","TRANSITION_CLOSE_DURATION","handleMenuSurfaceOpened","FIRST_ITEM","LAST_ITEM","NONE","setDefaultFocusState","focusState","getSelectedIndex","validatedIndex","Error","prevSelectedIndex","setEnabled","isEnabled","listCssClasses","LIST_ITEM_DISABLED_CLASS","menuSize","isIndexInRange","MDCFoundation","MDCMenu","apply","arguments","attachTo","root","initialize","menuSurfaceFactory","listFactory","el","MDCMenuSurface","MDCList","initialSyncWithDOM","menuSurface","wrapFocus","foundation","listen","OPENED_EVENT","MDCListFoundation","ACTION_EVENT","unlisten","isOpen","set","close","hasTypeahead","typeaheadInProgress","typeaheadMatchItem","nextChar","startingIndex","layout","listElements","singleSelection","listConstants","UNSET_INDEX","quickOpen","setAnchorCorner","corner","setAnchorMargin","margin","getOptionByIndex","getPrimaryTextAtIndex","getPrimaryText","setFixedPosition","isFixed","setIsHoisted","isHoisted","setAbsolutePosition","x","y","setAnchorElement","anchorElement","getDefaultFoundation","className","classList","add","remove","attr","getAttribute","contains","indexOf","evtData","closest","selectionGroupEl","selectedItemEl","MDCComponent","MenuListRenderer","defaultConfig","getIndexForWhichToApplyTabIndex","result","i","renderMenuItem","rendertext","classNames","applyTabIndexToItemAtIndex","tabindex","icon","renderIcon","config","renderText","renderNotification","twoLines","avatarList","renderDivider","isSimpleItem","text","renderCommandText","secondaryText","commandText","iconColor","color","size","iconSize","label","classes","commandKey","hasIcons","selectable","includes","menuListCss","menuStrings","MenuList","setup","setupMenu","setupListeners","mdcMenu","teardown","MDCRipple","handleMenuSelect","handleSingleSelect","selectedItem","find","connectedCallback","disconnectedCallback","componentDidLoad","html","handleType","itemsChanged"],"sources":["./src/components/menu/menu.scss?tag=limel-menu&encapsulation=shadow","./src/components/menu/menu.tsx","./node_modules/@material/menu/constants.js","./node_modules/@material/menu/foundation.js","./node_modules/@material/menu/component.js","./src/components/menu-list/menu-list-renderer.tsx","./src/components/menu-list/menu-list.scss?tag=limel-menu-list&encapsulation=shadow","./src/components/menu-list/menu-list.tsx"],"sourcesContent":["@use '../../style/functions';\n\n// Note! The `--dropdown-z-index` property is used from `menu.tsx`.\n\n/**\n * @prop --dropdown-z-index: `z-index` of the dropdown menu.\n * @prop --menu-surface-width: Width of the menu surface. Overrides the width defined by `surfaceWidth`.\n * @prop --list-grid-item-max-width: Maximum width of items in the menu list when `gridLayout={true}`. Defaults to `10rem`.\n * @prop --list-grid-item-min-width: Minimum width of items in the menu list when `gridLayout={true}`. Defaults to `7.5rem`.\n * @prop --list-grid-gap: Distance between the items in the menu list when `gridLayout={true}`. Defaults to `0.75rem`.\n * @prop --notification-badge-text-color: Defines the text color of notification badges. Defaults to `--color-white`.\n * @prop --notification-badge-background-color: Defines the background color of notification badges. Defaults to `--color-red-default`.\n */\n\n:host(limel-menu) {\n    isolation: isolate;\n    position: relative;\n    display: inline-block;\n    --badge-background-color: var(\n        --notification-badge-background-color,\n        rgb(var(--color-red-default))\n    );\n    --badge-text-color: var(\n        --notification-badge-text-color,\n        rgb(var(--color-white))\n    );\n}\n\n:host([hidden]) {\n    display: none;\n}\n\n.menu__trigger {\n    border-color: transparent;\n    border-width: 1px;\n    border-style: solid;\n    background: none;\n    color: rgb(var(--contrast-800));\n    height: functions.pxToRem(36);\n\n    &-enabled {\n        &:hover {\n            border-color: rgb(var(--contrast-800));\n            color: rgb(var(--contrast-1100));\n        }\n    }\n}\n\n.mdc-menu-surface--anchor {\n    position: relative;\n}\n\nlimel-badge {\n    position: absolute;\n    top: -0.25rem;\n    right: -0.25rem;\n}\n","import {\n    Component,\n    Event,\n    EventEmitter,\n    h,\n    Prop,\n    Element,\n    Watch,\n} from '@stencil/core';\nimport { createRandomString } from '../../util/random-string';\nimport { zipObject } from 'lodash-es';\nimport {\n    ListSeparator,\n    MenuItem,\n    OpenDirection,\n    SurfaceWidth,\n} from '../../interface';\n\n/**\n * @slot trigger - Element to use as a trigger for the menu.\n * @exampleComponent limel-example-menu-basic\n * @exampleComponent limel-example-menu-disabled\n * @exampleComponent limel-example-menu-open-direction\n * @exampleComponent limel-example-menu-surface-width\n * @exampleComponent limel-example-menu-separators\n * @exampleComponent limel-example-menu-icons\n * @exampleComponent limel-example-menu-badge-icons\n * @exampleComponent limel-example-menu-grid\n * @exampleComponent limel-example-menu-hotkeys\n * @exampleComponent limel-example-menu-secondary-text\n * @exampleComponent limel-example-menu-notification\n * @exampleComponent limel-example-menu-composite\n */\n@Component({\n    tag: 'limel-menu',\n    shadow: true,\n    styleUrl: 'menu.scss',\n})\nexport class Menu {\n    /**\n     * A list of items and separators to show in the menu.\n     */\n    @Prop()\n    public items: Array<MenuItem | ListSeparator> = [];\n\n    /**\n     * Sets the disabled state of the menu.\n     */\n    @Prop({ reflect: true })\n    public disabled = false;\n\n    /**\n     * Decides the menu's location in relation to its trigger\n     */\n    @Prop({ reflect: true })\n    public openDirection: OpenDirection = 'bottom-start';\n\n    /**\n     * Decides the width of menu's dropdown\n     */\n    @Prop({ reflect: true })\n    public surfaceWidth: SurfaceWidth = 'inherit-from-items';\n\n    /**\n     * Sets the open state of the menu.\n     */\n    @Prop({ mutable: true, reflect: true })\n    public open = false;\n\n    /**\n     * Defines whether the menu should show badges.\n     */\n    @Prop({ reflect: true })\n    public badgeIcons = false;\n\n    /**\n     * Renders list items in a grid layout, rather than a vertical list\n     */\n    @Prop({ reflect: true })\n    public gridLayout = false;\n\n    /**\n     * Is emitted when the menu is cancelled.\n     */\n    @Event()\n    private cancel: EventEmitter<void>;\n\n    /**\n     * Is emitted when a menu item is selected.\n     */\n    @Event()\n    private select: EventEmitter<MenuItem | MenuItem[]>;\n\n    @Element()\n    private host: HTMLLimelMenuElement;\n\n    private list: HTMLLimelMenuListElement;\n\n    private portalId: string;\n    private triggerElement: HTMLSlotElement;\n\n    constructor() {\n        this.portalId = createRandomString();\n    }\n\n    @Watch('open')\n    protected openWatcher() {\n        if (!this.open) {\n            return;\n        }\n\n        const observer = new IntersectionObserver(() => {\n            observer.unobserve(this.list);\n            this.focusMenuItem();\n        });\n        observer.observe(this.list);\n    }\n\n    public render() {\n        const cssProperties = this.getCssProperties();\n        const dropdownZIndex = getComputedStyle(this.host).getPropertyValue(\n            '--dropdown-z-index'\n        );\n\n        const menuSurfaceWidth = this.getMenuSurfaceWidth(\n            cssProperties['--menu-surface-width']\n        );\n\n        return (\n            <div class=\"mdc-menu-surface--anchor\" onClick={this.onTriggerClick}>\n                <slot ref={this.setTriggerRef} name=\"trigger\" />\n                {this.renderNotificationBadge()}\n                <limel-portal\n                    visible={this.open}\n                    containerId={this.portalId}\n                    openDirection={this.openDirection}\n                    position=\"absolute\"\n                    containerStyle={{ 'z-index': dropdownZIndex }}\n                >\n                    <limel-menu-surface\n                        open={this.open}\n                        onDismiss={this.onClose}\n                        style={{\n                            ...cssProperties,\n                            '--mdc-menu-min-width': menuSurfaceWidth,\n                            '--limel-menu-surface-display': 'flex',\n                            '--limel-menu-surface-flex-direction': 'column',\n                        }}\n                        class={{\n                            'has-grid-layout': this.gridLayout,\n                        }}\n                    >\n                        <limel-menu-list\n                            class={{\n                                'has-grid-layout has-interactive-items':\n                                    this.gridLayout,\n                            }}\n                            items={this.items}\n                            type=\"menu\"\n                            badgeIcons={this.badgeIcons}\n                            onSelect={this.handleSelect}\n                            ref={this.setListElement}\n                        />\n                    </limel-menu-surface>\n                </limel-portal>\n            </div>\n        );\n    }\n\n    public componentDidRender() {\n        const slotElement = this.host.shadowRoot.querySelector('slot');\n        slotElement.assignedElements().forEach(this.setTriggerAttributes);\n    }\n\n    private setTriggerAttributes = (element: HTMLElement) => {\n        const attributes = {\n            'aria-haspopup': true,\n            'aria-expanded': this.open,\n            disabled: this.disabled,\n            role: 'button',\n        };\n\n        for (const [key, value] of Object.entries(attributes)) {\n            if (!value) {\n                element.removeAttribute(key);\n            } else {\n                element.setAttribute(key, String(value));\n            }\n        }\n    };\n\n    private onClose = () => {\n        this.cancel.emit();\n        this.open = false;\n    };\n\n    private onTriggerClick = (event: MouseEvent) => {\n        event.stopPropagation();\n        if (this.disabled) {\n            return;\n        }\n\n        this.open = !this.open;\n    };\n\n    private handleSelect = (event: CustomEvent<MenuItem>) => {\n        event.stopPropagation();\n        this.select.emit(event.detail);\n        this.open = false;\n    };\n\n    private getCssProperties() {\n        const propertyNames = [\n            '--menu-surface-width',\n            '--list-grid-item-max-width',\n            '--list-grid-item-min-width',\n            '--list-grid-gap',\n            '--notification-badge-background-color',\n            '--notification-badge-text-color',\n        ] as const;\n        const style = getComputedStyle(this.host);\n        const values = propertyNames.map((property) => {\n            return style.getPropertyValue(property);\n        });\n\n        type PropName = (typeof propertyNames)[number];\n\n        return zipObject(propertyNames, values) as Record<PropName, string>;\n    }\n\n    private setListElement = (element: HTMLLimelMenuListElement) => {\n        this.list = element;\n    };\n\n    private focusMenuItem = () => {\n        const activeElement = this.list.shadowRoot.activeElement as HTMLElement;\n        activeElement?.blur();\n\n        const MenuItems = this.items.filter(this.isMenuItem);\n        const selectedIndex = Math.max(\n            MenuItems.findIndex((item) => item.selected),\n            0\n        );\n        const menuElements: HTMLElement[] = Array.from(\n            this.list.shadowRoot.querySelectorAll('[role=\"menuitem\"]')\n        );\n        menuElements[selectedIndex]?.focus();\n    };\n\n    private isMenuItem(item: MenuItem | ListSeparator): item is MenuItem {\n        return !('separator' in item);\n    }\n\n    private renderNotificationBadge = () => {\n        if (this.items.some(this.hasNotificationBadge)) {\n            return <limel-badge />;\n        }\n    };\n\n    private hasNotificationBadge = (item: MenuItem | ListSeparator) =>\n        this.isMenuItem(item) && item.badge !== undefined;\n\n    private setTriggerRef = (elm?: HTMLSlotElement) => {\n        this.triggerElement = elm;\n    };\n\n    private getMenuSurfaceWidth(customWidth: string): string {\n        if (customWidth) {\n            return customWidth;\n        }\n\n        if (this.surfaceWidth === 'inherit-from-trigger') {\n            const assignedTriggers = this.triggerElement?.assignedElements();\n\n            if (\n                !assignedTriggers?.length ||\n                !assignedTriggers[0]?.clientWidth\n            ) {\n                return '';\n            }\n\n            return `${assignedTriggers[0].clientWidth}px`;\n        } else if (this.surfaceWidth === 'inherit-from-menu') {\n            if (!this.host?.clientWidth) {\n                return '';\n            }\n\n            return `${this.host?.clientWidth}px`;\n        }\n\n        return '';\n    }\n}\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar cssClasses = {\n    MENU_SELECTED_LIST_ITEM: 'mdc-menu-item--selected',\n    MENU_SELECTION_GROUP: 'mdc-menu__selection-group',\n    ROOT: 'mdc-menu',\n};\nvar strings = {\n    ARIA_CHECKED_ATTR: 'aria-checked',\n    ARIA_DISABLED_ATTR: 'aria-disabled',\n    CHECKBOX_SELECTOR: 'input[type=\"checkbox\"]',\n    LIST_SELECTOR: '.mdc-list,.mdc-deprecated-list',\n    SELECTED_EVENT: 'MDCMenu:selected',\n    SKIP_RESTORE_FOCUS: 'data-menu-item-skip-restore-focus',\n};\nvar numbers = {\n    FOCUS_ROOT_INDEX: -1,\n};\nvar DefaultFocusState;\n(function (DefaultFocusState) {\n    DefaultFocusState[DefaultFocusState[\"NONE\"] = 0] = \"NONE\";\n    DefaultFocusState[DefaultFocusState[\"LIST_ROOT\"] = 1] = \"LIST_ROOT\";\n    DefaultFocusState[DefaultFocusState[\"FIRST_ITEM\"] = 2] = \"FIRST_ITEM\";\n    DefaultFocusState[DefaultFocusState[\"LAST_ITEM\"] = 3] = \"LAST_ITEM\";\n})(DefaultFocusState || (DefaultFocusState = {}));\nexport { cssClasses, strings, numbers, DefaultFocusState };\n//# sourceMappingURL=constants.js.map","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends } from \"tslib\";\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses as listCssClasses } from '@material/list/constants';\nimport { MDCMenuSurfaceFoundation } from '@material/menu-surface/foundation';\nimport { cssClasses, DefaultFocusState, numbers, strings } from './constants';\nvar MDCMenuFoundation = /** @class */ (function (_super) {\n    __extends(MDCMenuFoundation, _super);\n    function MDCMenuFoundation(adapter) {\n        var _this = _super.call(this, __assign(__assign({}, MDCMenuFoundation.defaultAdapter), adapter)) || this;\n        _this.closeAnimationEndTimerId = 0;\n        _this.defaultFocusState = DefaultFocusState.LIST_ROOT;\n        _this.selectedIndex = -1;\n        return _this;\n    }\n    Object.defineProperty(MDCMenuFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuFoundation, \"strings\", {\n        get: function () {\n            return strings;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuFoundation, \"numbers\", {\n        get: function () {\n            return numbers;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuFoundation, \"defaultAdapter\", {\n        /**\n         * @see {@link MDCMenuAdapter} for typing information on parameters and return types.\n         */\n        get: function () {\n            // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n            return {\n                addClassToElementAtIndex: function () { return undefined; },\n                removeClassFromElementAtIndex: function () { return undefined; },\n                addAttributeToElementAtIndex: function () { return undefined; },\n                removeAttributeFromElementAtIndex: function () { return undefined; },\n                getAttributeFromElementAtIndex: function () { return null; },\n                elementContainsClass: function () { return false; },\n                closeSurface: function () { return undefined; },\n                getElementIndex: function () { return -1; },\n                notifySelected: function () { return undefined; },\n                getMenuItemCount: function () { return 0; },\n                focusItemAtIndex: function () { return undefined; },\n                focusListRoot: function () { return undefined; },\n                getSelectedSiblingOfItemAtIndex: function () { return -1; },\n                isSelectableItemAtIndex: function () { return false; },\n            };\n            // tslint:enable:object-literal-sort-keys\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MDCMenuFoundation.prototype.destroy = function () {\n        if (this.closeAnimationEndTimerId) {\n            clearTimeout(this.closeAnimationEndTimerId);\n        }\n        this.adapter.closeSurface();\n    };\n    MDCMenuFoundation.prototype.handleKeydown = function (evt) {\n        var key = evt.key, keyCode = evt.keyCode;\n        var isTab = key === 'Tab' || keyCode === 9;\n        if (isTab) {\n            this.adapter.closeSurface(/** skipRestoreFocus */ true);\n        }\n    };\n    MDCMenuFoundation.prototype.handleItemAction = function (listItem) {\n        var _this = this;\n        var index = this.adapter.getElementIndex(listItem);\n        if (index < 0) {\n            return;\n        }\n        this.adapter.notifySelected({ index: index });\n        var skipRestoreFocus = this.adapter.getAttributeFromElementAtIndex(index, strings.SKIP_RESTORE_FOCUS) === 'true';\n        this.adapter.closeSurface(skipRestoreFocus);\n        // Wait for the menu to close before adding/removing classes that affect styles.\n        this.closeAnimationEndTimerId = setTimeout(function () {\n            // Recompute the index in case the menu contents have changed.\n            var recomputedIndex = _this.adapter.getElementIndex(listItem);\n            if (recomputedIndex >= 0 &&\n                _this.adapter.isSelectableItemAtIndex(recomputedIndex)) {\n                _this.setSelectedIndex(recomputedIndex);\n            }\n        }, MDCMenuSurfaceFoundation.numbers.TRANSITION_CLOSE_DURATION);\n    };\n    MDCMenuFoundation.prototype.handleMenuSurfaceOpened = function () {\n        switch (this.defaultFocusState) {\n            case DefaultFocusState.FIRST_ITEM:\n                this.adapter.focusItemAtIndex(0);\n                break;\n            case DefaultFocusState.LAST_ITEM:\n                this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount() - 1);\n                break;\n            case DefaultFocusState.NONE:\n                // Do nothing.\n                break;\n            default:\n                this.adapter.focusListRoot();\n                break;\n        }\n    };\n    /**\n     * Sets default focus state where the menu should focus every time when menu\n     * is opened. Focuses the list root (`DefaultFocusState.LIST_ROOT`) element by\n     * default.\n     */\n    MDCMenuFoundation.prototype.setDefaultFocusState = function (focusState) {\n        this.defaultFocusState = focusState;\n    };\n    /** @return Index of the currently selected list item within the menu. */\n    MDCMenuFoundation.prototype.getSelectedIndex = function () {\n        return this.selectedIndex;\n    };\n    /**\n     * Selects the list item at `index` within the menu.\n     * @param index Index of list item within the menu.\n     */\n    MDCMenuFoundation.prototype.setSelectedIndex = function (index) {\n        this.validatedIndex(index);\n        if (!this.adapter.isSelectableItemAtIndex(index)) {\n            throw new Error('MDCMenuFoundation: No selection group at specified index.');\n        }\n        var prevSelectedIndex = this.adapter.getSelectedSiblingOfItemAtIndex(index);\n        if (prevSelectedIndex >= 0) {\n            this.adapter.removeAttributeFromElementAtIndex(prevSelectedIndex, strings.ARIA_CHECKED_ATTR);\n            this.adapter.removeClassFromElementAtIndex(prevSelectedIndex, cssClasses.MENU_SELECTED_LIST_ITEM);\n        }\n        this.adapter.addClassToElementAtIndex(index, cssClasses.MENU_SELECTED_LIST_ITEM);\n        this.adapter.addAttributeToElementAtIndex(index, strings.ARIA_CHECKED_ATTR, 'true');\n        this.selectedIndex = index;\n    };\n    /**\n     * Sets the enabled state to isEnabled for the menu item at the given index.\n     * @param index Index of the menu item\n     * @param isEnabled The desired enabled state of the menu item.\n     */\n    MDCMenuFoundation.prototype.setEnabled = function (index, isEnabled) {\n        this.validatedIndex(index);\n        if (isEnabled) {\n            this.adapter.removeClassFromElementAtIndex(index, listCssClasses.LIST_ITEM_DISABLED_CLASS);\n            this.adapter.addAttributeToElementAtIndex(index, strings.ARIA_DISABLED_ATTR, 'false');\n        }\n        else {\n            this.adapter.addClassToElementAtIndex(index, listCssClasses.LIST_ITEM_DISABLED_CLASS);\n            this.adapter.addAttributeToElementAtIndex(index, strings.ARIA_DISABLED_ATTR, 'true');\n        }\n    };\n    MDCMenuFoundation.prototype.validatedIndex = function (index) {\n        var menuSize = this.adapter.getMenuItemCount();\n        var isIndexInRange = index >= 0 && index < menuSize;\n        if (!isIndexInRange) {\n            throw new Error('MDCMenuFoundation: No list item at specified index.');\n        }\n    };\n    return MDCMenuFoundation;\n}(MDCFoundation));\nexport { MDCMenuFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCMenuFoundation;\n//# sourceMappingURL=foundation.js.map","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __extends } from \"tslib\";\nimport { MDCComponent } from '@material/base/component';\nimport { closest } from '@material/dom/ponyfill';\nimport { MDCList } from '@material/list/component';\nimport { numbers as listConstants } from '@material/list/constants';\nimport { MDCListFoundation } from '@material/list/foundation';\nimport { MDCMenuSurface } from '@material/menu-surface/component';\nimport { MDCMenuSurfaceFoundation } from '@material/menu-surface/foundation';\nimport { cssClasses, strings } from './constants';\nimport { MDCMenuFoundation } from './foundation';\nvar MDCMenu = /** @class */ (function (_super) {\n    __extends(MDCMenu, _super);\n    function MDCMenu() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MDCMenu.attachTo = function (root) {\n        return new MDCMenu(root);\n    };\n    MDCMenu.prototype.initialize = function (menuSurfaceFactory, listFactory) {\n        if (menuSurfaceFactory === void 0) { menuSurfaceFactory = function (el) { return new MDCMenuSurface(el); }; }\n        if (listFactory === void 0) { listFactory = function (el) { return new MDCList(el); }; }\n        this.menuSurfaceFactory = menuSurfaceFactory;\n        this.listFactory = listFactory;\n    };\n    MDCMenu.prototype.initialSyncWithDOM = function () {\n        var _this = this;\n        this.menuSurface = this.menuSurfaceFactory(this.root);\n        var list = this.root.querySelector(strings.LIST_SELECTOR);\n        if (list) {\n            this.list = this.listFactory(list);\n            this.list.wrapFocus = true;\n        }\n        else {\n            this.list = null;\n        }\n        this.handleKeydown = function (evt) {\n            _this.foundation.handleKeydown(evt);\n        };\n        this.handleItemAction = function (evt) {\n            _this.foundation.handleItemAction(_this.items[evt.detail.index]);\n        };\n        this.handleMenuSurfaceOpened = function () {\n            _this.foundation.handleMenuSurfaceOpened();\n        };\n        this.menuSurface.listen(MDCMenuSurfaceFoundation.strings.OPENED_EVENT, this.handleMenuSurfaceOpened);\n        this.listen('keydown', this.handleKeydown);\n        this.listen(MDCListFoundation.strings.ACTION_EVENT, this.handleItemAction);\n    };\n    MDCMenu.prototype.destroy = function () {\n        if (this.list) {\n            this.list.destroy();\n        }\n        this.menuSurface.destroy();\n        this.menuSurface.unlisten(MDCMenuSurfaceFoundation.strings.OPENED_EVENT, this.handleMenuSurfaceOpened);\n        this.unlisten('keydown', this.handleKeydown);\n        this.unlisten(MDCListFoundation.strings.ACTION_EVENT, this.handleItemAction);\n        _super.prototype.destroy.call(this);\n    };\n    Object.defineProperty(MDCMenu.prototype, \"open\", {\n        get: function () {\n            return this.menuSurface.isOpen();\n        },\n        set: function (value) {\n            if (value) {\n                this.menuSurface.open();\n            }\n            else {\n                this.menuSurface.close();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenu.prototype, \"wrapFocus\", {\n        get: function () {\n            return this.list ? this.list.wrapFocus : false;\n        },\n        set: function (value) {\n            if (this.list) {\n                this.list.wrapFocus = value;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenu.prototype, \"hasTypeahead\", {\n        /**\n         * Sets whether the menu has typeahead functionality.\n         * @param value Whether typeahead is enabled.\n         */\n        set: function (value) {\n            if (this.list) {\n                this.list.hasTypeahead = value;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenu.prototype, \"typeaheadInProgress\", {\n        /**\n         * @return Whether typeahead logic is currently matching some user prefix.\n         */\n        get: function () {\n            return this.list ? this.list.typeaheadInProgress : false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Given the next desired character from the user, adds it to the typeahead\n     * buffer. Then, attempts to find the next option matching the buffer. Wraps\n     * around if at the end of options.\n     *\n     * @param nextChar The next character to add to the prefix buffer.\n     * @param startingIndex The index from which to start matching. Only relevant\n     *     when starting a new match sequence. To start a new match sequence,\n     *     clear the buffer using `clearTypeaheadBuffer`, or wait for the buffer\n     *     to clear after a set interval defined in list foundation. Defaults to\n     *     the currently focused index.\n     * @return The index of the matched item, or -1 if no match.\n     */\n    MDCMenu.prototype.typeaheadMatchItem = function (nextChar, startingIndex) {\n        if (this.list) {\n            return this.list.typeaheadMatchItem(nextChar, startingIndex);\n        }\n        return -1;\n    };\n    /**\n     * Layout the underlying list element in the case of any dynamic updates\n     * to its structure.\n     */\n    MDCMenu.prototype.layout = function () {\n        if (this.list) {\n            this.list.layout();\n        }\n    };\n    Object.defineProperty(MDCMenu.prototype, \"items\", {\n        /**\n         * Return the items within the menu. Note that this only contains the set of elements within\n         * the items container that are proper list items, and not supplemental / presentational DOM\n         * elements.\n         */\n        get: function () {\n            return this.list ? this.list.listElements : [];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenu.prototype, \"singleSelection\", {\n        /**\n         * Turns on/off the underlying list's single selection mode. Used mainly\n         * by select menu.\n         *\n         * @param singleSelection Whether to enable single selection mode.\n         */\n        set: function (singleSelection) {\n            if (this.list) {\n                this.list.singleSelection = singleSelection;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenu.prototype, \"selectedIndex\", {\n        /**\n         * Retrieves the selected index. Only applicable to select menus.\n         * @return The selected index, which is a number for single selection and\n         *     radio lists, and an array of numbers for checkbox lists.\n         */\n        get: function () {\n            return this.list ? this.list.selectedIndex : listConstants.UNSET_INDEX;\n        },\n        /**\n         * Sets the selected index of the list. Only applicable to select menus.\n         * @param index The selected index, which is a number for single selection and\n         *     radio lists, and an array of numbers for checkbox lists.\n         */\n        set: function (index) {\n            if (this.list) {\n                this.list.selectedIndex = index;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenu.prototype, \"quickOpen\", {\n        set: function (quickOpen) {\n            this.menuSurface.quickOpen = quickOpen;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Sets default focus state where the menu should focus every time when menu\n     * is opened. Focuses the list root (`DefaultFocusState.LIST_ROOT`) element by\n     * default.\n     * @param focusState Default focus state.\n     */\n    MDCMenu.prototype.setDefaultFocusState = function (focusState) {\n        this.foundation.setDefaultFocusState(focusState);\n    };\n    /**\n     * @param corner Default anchor corner alignment of top-left menu corner.\n     */\n    MDCMenu.prototype.setAnchorCorner = function (corner) {\n        this.menuSurface.setAnchorCorner(corner);\n    };\n    MDCMenu.prototype.setAnchorMargin = function (margin) {\n        this.menuSurface.setAnchorMargin(margin);\n    };\n    /**\n     * Sets the list item as the selected row at the specified index.\n     * @param index Index of list item within menu.\n     */\n    MDCMenu.prototype.setSelectedIndex = function (index) {\n        this.foundation.setSelectedIndex(index);\n    };\n    /**\n     * Sets the enabled state to isEnabled for the menu item at the given index.\n     * @param index Index of the menu item\n     * @param isEnabled The desired enabled state of the menu item.\n     */\n    MDCMenu.prototype.setEnabled = function (index, isEnabled) {\n        this.foundation.setEnabled(index, isEnabled);\n    };\n    /**\n     * @return The item within the menu at the index specified.\n     */\n    MDCMenu.prototype.getOptionByIndex = function (index) {\n        var items = this.items;\n        if (index < items.length) {\n            return this.items[index];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @param index A menu item's index.\n     * @return The primary text within the menu at the index specified.\n     */\n    MDCMenu.prototype.getPrimaryTextAtIndex = function (index) {\n        var item = this.getOptionByIndex(index);\n        if (item && this.list) {\n            return this.list.getPrimaryText(item) || '';\n        }\n        return '';\n    };\n    MDCMenu.prototype.setFixedPosition = function (isFixed) {\n        this.menuSurface.setFixedPosition(isFixed);\n    };\n    MDCMenu.prototype.setIsHoisted = function (isHoisted) {\n        this.menuSurface.setIsHoisted(isHoisted);\n    };\n    MDCMenu.prototype.setAbsolutePosition = function (x, y) {\n        this.menuSurface.setAbsolutePosition(x, y);\n    };\n    /**\n     * Sets the element that the menu-surface is anchored to.\n     */\n    MDCMenu.prototype.setAnchorElement = function (element) {\n        this.menuSurface.anchorElement = element;\n    };\n    MDCMenu.prototype.getDefaultFoundation = function () {\n        var _this = this;\n        // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.\n        // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.\n        // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n        var adapter = {\n            addClassToElementAtIndex: function (index, className) {\n                var list = _this.items;\n                list[index].classList.add(className);\n            },\n            removeClassFromElementAtIndex: function (index, className) {\n                var list = _this.items;\n                list[index].classList.remove(className);\n            },\n            addAttributeToElementAtIndex: function (index, attr, value) {\n                var list = _this.items;\n                list[index].setAttribute(attr, value);\n            },\n            removeAttributeFromElementAtIndex: function (index, attr) {\n                var list = _this.items;\n                list[index].removeAttribute(attr);\n            },\n            getAttributeFromElementAtIndex: function (index, attr) {\n                var list = _this.items;\n                return list[index].getAttribute(attr);\n            },\n            elementContainsClass: function (element, className) {\n                return element.classList.contains(className);\n            },\n            closeSurface: function (skipRestoreFocus) {\n                _this.menuSurface.close(skipRestoreFocus);\n            },\n            getElementIndex: function (element) { return _this.items.indexOf(element); },\n            notifySelected: function (evtData) {\n                _this.emit(strings.SELECTED_EVENT, {\n                    index: evtData.index,\n                    item: _this.items[evtData.index],\n                });\n            },\n            getMenuItemCount: function () { return _this.items.length; },\n            focusItemAtIndex: function (index) {\n                _this.items[index].focus();\n            },\n            focusListRoot: function () {\n                _this.root.querySelector(strings.LIST_SELECTOR).focus();\n            },\n            isSelectableItemAtIndex: function (index) {\n                return !!closest(_this.items[index], \".\" + cssClasses.MENU_SELECTION_GROUP);\n            },\n            getSelectedSiblingOfItemAtIndex: function (index) {\n                var selectionGroupEl = closest(_this.items[index], \".\" + cssClasses.MENU_SELECTION_GROUP);\n                var selectedItemEl = selectionGroupEl.querySelector(\".\" + cssClasses.MENU_SELECTED_LIST_ITEM);\n                return selectedItemEl ? _this.items.indexOf(selectedItemEl) : -1;\n            },\n        };\n        // tslint:enable:object-literal-sort-keys\n        return new MDCMenuFoundation(adapter);\n    };\n    return MDCMenu;\n}(MDCComponent));\nexport { MDCMenu };\n//# sourceMappingURL=component.js.map","import { ListSeparator, MenuItem } from '../../interface';\nimport { h } from '@stencil/core';\nimport { MenuListRendererConfig } from './menu-list-renderer-config';\n\nexport class MenuListRenderer {\n    private defaultConfig: MenuListRendererConfig = {\n        isOpen: true,\n        badgeIcons: false,\n    };\n\n    private config: MenuListRendererConfig;\n\n    private hasIcons: boolean;\n    private twoLines: boolean;\n    private avatarList: boolean;\n    private commandKey: boolean;\n\n    private applyTabIndexToItemAtIndex: number;\n\n    public render(\n        items: Array<MenuItem | ListSeparator>,\n        config: MenuListRendererConfig = {}\n    ) {\n        items = items || [];\n        this.config = { ...this.defaultConfig, ...config };\n\n        this.twoLines = items.some((item) => {\n            return 'secondaryText' in item && !!item.secondaryText;\n        });\n\n        this.commandKey = items.some((item) => {\n            return 'commandText' in item && !!item.commandText;\n        });\n\n        this.hasIcons = items.some((item) => {\n            return 'icon' in item && !!item.icon;\n        });\n\n        this.avatarList = this.config.badgeIcons && this.hasIcons;\n\n        this.applyTabIndexToItemAtIndex =\n            this.getIndexForWhichToApplyTabIndex(items);\n\n        const classNames = {\n            'mdc-deprecated-list': true,\n            'mdc-deprecated-list--two-line': this.twoLines,\n            selectable: true,\n            'mdc-deprecated-list--avatar-list': this.avatarList,\n            'list--compact':\n                this.twoLines &&\n                this.commandKey &&\n                ['small', 'x-small'].includes(this.config.iconSize),\n        };\n\n        return (\n            <ul\n                class={classNames}\n                aria-hidden={true}\n                role=\"menu\"\n                aria-orientation=\"vertical\"\n                style={{ '--maxLinesSecondaryText': '2' }}\n            >\n                {items.map(this.renderMenuItem)}\n            </ul>\n        );\n    }\n\n    /**\n     * Determine which MenuItem should have the `tab-index` attribute set,\n     * and return the index at which that MenuItem is located in `items`.\n     * Returns `undefined` if no item should have the attribute set.\n     * See https://github.com/material-components/material-components-web/tree/e66a43a75fef4f9179e24856649518e15e279a04/packages/mdc-list#accessibility\n     * @param {Array<MenuItem | ListSeparator>} items the items of the list, including any `ListSeparator`:s\n     * @returns {number} the index as per the description\n     */\n    private getIndexForWhichToApplyTabIndex = (\n        items: Array<MenuItem | ListSeparator>\n    ) => {\n        let result;\n        for (let i = 0, max = items.length; i < max; i += 1) {\n            if ('separator' in items[i]) {\n                // Ignore ListSeparator\n            } else {\n                const item = items[i] as MenuItem<any>;\n                if (item.selected) {\n                    result = i;\n                    break;\n                }\n\n                if (result === undefined && !item.disabled) {\n                    result = i;\n                    // Do NOT break, as any later item with\n                    // `selected=true` should get the tab-index instead!\n                }\n            }\n        }\n\n        return result;\n    };\n\n    /**\n     * Render a single list item\n     * @param {MenuItem | ListSeparator} item the item to render\n     * @param {number} index the index the item had in the `items` array\n     * @returns {HTMLElement} the list item\n     */\n    private renderMenuItem = (\n        item: MenuItem | ListSeparator,\n        index: number\n    ) => {\n        if ('separator' in item) {\n            return (\n                <li class=\"mdc-deprecated-list-divider\" role=\"separator\">\n                    {this.rendertext(item)}\n                    <div class=\"limel-list-divider-line\" />\n                </li>\n            );\n        }\n\n        const classNames = {\n            'mdc-deprecated-list-item': true,\n            'mdc-deprecated-list-item--disabled': item.disabled,\n            'mdc-deprecated-list-item--selected': item.selected,\n        };\n\n        const attributes: { tabindex?: string } = {};\n        if (index === this.applyTabIndexToItemAtIndex) {\n            attributes.tabindex = '0';\n        }\n\n        return (\n            <li\n                class={classNames}\n                role=\"menuitem\"\n                aria-disabled={item.disabled ? 'true' : 'false'}\n                aria-selected={item.selected ? 'true' : 'false'}\n                data-index={index}\n                {...attributes}\n            >\n                {item.icon ? this.renderIcon(this.config, item) : null}\n                {this.renderText(item)}\n                {this.renderNotification(item)}\n                {this.twoLines && this.avatarList ? this.renderDivider() : null}\n            </li>\n        );\n    };\n\n    /**\n     * Render the text of the list item\n     * @param {MenuItem} item the list item\n     * @returns {HTMLElement | string} the text for the list item\n     */\n    private renderText = (item: MenuItem) => {\n        if (this.isSimpleItem(item)) {\n            return (\n                <span class=\"mdc-deprecated-list-item__text\">{item.text}</span>\n            );\n        }\n\n        return (\n            <div class=\"mdc-deprecated-list-item__text\">\n                <div class=\"mdc-deprecated-list-item__primary-command-text\">\n                    <div class=\"mdc-deprecated-list-item__primary-text\">\n                        {item.text}\n                    </div>\n                    {this.renderCommandText(item)}\n                </div>\n                <div class=\"mdc-deprecated-list-item__secondary-text\">\n                    {item.secondaryText}\n                </div>\n            </div>\n        );\n    };\n\n    private rendertext = (item: ListSeparator) => {\n        if ('text' in item) {\n            return <h2 class=\"limel-list-divider-title\">{item.text}</h2>;\n        }\n    };\n\n    private renderCommandText = (item: MenuItem) => {\n        if (!('commandText' in item)) {\n            return;\n        }\n\n        return (\n            <div class=\"mdc-deprecated-list-item__command-text\">\n                {item.commandText}\n            </div>\n        );\n    };\n\n    private isSimpleItem = (item: MenuItem): boolean => {\n        if ('commandText' in item) {\n            return false;\n        }\n\n        return !('secondaryText' in item);\n    };\n\n    /**\n     * Render an icon for a list item\n     * @param {MenuListRendererConfig} config the config object, passed on from the `renderMenuItem` function\n     * @param {MenuItem} item the list item\n     * @returns {HTMLElement} the icon element\n     */\n    private renderIcon = (config: MenuListRendererConfig, item: MenuItem) => {\n        const style: any = {};\n        if (item.iconColor) {\n            if (config.badgeIcons) {\n                style['--icon-background-color'] = item.iconColor;\n            } else {\n                style.color = item.iconColor;\n            }\n        }\n\n        return (\n            <limel-icon\n                badge={config.badgeIcons}\n                class=\"mdc-deprecated-list-item__graphic\"\n                name={item.icon}\n                style={style}\n                size={config.iconSize}\n            />\n        );\n    };\n\n    private renderNotification = (item: MenuItem) => {\n        if (item.badge !== undefined) {\n            return <limel-badge label={item.badge} />;\n        }\n    };\n\n    private renderDivider = () => {\n        const classes = {\n            'mdc-deprecated-list-divider': true,\n            'mdc-deprecated-list-divider--inset': true,\n        };\n        if (this.config.iconSize) {\n            classes[this.config.iconSize] = true;\n        }\n\n        return <hr class={classes} />;\n    };\n}\n","@use '../../style/functions';\n\n@import '../list/list';\n\n:host(limel-menu-list) {\n    display: block;\n    --badge-background-color: var(\n        --notification-badge-background-color,\n        rgb(var(--color-red-default))\n    );\n    --badge-text-color: var(\n        --notification-badge-text-color,\n        rgb(var(--color-white))\n    );\n}\n\n.mdc-menu {\n    max-height: 70vh; // force tall menus render inside the viewport when menu is at the bottom of the screen\n}\n\n.mdc-deprecated-list {\n    margin: functions.pxToRem(4);\n    // added space to visualize keyboard-focused items\n    .mdc-deprecated-list-item[role='menuitem'] {\n        font-size: functions.pxToRem(13);\n\n        .mdc-deprecated-list-item__graphic {\n            margin-right: functions.pxToRem(14);\n        }\n    }\n\n    hr.mdc-deprecated-list-divider {\n        &.mdc-deprecated-list-divider--inset {\n            display: none;\n        }\n    }\n}\n\nlimel-badge {\n    transform: translateX(0.75rem);\n}\n","import {\n    IconSize,\n    ListSeparator,\n    MenuItem,\n    MenuListType,\n} from '../../interface';\nimport { MDCMenu, MDCMenuItemEvent } from '@material/menu';\nimport { MDCRipple } from '@material/ripple';\nimport { strings as menuStrings } from '@material/menu/constants';\nimport {\n    Component,\n    Element,\n    Event,\n    EventEmitter,\n    h,\n    Prop,\n    Watch,\n} from '@stencil/core';\nimport { MenuListRenderer } from './menu-list-renderer';\nimport { MenuListRendererConfig } from './menu-list-renderer-config';\n\nconst { SELECTED_EVENT } = menuStrings;\n\n/**\n * @private\n */\n@Component({\n    tag: 'limel-menu-list',\n    shadow: true,\n    styleUrl: 'menu-list.scss',\n})\nexport class MenuList {\n    /**\n     * List of items to display\n     */\n    @Prop()\n    public items: Array<MenuItem | ListSeparator>;\n\n    /**\n     * Set to `true` if the list should display larger icons with a background\n     */\n    @Prop()\n    public badgeIcons: boolean;\n\n    /**\n     * Size of the icons in the list\n     */\n    @Prop()\n    public iconSize: IconSize = 'small';\n\n    /**\n     * The type of the menu, omit to get a regular vertical menu.\n     * Available types are:\n     * `menu`: regular vertical menu.\n     */\n    @Prop()\n    public type: MenuListType;\n\n    /**\n     * By default, lists will display 3 lines of text, and then truncate the rest.\n     * Consumers can increase or decrease this number by specifying\n     * `maxLinesSecondaryText`. If consumer enters zero or negative\n     * numbers we default to 1; and if they type decimals we round up.\n     */\n    // eslint-disable-next-line no-magic-numbers\n    @Prop() maxLinesSecondaryText: number = 3;\n\n    @Element()\n    private element: HTMLLimelMenuListElement;\n\n    private config: MenuListRendererConfig;\n    private MenuListRenderer = new MenuListRenderer();\n    private mdcMenu: MDCMenu;\n\n    /**\n     * Fired when a new value has been selected from the list.\n     */\n    @Event()\n    private select: EventEmitter<MenuItem>;\n\n    public connectedCallback() {\n        this.setup();\n    }\n\n    public disconnectedCallback() {\n        this.teardown();\n    }\n\n    public componentDidLoad() {\n        this.setup();\n    }\n\n    public render() {\n        this.config = {\n            badgeIcons: this.badgeIcons,\n            type: this.type,\n            iconSize: this.iconSize,\n        };\n\n        const html = this.MenuListRenderer.render(this.items, this.config);\n\n        return <div class=\"mdc-menu mdc-menu-surface\">{html}</div>;\n    }\n\n    @Watch('type')\n    protected handleType() {\n        this.setupListeners();\n    }\n\n    @Watch('items')\n    protected itemsChanged() {\n        setTimeout(() => {\n            this.setup();\n        }, 0);\n    }\n\n    private setup = () => {\n        this.setupMenu();\n        this.setupListeners();\n    };\n\n    private setupMenu = () => {\n        if (this.mdcMenu) {\n            this.teardown();\n            this.mdcMenu = null;\n        }\n\n        const element = this.element.shadowRoot.querySelector('.mdc-menu');\n        if (!element) {\n            return;\n        }\n\n        this.mdcMenu = new MDCMenu(element);\n        this.mdcMenu.hasTypeahead = true;\n        this.mdcMenu.wrapFocus = true;\n        this.mdcMenu.items.forEach((item) => new MDCRipple(item));\n    };\n\n    private setupListeners = () => {\n        if (!this.mdcMenu) {\n            return;\n        }\n\n        this.mdcMenu.unlisten(SELECTED_EVENT, this.handleMenuSelect);\n        this.mdcMenu.listen(SELECTED_EVENT, this.handleMenuSelect);\n    };\n\n    private teardown = () => {\n        this.mdcMenu?.unlisten(SELECTED_EVENT, this.handleMenuSelect);\n        this.mdcMenu?.destroy();\n    };\n\n    private handleMenuSelect = (event: MDCMenuItemEvent) => {\n        this.handleSingleSelect(event.detail.index);\n    };\n\n    private handleSingleSelect = (index: number) => {\n        const MenuItems = this.items.filter(this.isMenuItem) as MenuItem[];\n        if (MenuItems[index].disabled) {\n            return;\n        }\n\n        const selectedItem: MenuItem = MenuItems.find((item: MenuItem) => {\n            return !!item.selected;\n        });\n\n        if (selectedItem) {\n            this.select.emit({ ...selectedItem, selected: false });\n        }\n\n        if (MenuItems[index] !== selectedItem) {\n            this.select.emit({ ...MenuItems[index], selected: false });\n        }\n    };\n\n    private isMenuItem = (item: MenuItem): boolean => {\n        return !('separator' in item);\n    };\n}\n"],"mappings":"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"}