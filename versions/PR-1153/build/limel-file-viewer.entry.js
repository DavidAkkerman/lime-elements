import{r as t,h as e,g as r}from"./index-6a31bb18.js";import{t as o}from"./translations-71bd0201.js";class i{constructor(t){this.enter=t.requestFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen,this.enter=this.enter.bind(t);const e=window.document;this.exit=e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen,this.requestFullscreen=this.requestFullscreen.bind(this),this.exitFullscreen=this.exitFullscreen.bind(this),this.toggle=this.toggle.bind(this)}requestFullscreen(){this.enter&&this.enter()}exitFullscreen(){this.exit&&this.exit.bind(window.document)()}toggle(){const t=window.document;t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement?this.exitFullscreen():this.requestFullscreen()}isSupported(){return!!this.requestFullscreen}}const s=class{constructor(e){t(this,e),this.language="en",this.fullscreen=new i(this.HostElement)}render(){if(this.url)return this.type?this.renderImage()||this.renderAudio()||this.renderVideo()||this.renderObject():this.renderNoFileSupportMessage()}renderImage(){if(this.type.startsWith("image/"))return[this.renderButtons(),e("img",{src:this.url,alt:this.alt})]}renderObject(){const t=e("object",{data:this.url,type:this.type},this.renderNoFileSupportMessage());return"application/pdf"===this.type?t:[this.renderButtons(),t]}renderAudio(){if(this.type.startsWith("audio/"))return e("audio",{controls:!0},e("source",{src:this.url,type:this.type}),this.renderNoFileSupportMessage())}renderVideo(){if(this.type.startsWith("video/"))return e("video",{controls:!0},e("source",{src:this.url,type:this.type}),this.renderNoFileSupportMessage())}renderNoFileSupportMessage(){return e("div",{class:"no-support"},e("div",{class:"no-support__info"},e("limel-icon",{class:"icon--warning",name:"brake_warning",size:"large"}),e("div",null,this.getTranslation("message.unsupported-filetype"))),e("a",{href:this.url,title:"download",class:"button--download",download:!0},e("limel-icon",{name:"download_2",size:"large"})))}renderButtons(){return e("div",{class:"buttons"},this.renderFullscreenButtons(),e("a",{href:this.url,title:this.getTranslation("title.download"),class:"button--download",download:!0},e("limel-icon",{name:"download_2",size:"small"})),e("a",{class:"button--new-tab",href:this.url,target:"_blank",rel:"noopener noreferrer",title:this.getTranslation("title.open-in-new-tab")},e("limel-icon",{name:"external_link",size:"small"})))}renderFullscreenButtons(){if(this.fullscreen.isSupported())return[e("a",{class:"button--exit-fullscreen",onClick:this.fullscreen.toggle,title:this.getTranslation("title.exit-fullscreen")},e("limel-icon",{name:"multiply",size:"small"})),e("a",{class:"button--enter-fullscreen",onClick:this.fullscreen.toggle,title:this.getTranslation("title.open-in-fullscreen")},e("limel-icon",{name:"fit_to_width",size:"small"}))]}getTranslation(t){return o.get(`file-viewer.${t}`,this.language)}get HostElement(){return r(this)}};s.style='.buttons{position:absolute;z-index:1;top:0.25rem;right:0.25rem;display:grid;grid-auto-flow:row;grid-gap:0.5rem}.no-support{display:grid;justify-items:center;grid-gap:0.75rem;border:1px dashed rgb(var(--contrast-600));border-radius:0.5rem;padding:1.25rem}.no-support__info{display:grid;grid-auto-flow:column;grid-gap:0.5rem;align-items:center}a[class^=button--]{transition:background-color 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease-out;box-shadow:var(--button-shadow-normal);cursor:pointer;display:flex;align-items:center;justify-content:center;border-radius:50%;width:2rem;height:2rem;background-color:rgba(var(--contrast-100), 0.85);backdrop-filter:blur(0.25rem)}a[class^=button--]:hover{box-shadow:var(--button-shadow-hovered)}a[class^=button--]:active{box-shadow:var(--button-shadow-pressed);transform:translate3d(0, 0.08rem, 0)}a[class^=button--] limel-icon{transition:color 0.2s ease;color:rgb(var(--contrast-1200))}a[class^=button--]:hover limel-icon{color:rgb(var(--contrast-1400))}.no-support .button--download{width:2.5rem;height:2.5rem}a.button--new-tab limel-icon{color:rgb(var(--color-blue-dark))}.icon--warning{color:rgb(var(--color-orange-default))}:host(:fullscreen) .buttons{top:0.75rem;right:0.75rem}:host(:fullscreen) .button--download,:host(:fullscreen) .button--new-tab,:host(:fullscreen) .button--enter-fullscreen{display:none}:host(:-webkit-full-screen) .buttons{top:0.75rem;right:0.75rem}:host(:-webkit-full-screen) .button--download,:host(:-webkit-full-screen) .button--new-tab,:host(:-webkit-full-screen) .button--enter-fullscreen{display:none}:host(:not(:-webkit-full-screen)) .button--exit-fullscreen{display:none}:host(:not(:fullscreen)) .button--exit-fullscreen{display:none}:host{position:relative;box-sizing:border-box;display:flex;align-items:center;justify-content:center;width:100%;height:100%}img,video,audio,object{max-height:100%;max-width:100%;box-sizing:border-box}img{min-width:6.25rem;object-fit:contain}video{width:100%;height:auto}audio{width:100%}object[type="application/pdf"]{width:100%;height:100%;min-height:18.75rem}object:not([type="application/pdf"]){border-radius:0.25rem;padding:0.75rem 2rem 0.75rem 0.75rem;width:100%;height:100%;overflow-y:auto;color:rgb(var(--contrast-1300));background-color:rgb(var(--contrast-200))}:host(:fullscreen){background-color:rgb(var(--color-gray-darker))}:host(:fullscreen) object[type="text/plain"]{max-width:50rem;max-height:calc(100% - 2rem)}:host(:-webkit-full-screen){background-color:rgb(var(--color-gray-darker))}:host(:-webkit-full-screen) object[type="text/plain"]{max-width:50rem;max-height:calc(100% - 2rem)}';export{s as limel_file_viewer}