import{r as e,h as n}from"./index-6156b4fd.js";import{b as t}from"./_baseSet-8ac2cea9.js";import{c as i,a as r}from"./_commonjsHelpers-5ec8f9b7.js";import"./_assignValue-d635a66e.js";import"./_defineProperty-6dda4257.js";import"./_getNative-4698fd71.js";import"./eq-1533d1d3.js";import"./_baseGetTag-49d0259e.js";import"./isObject-7039fcda.js";import"./isArray-80298bc7.js";import"./isSymbol-f24bedd7.js";import"./isObjectLike-38996507.js";import"./_MapCache-ecd39404.js";import"./toString-0a9c1851.js";import"./_arrayMap-e86f6dbb.js";import"./_isIndex-6de44c7b.js";function f(e,n,i){return e==null?e:t(e,n,i)}function o(e,n){const t=e;const i={};for(const e in t){const r=s(t[e].configSelector);f(i,r,t[e].config);if(t[e].version>=n){break}}return i}function s(e){return e.split("/")}var u;(function(e){e["INSERT"]="insert";e["DELETE"]="delete";e["CONTEXT"]="context"})(u||(u={}));const l={LINE_BY_LINE:"line-by-line",SIDE_BY_SIDE:"side-by-side"};const a={LINES:"lines",WORDS:"words",NONE:"none"};const d={WORD:"word",CHAR:"char"};const c=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"];const h=RegExp("["+c.join("\\")+"]","g");function v(e){return e.replace(h,"\\$&")}function p(e){return e?e.replace(/\\/g,"/"):e}function b(e){let n,t,i;let r=0;for(n=0,i=e.length;n<i;n++){t=e.charCodeAt(n);r=(r<<5)-r+t;r|=0}return r}function m(e,n){const t=e.split(".");return t.length>1?t[t.length-1]:n}function g(e,n){return n.reduce(((n,t)=>n||e.startsWith(t)),false)}const w=["a/","b/","i/","w/","c/","o/"];function y(e,n,t){const i=t!==undefined?[...w,t]:w;const r=n?new RegExp(`^${v(n)} "?(.+?)"?$`):new RegExp('^"?(.+?)"?$');const[,f=""]=r.exec(e)||[];const o=i.find((e=>f.indexOf(e)===0));const s=o?f.slice(o.length):f;return s.replace(/\s+\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}(?:\.\d+)? [+-]\d{4}.*$/,"")}function x(e,n){return y(e,"---",n)}function j(e,n){return y(e,"+++",n)}function O(e,n={}){const t=[];let i=null;let r=null;let f=null;let o=null;let s=null;let l=null;let a=null;const d="--- ";const c="+++ ";const h="@@";const v=/^old mode (\d{6})/;const p=/^new mode (\d{6})/;const b=/^deleted file mode (\d{6})/;const w=/^new file mode (\d{6})/;const O=/^copy from "?(.+)"?/;const S=/^copy to "?(.+)"?/;const k=/^rename from "?(.+)"?/;const _=/^rename to "?(.+)"?/;const L=/^similarity index (\d+)%/;const C=/^dissimilarity index (\d+)%/;const N=/^index ([\da-z]+)\.\.([\da-z]+)\s*(\d{6})?/;const I=/^Binary files (.*) and (.*) differ/;const E=/^GIT binary patch/;const M=/^index ([\da-z]+),([\da-z]+)\.\.([\da-z]+)/;const H=/^mode (\d{6}),(\d{6})\.\.(\d{6})/;const $=/^new file mode (\d{6})/;const z=/^deleted file mode (\d{6}),(\d{6})/;const A=e.replace(/\\ No newline at end of file/g,"").replace(/\r\n?/g,"\n").split("\n");function F(){if(r!==null&&i!==null){i.blocks.push(r);r=null}}function T(){if(i!==null){if(!i.oldName&&l!==null){i.oldName=l}if(!i.newName&&a!==null){i.newName=a}if(i.newName){t.push(i);i=null}}l=null;a=null}function D(){F();T();i={blocks:[],deletedLines:0,addedLines:0}}function V(e){F();let n;if(i!==null){if(n=/^@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@.*/.exec(e)){i.isCombined=false;f=parseInt(n[1],10);s=parseInt(n[2],10)}else if(n=/^@@@ -(\d+)(?:,\d+)? -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@@.*/.exec(e)){i.isCombined=true;f=parseInt(n[1],10);o=parseInt(n[2],10);s=parseInt(n[3],10)}else{if(e.startsWith(h)){console.error("Failed to parse lines, starting in 0!")}f=0;s=0;i.isCombined=false}}r={lines:[],oldStartLine:f,oldStartLine2:o,newStartLine:s,header:e}}function P(e){if(i===null||r===null||f===null||s===null)return;const n={content:e};const t=i.isCombined?["+ "," +","++"]:["+"];const o=i.isCombined?["- "," -","--"]:["-"];if(g(e,t)){i.addedLines++;n.type=u.INSERT;n.oldNumber=undefined;n.newNumber=s++}else if(g(e,o)){i.deletedLines++;n.type=u.DELETE;n.oldNumber=f++;n.newNumber=undefined}else{n.type=u.CONTEXT;n.oldNumber=f++;n.newNumber=s++}r.lines.push(n)}function W(e,n){let t=n;while(t<A.length-3){if(e.startsWith("diff")){return false}if(A[t].startsWith(d)&&A[t+1].startsWith(c)&&A[t+2].startsWith(h)){return true}t++}return false}A.forEach(((e,f)=>{if(!e||e.startsWith("*")){return}let o;const s=A[f-1];const u=A[f+1];const g=A[f+2];if(e.startsWith("diff --git")||e.startsWith("diff --combined")){D();const t=/^diff --git "?([a-ciow]\/.+)"? "?([a-ciow]\/.+)"?/;if(o=t.exec(e)){l=y(o[1],undefined,n.dstPrefix);a=y(o[2],undefined,n.srcPrefix)}if(i===null){throw new Error("Where is my file !!!")}i.isGitDiff=true;return}if(e.startsWith("Binary files")&&!(i===null||i===void 0?void 0:i.isGitDiff)){D();const t=/^Binary files "?([a-ciow]\/.+)"? and "?([a-ciow]\/.+)"? differ/;if(o=t.exec(e)){l=y(o[1],undefined,n.dstPrefix);a=y(o[2],undefined,n.srcPrefix)}if(i===null){throw new Error("Where is my file !!!")}i.isBinary=true;return}if(!i||!i.isGitDiff&&i&&e.startsWith(d)&&u.startsWith(c)&&g.startsWith(h)){D()}if(i===null||i===void 0?void 0:i.isTooBig){return}if(i&&(typeof n.diffMaxChanges==="number"&&i.addedLines+i.deletedLines>n.diffMaxChanges||typeof n.diffMaxLineLength==="number"&&e.length>n.diffMaxLineLength)){i.isTooBig=true;i.addedLines=0;i.deletedLines=0;i.blocks=[];r=null;const e=typeof n.diffTooBigMessage==="function"?n.diffTooBigMessage(t.length):"Diff too big to be displayed";V(e);return}if(e.startsWith(d)&&u.startsWith(c)||e.startsWith(c)&&s.startsWith(d)){if(i&&!i.oldName&&e.startsWith("--- ")&&(o=x(e,n.srcPrefix))){i.oldName=o;i.language=m(i.oldName,i.language);return}if(i&&!i.newName&&e.startsWith("+++ ")&&(o=j(e,n.dstPrefix))){i.newName=o;i.language=m(i.newName,i.language);return}}if(i&&(e.startsWith(h)||i.isGitDiff&&i.oldName&&i.newName&&!r)){V(e);return}if(r&&(e.startsWith("+")||e.startsWith("-")||e.startsWith(" "))){P(e);return}const F=!W(e,f);if(i===null){throw new Error("Where is my file !!!")}if(o=v.exec(e)){i.oldMode=o[1]}else if(o=p.exec(e)){i.newMode=o[1]}else if(o=b.exec(e)){i.deletedFileMode=o[1];i.isDeleted=true}else if(o=w.exec(e)){i.newFileMode=o[1];i.isNew=true}else if(o=O.exec(e)){if(F){i.oldName=o[1]}i.isCopy=true}else if(o=S.exec(e)){if(F){i.newName=o[1]}i.isCopy=true}else if(o=k.exec(e)){if(F){i.oldName=o[1]}i.isRename=true}else if(o=_.exec(e)){if(F){i.newName=o[1]}i.isRename=true}else if(o=I.exec(e)){i.isBinary=true;i.oldName=y(o[1],undefined,n.srcPrefix);i.newName=y(o[2],undefined,n.dstPrefix);V("Binary file")}else if(E.test(e)){i.isBinary=true;V(e)}else if(o=L.exec(e)){i.unchangedPercentage=parseInt(o[1],10)}else if(o=C.exec(e)){i.changedPercentage=parseInt(o[1],10)}else if(o=N.exec(e)){i.checksumBefore=o[1];i.checksumAfter=o[2];o[3]&&(i.mode=o[3])}else if(o=M.exec(e)){i.checksumBefore=[o[2],o[3]];i.checksumAfter=o[1]}else if(o=H.exec(e)){i.oldMode=[o[2],o[3]];i.newMode=o[1]}else if(o=$.exec(e)){i.newFileMode=o[1];i.isNew=true}else if(o=z.exec(e)){i.deletedFileMode=o[1];i.isDeleted=true}}));F();T();return t}var S=i((function(e,n){
/*!

 diff v5.1.0

Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@license
*/
(function(e,t){t(n)})(r,(function(e){function n(){}n.prototype={diff:function e(n,r){var f=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var o=f.callback;if(typeof f==="function"){o=f;f={}}this.options=f;var s=this;function u(e){if(o){setTimeout((function(){o(undefined,e)}),0);return true}else{return e}}n=this.castInput(n);r=this.castInput(r);n=this.removeEmpty(this.tokenize(n));r=this.removeEmpty(this.tokenize(r));var l=r.length,a=n.length;var d=1;var c=l+a;if(f.maxEditLength){c=Math.min(c,f.maxEditLength)}var h=[{newPos:-1,components:[]}];var v=this.extractCommon(h[0],r,n,0);if(h[0].newPos+1>=l&&v+1>=a){return u([{value:this.join(r),count:r.length}])}function p(){for(var e=-1*d;e<=d;e+=2){var f=void 0;var o=h[e-1],c=h[e+1],v=(c?c.newPos:0)-e;if(o){h[e-1]=undefined}var p=o&&o.newPos+1<l,b=c&&0<=v&&v<a;if(!p&&!b){h[e]=undefined;continue}if(!p||b&&o.newPos<c.newPos){f=i(c);s.pushComponent(f.components,undefined,true)}else{f=o;f.newPos++;s.pushComponent(f.components,true,undefined)}v=s.extractCommon(f,r,n,e);if(f.newPos+1>=l&&v+1>=a){return u(t(s,f.components,r,n,s.useLongestToken))}else{h[e]=f}}d++}if(o){(function e(){setTimeout((function(){if(d>c){return o()}if(!p()){e()}}),0)})()}else{while(d<=c){var b=p();if(b){return b}}}},pushComponent:function e(n,t,i){var r=n[n.length-1];if(r&&r.added===t&&r.removed===i){n[n.length-1]={count:r.count+1,added:t,removed:i}}else{n.push({count:1,added:t,removed:i})}},extractCommon:function e(n,t,i,r){var f=t.length,o=i.length,s=n.newPos,u=s-r,l=0;while(s+1<f&&u+1<o&&this.equals(t[s+1],i[u+1])){s++;u++;l++}if(l){n.components.push({count:l})}n.newPos=s;return u},equals:function e(n,t){if(this.options.comparator){return this.options.comparator(n,t)}else{return n===t||this.options.ignoreCase&&n.toLowerCase()===t.toLowerCase()}},removeEmpty:function e(n){var t=[];for(var i=0;i<n.length;i++){if(n[i]){t.push(n[i])}}return t},castInput:function e(n){return n},tokenize:function e(n){return n.split("")},join:function e(n){return n.join("")}};function t(e,n,t,i,r){var f=0,o=n.length,s=0,u=0;for(;f<o;f++){var l=n[f];if(!l.removed){if(!l.added&&r){var a=t.slice(s,s+l.count);a=a.map((function(e,n){var t=i[u+n];return t.length>e.length?t:e}));l.value=e.join(a)}else{l.value=e.join(t.slice(s,s+l.count))}s+=l.count;if(!l.added){u+=l.count}}else{l.value=e.join(i.slice(u,u+l.count));u+=l.count;if(f&&n[f-1].added){var d=n[f-1];n[f-1]=n[f];n[f]=d}}}var c=n[o-1];if(o>1&&typeof c.value==="string"&&(c.added||c.removed)&&e.equals("",c.value)){n[o-2].value+=c.value;n.pop()}return n}function i(e){return{newPos:e.newPos,components:e.components.slice(0)}}var r=new n;function f(e,n,t){return r.diff(e,n,t)}function o(e,n){if(typeof e==="function"){n.callback=e}else if(e){for(var t in e){if(e.hasOwnProperty(t)){n[t]=e[t]}}}return n}var s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/;var u=/\S/;var l=new n;l.equals=function(e,n){if(this.options.ignoreCase){e=e.toLowerCase();n=n.toLowerCase()}return e===n||this.options.ignoreWhitespace&&!u.test(e)&&!u.test(n)};l.tokenize=function(e){var n=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(var t=0;t<n.length-1;t++){if(!n[t+1]&&n[t+2]&&s.test(n[t])&&s.test(n[t+2])){n[t]+=n[t+2];n.splice(t+1,2);t--}}return n};function a(e,n,t){t=o(t,{ignoreWhitespace:true});return l.diff(e,n,t)}function d(e,n,t){return l.diff(e,n,t)}var c=new n;c.tokenize=function(e){var n=[],t=e.split(/(\n|\r\n)/);if(!t[t.length-1]){t.pop()}for(var i=0;i<t.length;i++){var r=t[i];if(i%2&&!this.options.newlineIsToken){n[n.length-1]+=r}else{if(this.options.ignoreWhitespace){r=r.trim()}n.push(r)}}return n};function h(e,n,t){return c.diff(e,n,t)}function v(e,n,t){var i=o(t,{ignoreWhitespace:true});return c.diff(e,n,i)}var p=new n;p.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};function b(e,n,t){return p.diff(e,n,t)}var m=new n;m.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function g(e,n,t){return m.diff(e,n,t)}function w(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){w=function(e){return typeof e}}else{w=function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return w(e)}function y(e){return x(e)||j(e)||O(e)||k()}function x(e){if(Array.isArray(e))return S(e)}function j(e){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function O(e,n){if(!e)return;if(typeof e==="string")return S(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor)t=e.constructor.name;if(t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(e,n)}function S(e,n){if(n==null||n>e.length)n=e.length;for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function k(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _=Object.prototype.toString;var L=new n;L.useLongestToken=true;L.tokenize=c.tokenize;L.castInput=function(e){var n=this.options,t=n.undefinedReplacement,i=n.stringifyReplacer,r=i===void 0?function(e,n){return typeof n==="undefined"?t:n}:i;return typeof e==="string"?e:JSON.stringify(N(e,null,null,r),r,"  ")};L.equals=function(e,t){return n.prototype.equals.call(L,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function C(e,n,t){return L.diff(e,n,t)}function N(e,n,t,i,r){n=n||[];t=t||[];if(i){e=i(r,e)}var f;for(f=0;f<n.length;f+=1){if(n[f]===e){return t[f]}}var o;if("[object Array]"===_.call(e)){n.push(e);o=new Array(e.length);t.push(o);for(f=0;f<e.length;f+=1){o[f]=N(e[f],n,t,i,r)}n.pop();t.pop();return o}if(e&&e.toJSON){e=e.toJSON()}if(w(e)==="object"&&e!==null){n.push(e);o={};t.push(o);var s=[],u;for(u in e){if(e.hasOwnProperty(u)){s.push(u)}}s.sort();for(f=0;f<s.length;f+=1){u=s[f];o[u]=N(e[u],n,t,i,u)}n.pop();t.pop()}else{o=e}return o}var I=new n;I.tokenize=function(e){return e.slice()};I.join=I.removeEmpty=function(e){return e};function E(e,n,t){return I.diff(e,n,t)}function M(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var t=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],r=[],f=0;function o(){var e={};r.push(e);while(f<t.length){var i=t[f];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i)){break}var o=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);if(o){e.index=o[1]}f++}s(e);s(e);e.hunks=[];while(f<t.length){var l=t[f];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(l)){break}else if(/^@@/.test(l)){e.hunks.push(u())}else if(l&&n.strict){throw new Error("Unknown line "+(f+1)+" "+JSON.stringify(l))}else{f++}}}function s(e){var n=/^(---|\+\+\+)\s+(.*)$/.exec(t[f]);if(n){var i=n[1]==="---"?"old":"new";var r=n[2].split("\t",2);var o=r[0].replace(/\\\\/g,"\\");if(/^".*"$/.test(o)){o=o.substr(1,o.length-2)}e[i+"FileName"]=o;e[i+"Header"]=(r[1]||"").trim();f++}}function u(){var e=f,r=t[f++],o=r.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/);var s={oldStart:+o[1],oldLines:typeof o[2]==="undefined"?1:+o[2],newStart:+o[3],newLines:typeof o[4]==="undefined"?1:+o[4],lines:[],linedelimiters:[]};if(s.oldLines===0){s.oldStart+=1}if(s.newLines===0){s.newStart+=1}var u=0,l=0;for(;f<t.length;f++){if(t[f].indexOf("--- ")===0&&f+2<t.length&&t[f+1].indexOf("+++ ")===0&&t[f+2].indexOf("@@")===0){break}var a=t[f].length==0&&f!=t.length-1?" ":t[f][0];if(a==="+"||a==="-"||a===" "||a==="\\"){s.lines.push(t[f]);s.linedelimiters.push(i[f]||"\n");if(a==="+"){u++}else if(a==="-"){l++}else if(a===" "){u++;l++}}else{break}}if(!u&&s.newLines===1){s.newLines=0}if(!l&&s.oldLines===1){s.oldLines=0}if(n.strict){if(u!==s.newLines){throw new Error("Added line count did not match for hunk at line "+(e+1))}if(l!==s.oldLines){throw new Error("Removed line count did not match for hunk at line "+(e+1))}}return s}while(f<t.length){o()}return r}function H(e,n,t){var i=true,r=false,f=false,o=1;return function s(){if(i&&!f){if(r){o++}else{i=false}if(e+o<=t){return o}f=true}if(!r){if(!f){i=true}if(n<=e-o){return-o++}r=true;return s()}}}function $(e,n){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(typeof n==="string"){n=M(n)}if(Array.isArray(n)){if(n.length>1){throw new Error("applyPatch only works with a single input.")}n=n[0]}var i=e.split(/\r\n|[\n\v\f\r\x85]/),r=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],f=n.hunks,o=t.compareLine||function(e,n,t,i){return n===i},s=0,u=t.fuzzFactor||0,l=0,a=0,d,c;function h(e,n){for(var t=0;t<e.lines.length;t++){var r=e.lines[t],f=r.length>0?r[0]:" ",l=r.length>0?r.substr(1):r;if(f===" "||f==="-"){if(!o(n+1,i[n],f,l)){s++;if(s>u){return false}}n++}}return true}for(var v=0;v<f.length;v++){var p=f[v],b=i.length-p.oldLines,m=0,g=a+p.oldStart-1;var w=H(g,l,b);for(;m!==undefined;m=w()){if(h(p,g+m)){p.offset=a+=m;break}}if(m===undefined){return false}l=p.offset+p.oldStart+p.oldLines}var y=0;for(var x=0;x<f.length;x++){var j=f[x],O=j.oldStart+j.offset+y-1;y+=j.newLines-j.oldLines;for(var S=0;S<j.lines.length;S++){var k=j.lines[S],_=k.length>0?k[0]:" ",L=k.length>0?k.substr(1):k,C=j.linedelimiters[S];if(_===" "){O++}else if(_==="-"){i.splice(O,1);r.splice(O,1)}else if(_==="+"){i.splice(O,0,L);r.splice(O,0,C);O++}else if(_==="\\"){var N=j.lines[S-1]?j.lines[S-1][0]:null;if(N==="+"){d=true}else if(N==="-"){c=true}}}}if(d){while(!i[i.length-1]){i.pop();r.pop()}}else if(c){i.push("");r.push("\n")}for(var I=0;I<i.length-1;I++){i[I]=i[I]+r[I]}return i.join("")}function z(e,n){if(typeof e==="string"){e=M(e)}var t=0;function i(){var r=e[t++];if(!r){return n.complete()}n.loadFile(r,(function(e,t){if(e){return n.complete(e)}var f=$(t,r,n);n.patched(r,f,(function(e){if(e){return n.complete(e)}i()}))}))}i()}function A(e,n,t,i,r,f,o){if(!o){o={}}if(typeof o.context==="undefined"){o.context=4}var s=h(t,i,o);if(!s){return}s.push({value:"",lines:[]});function u(e){return e.map((function(e){return" "+e}))}var l=[];var a=0,d=0,c=[],v=1,p=1;var b=function e(n){var r=s[n],f=r.lines||r.value.replace(/\n$/,"").split("\n");r.lines=f;if(r.added||r.removed){var h;if(!a){var b=s[n-1];a=v;d=p;if(b){c=o.context>0?u(b.lines.slice(-o.context)):[];a-=c.length;d-=c.length}}(h=c).push.apply(h,y(f.map((function(e){return(r.added?"+":"-")+e}))));if(r.added){p+=f.length}else{v+=f.length}}else{if(a){if(f.length<=o.context*2&&n<s.length-2){var m;(m=c).push.apply(m,y(u(f)))}else{var g;var w=Math.min(f.length,o.context);(g=c).push.apply(g,y(u(f.slice(0,w))));var x={oldStart:a,oldLines:v-a+w,newStart:d,newLines:p-d+w,lines:c};if(n>=s.length-2&&f.length<=o.context){var j=/\n$/.test(t);var O=/\n$/.test(i);var S=f.length==0&&c.length>x.oldLines;if(!j&&S&&t.length>0){c.splice(x.oldLines,0,"\\ No newline at end of file")}if(!j&&!S||!O){c.push("\\ No newline at end of file")}}l.push(x);a=0;d=0;c=[]}}v+=f.length;p+=f.length}};for(var m=0;m<s.length;m++){b(m)}return{oldFileName:e,newFileName:n,oldHeader:r,newHeader:f,hunks:l}}function F(e){var n=[];if(e.oldFileName==e.newFileName){n.push("Index: "+e.oldFileName)}n.push("===================================================================");n.push("--- "+e.oldFileName+(typeof e.oldHeader==="undefined"?"":"\t"+e.oldHeader));n.push("+++ "+e.newFileName+(typeof e.newHeader==="undefined"?"":"\t"+e.newHeader));for(var t=0;t<e.hunks.length;t++){var i=e.hunks[t];if(i.oldLines===0){i.oldStart-=1}if(i.newLines===0){i.newStart-=1}n.push("@@ -"+i.oldStart+","+i.oldLines+" +"+i.newStart+","+i.newLines+" @@");n.push.apply(n,i.lines)}return n.join("\n")+"\n"}function T(e,n,t,i,r,f,o){return F(A(e,n,t,i,r,f,o))}function D(e,n,t,i,r,f){return T(e,e,n,t,i,r,f)}function V(e,n){if(e.length!==n.length){return false}return P(e,n)}function P(e,n){if(n.length>e.length){return false}for(var t=0;t<n.length;t++){if(n[t]!==e[t]){return false}}return true}function W(e){var n=fe(e.lines),t=n.oldLines,i=n.newLines;if(t!==undefined){e.oldLines=t}else{delete e.oldLines}if(i!==undefined){e.newLines=i}else{delete e.newLines}}function B(e,n,t){e=R(e,t);n=R(n,t);var i={};if(e.index||n.index){i.index=e.index||n.index}if(e.newFileName||n.newFileName){if(!J(e)){i.oldFileName=n.oldFileName||e.oldFileName;i.newFileName=n.newFileName||e.newFileName;i.oldHeader=n.oldHeader||e.oldHeader;i.newHeader=n.newHeader||e.newHeader}else if(!J(n)){i.oldFileName=e.oldFileName;i.newFileName=e.newFileName;i.oldHeader=e.oldHeader;i.newHeader=e.newHeader}else{i.oldFileName=q(i,e.oldFileName,n.oldFileName);i.newFileName=q(i,e.newFileName,n.newFileName);i.oldHeader=q(i,e.oldHeader,n.oldHeader);i.newHeader=q(i,e.newHeader,n.newHeader)}}i.hunks=[];var r=0,f=0,o=0,s=0;while(r<e.hunks.length||f<n.hunks.length){var u=e.hunks[r]||{oldStart:Infinity},l=n.hunks[f]||{oldStart:Infinity};if(G(u,l)){i.hunks.push(U(u,o));r++;s+=u.newLines-u.oldLines}else if(G(l,u)){i.hunks.push(U(l,s));f++;o+=l.newLines-l.oldLines}else{var a={oldStart:Math.min(u.oldStart,l.oldStart),oldLines:0,newStart:Math.min(u.newStart+o,l.oldStart+s),newLines:0,lines:[]};X(a,u.oldStart,u.lines,l.oldStart,l.lines);f++;r++;i.hunks.push(a)}}return i}function R(e,n){if(typeof e==="string"){if(/^@@/m.test(e)||/^Index:/m.test(e)){return M(e)[0]}if(!n){throw new Error("Must provide a base reference or pass in a patch")}return A(undefined,undefined,n,e)}return e}function J(e){return e.newFileName&&e.newFileName!==e.oldFileName}function q(e,n,t){if(n===t){return n}else{e.conflict=true;return{mine:n,theirs:t}}}function G(e,n){return e.oldStart<n.oldStart&&e.oldStart+e.oldLines<n.oldStart}function U(e,n){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+n,newLines:e.newLines,lines:e.lines}}function X(e,n,t,i,r){var f={offset:n,lines:t,index:0},o={offset:i,lines:r,index:0};Q(e,f,o);Q(e,o,f);while(f.index<f.lines.length&&o.index<o.lines.length){var s=f.lines[f.index],u=o.lines[o.index];if((s[0]==="-"||s[0]==="+")&&(u[0]==="-"||u[0]==="+")){Y(e,f,o)}else if(s[0]==="+"&&u[0]===" "){var l;(l=e.lines).push.apply(l,y(ne(f)))}else if(u[0]==="+"&&s[0]===" "){var a;(a=e.lines).push.apply(a,y(ne(o)))}else if(s[0]==="-"&&u[0]===" "){Z(e,f,o)}else if(u[0]==="-"&&s[0]===" "){Z(e,o,f,true)}else if(s===u){e.lines.push(s);f.index++;o.index++}else{K(e,ne(f),ne(o))}}ee(e,f);ee(e,o);W(e)}function Y(e,n,t){var i=ne(n),r=ne(t);if(ie(i)&&ie(r)){if(P(i,r)&&re(t,i,i.length-r.length)){var f;(f=e.lines).push.apply(f,y(i));return}else if(P(r,i)&&re(n,r,r.length-i.length)){var o;(o=e.lines).push.apply(o,y(r));return}}else if(V(i,r)){var s;(s=e.lines).push.apply(s,y(i));return}K(e,i,r)}function Z(e,n,t,i){var r=ne(n),f=te(t,r);if(f.merged){var o;(o=e.lines).push.apply(o,y(f.merged))}else{K(e,i?f:r,i?r:f)}}function K(e,n,t){e.conflict=true;e.lines.push({conflict:true,mine:n,theirs:t})}function Q(e,n,t){while(n.offset<t.offset&&n.index<n.lines.length){var i=n.lines[n.index++];e.lines.push(i);n.offset++}}function ee(e,n){while(n.index<n.lines.length){var t=n.lines[n.index++];e.lines.push(t)}}function ne(e){var n=[],t=e.lines[e.index][0];while(e.index<e.lines.length){var i=e.lines[e.index];if(t==="-"&&i[0]==="+"){t="+"}if(t===i[0]){n.push(i);e.index++}else{break}}return n}function te(e,n){var t=[],i=[],r=0,f=false,o=false;while(r<n.length&&e.index<e.lines.length){var s=e.lines[e.index],u=n[r];if(u[0]==="+"){break}f=f||s[0]!==" ";i.push(u);r++;if(s[0]==="+"){o=true;while(s[0]==="+"){t.push(s);s=e.lines[++e.index]}}if(u.substr(1)===s.substr(1)){t.push(s);e.index++}else{o=true}}if((n[r]||"")[0]==="+"&&f){o=true}if(o){return t}while(r<n.length){i.push(n[r++])}return{merged:i,changes:t}}function ie(e){return e.reduce((function(e,n){return e&&n[0]==="-"}),true)}function re(e,n,t){for(var i=0;i<t;i++){var r=n[n.length-t+i].substr(1);if(e.lines[e.index+i]!==" "+r){return false}}e.index+=t;return true}function fe(e){var n=0;var t=0;e.forEach((function(e){if(typeof e!=="string"){var i=fe(e.mine);var r=fe(e.theirs);if(n!==undefined){if(i.oldLines===r.oldLines){n+=i.oldLines}else{n=undefined}}if(t!==undefined){if(i.newLines===r.newLines){t+=i.newLines}else{t=undefined}}}else{if(t!==undefined&&(e[0]==="+"||e[0]===" ")){t++}if(n!==undefined&&(e[0]==="-"||e[0]===" ")){n++}}}));return{oldLines:n,newLines:t}}function oe(e){var n=[],t,i;for(var r=0;r<e.length;r++){t=e[r];if(t.added){i=1}else if(t.removed){i=-1}else{i=0}n.push([i,t.value])}return n}function se(e){var n=[];for(var t=0;t<e.length;t++){var i=e[t];if(i.added){n.push("<ins>")}else if(i.removed){n.push("<del>")}n.push(ue(i.value));if(i.added){n.push("</ins>")}else if(i.removed){n.push("</del>")}}return n.join("")}function ue(e){var n=e;n=n.replace(/&/g,"&amp;");n=n.replace(/</g,"&lt;");n=n.replace(/>/g,"&gt;");n=n.replace(/"/g,"&quot;");return n}e.Diff=n;e.applyPatch=$;e.applyPatches=z;e.canonicalize=N;e.convertChangesToDMP=oe;e.convertChangesToXML=se;e.createPatch=D;e.createTwoFilesPatch=T;e.diffArrays=E;e.diffChars=f;e.diffCss=g;e.diffJson=C;e.diffLines=h;e.diffSentences=b;e.diffTrimmedLines=v;e.diffWords=a;e.diffWordsWithSpace=d;e.merge=B;e.parsePatch=M;e.structuredPatch=A;Object.defineProperty(e,"__esModule",{value:true})}))}));function k(e,n){if(e.length===0){return n.length}if(n.length===0){return e.length}const t=[];let i;for(i=0;i<=n.length;i++){t[i]=[i]}let r;for(r=0;r<=e.length;r++){t[0][r]=r}for(i=1;i<=n.length;i++){for(r=1;r<=e.length;r++){if(n.charAt(i-1)===e.charAt(r-1)){t[i][r]=t[i-1][r-1]}else{t[i][r]=Math.min(t[i-1][r-1]+1,Math.min(t[i][r-1]+1,t[i-1][r]+1))}}}return t[n.length][e.length]}function _(e){return(n,t)=>{const i=e(n).trim();const r=e(t).trim();const f=k(i,r);return f/(i.length+r.length)}}function L(e){function n(n,t,i=new Map){let r=Infinity;let f;for(let o=0;o<n.length;++o){for(let s=0;s<t.length;++s){const u=JSON.stringify([n[o],t[s]]);let l;if(!(i.has(u)&&(l=i.get(u)))){l=e(n[o],t[s]);i.set(u,l)}if(l<r){r=l;f={indexA:o,indexB:s,score:r}}}}return f}function t(e,i,r=0,f=new Map){const o=n(e,i,f);if(!o||e.length+i.length<3){return[[e,i]]}const s=e.slice(0,o.indexA);const u=i.slice(0,o.indexB);const l=[e[o.indexA]];const a=[i[o.indexB]];const d=o.indexA+1;const c=o.indexB+1;const h=e.slice(d);const v=i.slice(c);const p=t(s,u,r+1,f);const b=t(l,a,r+1,f);const m=t(h,v,r+1,f);let g=b;if(o.indexA>0||o.indexB>0){g=p.concat(g)}if(e.length>d||i.length>c){g=g.concat(m)}return g}return t}const C={INSERTS:"d2h-ins",DELETES:"d2h-del",CONTEXT:"d2h-cntx",INFO:"d2h-info",INSERT_CHANGES:"d2h-ins d2h-change",DELETE_CHANGES:"d2h-del d2h-change"};const N={matching:a.NONE,matchWordsThreshold:.25,maxLineLengthHighlight:1e4,diffStyle:d.WORD};const I="/";const E=_((e=>e.value));const M=L(E);function H(e){return e.indexOf("dev/null")!==-1}function $(e){return e.replace(/(<ins[^>]*>((.|\n)*?)<\/ins>)/g,"")}function z(e){return e.replace(/(<del[^>]*>((.|\n)*?)<\/del>)/g,"")}function A(e){switch(e){case u.CONTEXT:return C.CONTEXT;case u.INSERT:return C.INSERTS;case u.DELETE:return C.DELETES}}function F(e){return e?2:1}function T(e){return e.slice(0).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function D(e,n,t=true){const i=F(n);return{prefix:e.substring(0,i),content:t?T(e.substring(i)):e.substring(i)}}function V(e){const n=p(e.oldName);const t=p(e.newName);if(n!==t&&!H(n)&&!H(t)){const e=[];const i=[];const r=n.split(I);const f=t.split(I);const o=r.length;const s=f.length;let u=0;let l=o-1;let a=s-1;while(u<l&&u<a){if(r[u]===f[u]){e.push(f[u]);u+=1}else{break}}while(l>u&&a>u){if(r[l]===f[a]){i.unshift(f[a]);l-=1;a-=1}else{break}}const d=e.join(I);const c=i.join(I);const h=r.slice(u,l+1).join(I);const v=f.slice(u,a+1).join(I);if(d.length&&c.length){return d+I+"{"+h+" → "+v+"}"+I+c}else if(d.length){return d+I+"{"+h+" → "+v+"}"}else if(c.length){return"{"+h+" → "+v+"}"+I+c}return n+" → "+t}else if(!H(t)){return t}else{return n}}function P(e){return`d2h-${b(V(e)).toString().slice(-6)}`}function W(e){let n="file-changed";if(e.isRename){n="file-renamed"}else if(e.isCopy){n="file-renamed"}else if(e.isNew){n="file-added"}else if(e.isDeleted){n="file-deleted"}else if(e.newName!==e.oldName){n="file-renamed"}return n}function B(e,n,t,i={}){const{matching:r,maxLineLengthHighlight:f,matchWordsThreshold:o,diffStyle:s}=Object.assign(Object.assign({},N),i);const u=D(e,t,false);const l=D(n,t,false);if(u.content.length>f||l.content.length>f){return{oldLine:{prefix:u.prefix,content:T(u.content)},newLine:{prefix:l.prefix,content:T(l.content)}}}const a=s==="char"?S.diffChars(u.content,l.content):S.diffWordsWithSpace(u.content,l.content);const d=[];if(s==="word"&&r==="words"){const e=a.filter((e=>e.removed));const n=a.filter((e=>e.added));const t=M(n,e);t.forEach((e=>{if(e[0].length===1&&e[1].length===1){const n=E(e[0][0],e[1][0]);if(n<o){d.push(e[0][0]);d.push(e[1][0])}}}))}const c=a.reduce(((e,n)=>{const t=n.added?"ins":n.removed?"del":null;const i=d.indexOf(n)>-1?' class="d2h-change"':"";const r=T(n.value);return t!==null?`${e}<${t}${i}>${r}</${t}>`:`${e}${r}`}),"");return{oldLine:{prefix:u.prefix,content:$(c)},newLine:{prefix:l.prefix,content:z(c)}}}const R="file-summary";const J="icon";function q(e,n){const t=e.map((e=>n.render(R,"line",{fileHtmlId:P(e),oldName:e.oldName,newName:e.newName,fileName:V(e),deletedLines:"-"+e.deletedLines,addedLines:"+"+e.addedLines},{fileIcon:n.template(J,W(e))}))).join("\n");return n.render(R,"wrapper",{filesNumber:e.length,files:t})}const G=Object.assign(Object.assign({},N),{renderNothingWhenEmpty:false,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200});const U="generic";const X="line-by-line";const Y="icon";const Z="tag";class K{constructor(e,n={}){this.hoganUtils=e;this.config=Object.assign(Object.assign({},G),n)}render(e){const n=e.map((e=>{let n;if(e.blocks.length){n=this.generateFileHtml(e)}else{n=this.generateEmptyDiff()}return this.makeFileDiffHtml(e,n)})).join("\n");return this.hoganUtils.render(U,"wrapper",{content:n})}makeFileDiffHtml(e,n){if(this.config.renderNothingWhenEmpty&&Array.isArray(e.blocks)&&e.blocks.length===0)return"";const t=this.hoganUtils.template(X,"file-diff");const i=this.hoganUtils.template(U,"file-path");const r=this.hoganUtils.template(Y,"file");const f=this.hoganUtils.template(Z,W(e));return t.render({file:e,fileHtmlId:P(e),diffs:n,filePath:i.render({fileDiffName:V(e)},{fileIcon:r,fileTag:f})})}generateEmptyDiff(){return this.hoganUtils.render(U,"empty-diff",{contentClass:"d2h-code-line",CSSLineClass:C})}generateFileHtml(e){const n=L(_((n=>D(n.content,e.isCombined).content)));return e.blocks.map((t=>{let i=this.hoganUtils.render(U,"block-header",{CSSLineClass:C,blockHeader:e.isTooBig?t.header:T(t.header),lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line"});this.applyLineGroupping(t).forEach((([t,r,f])=>{if(r.length&&f.length&&!t.length){this.applyRematchMatching(r,f,n).map((([n,t])=>{const{left:r,right:f}=this.processChangedLines(e,e.isCombined,n,t);i+=r;i+=f}))}else if(t.length){t.forEach((n=>{const{prefix:t,content:r}=D(n.content,e.isCombined);i+=this.generateSingleLineHtml(e,{type:C.CONTEXT,prefix:t,content:r,oldNumber:n.oldNumber,newNumber:n.newNumber})}))}else if(r.length||f.length){const{left:n,right:t}=this.processChangedLines(e,e.isCombined,r,f);i+=n;i+=t}else{console.error("Unknown state reached while processing groups of lines",t,r,f)}}));return i})).join("\n")}applyLineGroupping(e){const n=[];let t=[];let i=[];for(let r=0;r<e.lines.length;r++){const f=e.lines[r];if(f.type!==u.INSERT&&i.length||f.type===u.CONTEXT&&t.length>0){n.push([[],t,i]);t=[];i=[]}if(f.type===u.CONTEXT){n.push([[f],[],[]])}else if(f.type===u.INSERT&&t.length===0){n.push([[],[],[f]])}else if(f.type===u.INSERT&&t.length>0){i.push(f)}else if(f.type===u.DELETE){t.push(f)}}if(t.length||i.length){n.push([[],t,i]);t=[];i=[]}return n}applyRematchMatching(e,n,t){const i=e.length*n.length;const r=Math.max.apply(null,[0].concat(e.concat(n).map((e=>e.content.length))));const f=i<this.config.matchingMaxComparisons&&r<this.config.maxLineSizeInBlockForComparison&&(this.config.matching==="lines"||this.config.matching==="words");return f?t(e,n):[[e,n]]}processChangedLines(e,n,t,i){const r={right:"",left:""};const f=Math.max(t.length,i.length);for(let o=0;o<f;o++){const f=t[o];const s=i[o];const u=f!==undefined&&s!==undefined?B(f.content,s.content,n,this.config):undefined;const l=f!==undefined&&f.oldNumber!==undefined?Object.assign(Object.assign({},u!==undefined?{prefix:u.oldLine.prefix,content:u.oldLine.content,type:C.DELETE_CHANGES}:Object.assign(Object.assign({},D(f.content,n)),{type:A(f.type)})),{oldNumber:f.oldNumber,newNumber:f.newNumber}):undefined;const a=s!==undefined&&s.newNumber!==undefined?Object.assign(Object.assign({},u!==undefined?{prefix:u.newLine.prefix,content:u.newLine.content,type:C.INSERT_CHANGES}:Object.assign(Object.assign({},D(s.content,n)),{type:A(s.type)})),{oldNumber:s.oldNumber,newNumber:s.newNumber}):undefined;const{left:d,right:c}=this.generateLineHtml(e,l,a);r.left+=d;r.right+=c}return r}generateLineHtml(e,n,t){return{left:this.generateSingleLineHtml(e,n),right:this.generateSingleLineHtml(e,t)}}generateSingleLineHtml(e,n){if(n===undefined)return"";const t=this.hoganUtils.render(X,"numbers",{oldNumber:n.oldNumber||"",newNumber:n.newNumber||""});return this.hoganUtils.render(U,"line",{type:n.type,lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line",prefix:n.prefix===" "?"&nbsp;":n.prefix,content:n.content,lineNumber:t,line:n,file:e})}}const Q=Object.assign(Object.assign({},N),{renderNothingWhenEmpty:false,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200});const ee="generic";const ne="side-by-side";const te="icon";const ie="tag";class re{constructor(e,n={}){this.hoganUtils=e;this.config=Object.assign(Object.assign({},Q),n)}render(e){const n=e.map((e=>{let n;if(e.blocks.length){n=this.generateFileHtml(e)}else{n=this.generateEmptyDiff()}return this.makeFileDiffHtml(e,n)})).join("\n");return this.hoganUtils.render(ee,"wrapper",{content:n})}makeFileDiffHtml(e,n){if(this.config.renderNothingWhenEmpty&&Array.isArray(e.blocks)&&e.blocks.length===0)return"";const t=this.hoganUtils.template(ne,"file-diff");const i=this.hoganUtils.template(ee,"file-path");const r=this.hoganUtils.template(te,"file");const f=this.hoganUtils.template(ie,W(e));return t.render({file:e,fileHtmlId:P(e),diffs:n,filePath:i.render({fileDiffName:V(e)},{fileIcon:r,fileTag:f})})}generateEmptyDiff(){return{right:"",left:this.hoganUtils.render(ee,"empty-diff",{contentClass:"d2h-code-side-line",CSSLineClass:C})}}generateFileHtml(e){const n=L(_((n=>D(n.content,e.isCombined).content)));return e.blocks.map((t=>{const i={left:this.makeHeaderHtml(t.header,e),right:this.makeHeaderHtml("")};this.applyLineGroupping(t).forEach((([t,r,f])=>{if(r.length&&f.length&&!t.length){this.applyRematchMatching(r,f,n).map((([n,t])=>{const{left:r,right:f}=this.processChangedLines(e.isCombined,n,t);i.left+=r;i.right+=f}))}else if(t.length){t.forEach((n=>{const{prefix:t,content:r}=D(n.content,e.isCombined);const{left:f,right:o}=this.generateLineHtml({type:C.CONTEXT,prefix:t,content:r,number:n.oldNumber},{type:C.CONTEXT,prefix:t,content:r,number:n.newNumber});i.left+=f;i.right+=o}))}else if(r.length||f.length){const{left:n,right:t}=this.processChangedLines(e.isCombined,r,f);i.left+=n;i.right+=t}else{console.error("Unknown state reached while processing groups of lines",t,r,f)}}));return i})).reduce(((e,n)=>({left:e.left+n.left,right:e.right+n.right})),{left:"",right:""})}applyLineGroupping(e){const n=[];let t=[];let i=[];for(let r=0;r<e.lines.length;r++){const f=e.lines[r];if(f.type!==u.INSERT&&i.length||f.type===u.CONTEXT&&t.length>0){n.push([[],t,i]);t=[];i=[]}if(f.type===u.CONTEXT){n.push([[f],[],[]])}else if(f.type===u.INSERT&&t.length===0){n.push([[],[],[f]])}else if(f.type===u.INSERT&&t.length>0){i.push(f)}else if(f.type===u.DELETE){t.push(f)}}if(t.length||i.length){n.push([[],t,i]);t=[];i=[]}return n}applyRematchMatching(e,n,t){const i=e.length*n.length;const r=Math.max.apply(null,[0].concat(e.concat(n).map((e=>e.content.length))));const f=i<this.config.matchingMaxComparisons&&r<this.config.maxLineSizeInBlockForComparison&&(this.config.matching==="lines"||this.config.matching==="words");return f?t(e,n):[[e,n]]}makeHeaderHtml(e,n){return this.hoganUtils.render(ee,"block-header",{CSSLineClass:C,blockHeader:(n===null||n===void 0?void 0:n.isTooBig)?e:T(e),lineClass:"d2h-code-side-linenumber",contentClass:"d2h-code-side-line"})}processChangedLines(e,n,t){const i={right:"",left:""};const r=Math.max(n.length,t.length);for(let f=0;f<r;f++){const r=n[f];const o=t[f];const s=r!==undefined&&o!==undefined?B(r.content,o.content,e,this.config):undefined;const u=r!==undefined&&r.oldNumber!==undefined?Object.assign(Object.assign({},s!==undefined?{prefix:s.oldLine.prefix,content:s.oldLine.content,type:C.DELETE_CHANGES}:Object.assign(Object.assign({},D(r.content,e)),{type:A(r.type)})),{number:r.oldNumber}):undefined;const l=o!==undefined&&o.newNumber!==undefined?Object.assign(Object.assign({},s!==undefined?{prefix:s.newLine.prefix,content:s.newLine.content,type:C.INSERT_CHANGES}:Object.assign(Object.assign({},D(o.content,e)),{type:A(o.type)})),{number:o.newNumber}):undefined;const{left:a,right:d}=this.generateLineHtml(u,l);i.left+=a;i.right+=d}return i}generateLineHtml(e,n){return{left:this.generateSingleHtml(e),right:this.generateSingleHtml(n)}}generateSingleHtml(e){const n="d2h-code-side-linenumber";const t="d2h-code-side-line";return this.hoganUtils.render(ee,"line",{type:(e===null||e===void 0?void 0:e.type)||`${C.CONTEXT} d2h-emptyplaceholder`,lineClass:e!==undefined?n:`${n} d2h-code-side-emptyplaceholder`,contentClass:e!==undefined?t:`${t} d2h-code-side-emptyplaceholder`,prefix:(e===null||e===void 0?void 0:e.prefix)===" "?"&nbsp;":e===null||e===void 0?void 0:e.prefix,content:e===null||e===void 0?void 0:e.content,lineNumber:e===null||e===void 0?void 0:e.number})}}var fe=i((function(e,n){(function(e){var n=/\S/,t=/\"/g,i=/\n/g,r=/\r/g,f=/\\/g,o=/\u2028/,s=/\u2029/;e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12};e.scan=function t(i,r){var f=i.length,o=0,s=1,d=2,c=o,h=null,v=null,p="",b=[],m=false,g=0,w=0,y="{{",x="}}";function j(){if(p.length>0){b.push({tag:"_t",text:new String(p)});p=""}}function O(){var t=true;for(var i=w;i<b.length;i++){t=e.tags[b[i].tag]<e.tags["_v"]||b[i].tag=="_t"&&b[i].text.match(n)===null;if(!t){return false}}return t}function S(e,n){j();if(e&&O()){for(var t=w,i;t<b.length;t++){if(b[t].text){if((i=b[t+1])&&i.tag==">"){i.indent=b[t].text.toString()}b.splice(t,1)}}}else if(!n){b.push({tag:"\n"})}m=false;w=b.length}function k(e,n){var t="="+x,i=e.indexOf(t,n),r=l(e.substring(e.indexOf("=",n)+1,i)).split(" ");y=r[0];x=r[r.length-1];return i+t.length-1}if(r){r=r.split(" ");y=r[0];x=r[1]}for(g=0;g<f;g++){if(c==o){if(a(y,i,g)){--g;j();c=s}else{if(i.charAt(g)=="\n"){S(m)}else{p+=i.charAt(g)}}}else if(c==s){g+=y.length-1;v=e.tags[i.charAt(g+1)];h=v?i.charAt(g+1):"_v";if(h=="="){g=k(i,g);c=o}else{if(v){g++}c=d}m=g}else{if(a(x,i,g)){b.push({tag:h,n:l(p),otag:y,ctag:x,i:h=="/"?m-y.length:g+x.length});p="";g+=x.length-1;c=o;if(h=="{"){if(x=="}}"){g++}else{u(b[b.length-1])}}}else{p+=i.charAt(g)}}}S(m,true);return b};function u(e){if(e.n.substr(e.n.length-1)==="}"){e.n=e.n.substring(0,e.n.length-1)}}function l(e){if(e.trim){return e.trim()}return e.replace(/^\s*|\s*$/g,"")}function a(e,n,t){if(n.charAt(t)!=e.charAt(0)){return false}for(var i=1,r=e.length;i<r;i++){if(n.charAt(t+i)!=e.charAt(i)){return false}}return true}var d={_t:true,"\n":true,$:true,"/":true};function c(n,t,i,r){var f=[],o=null,s=null,u=null;s=i[i.length-1];while(n.length>0){u=n.shift();if(s&&s.tag=="<"&&!(u.tag in d)){throw new Error("Illegal content in < super tag.")}if(e.tags[u.tag]<=e.tags["$"]||h(u,r)){i.push(u);u.nodes=c(n,u.tag,i,r)}else if(u.tag=="/"){if(i.length===0){throw new Error("Closing tag without opener: /"+u.n)}o=i.pop();if(u.n!=o.n&&!v(u.n,o.n,r)){throw new Error("Nesting error: "+o.n+" vs. "+u.n)}o.end=u.i;return f}else if(u.tag=="\n"){u.last=n.length==0||n[0].tag=="\n"}f.push(u)}if(i.length>0){throw new Error("missing closing tag: "+i.pop().n)}return f}function h(e,n){for(var t=0,i=n.length;t<i;t++){if(n[t].o==e.n){e.tag="#";return true}}}function v(e,n,t){for(var i=0,r=t.length;i<r;i++){if(t[i].c==e&&t[i].o==n){return true}}}function p(e){var n=[];for(var t in e){n.push('"'+g(t)+'": function(c,p,t,i) {'+e[t]+"}")}return"{ "+n.join(",")+" }"}function b(e){var n=[];for(var t in e.partials){n.push('"'+g(t)+'":{name:"'+g(e.partials[t].name)+'", '+b(e.partials[t])+"}")}return"partials: {"+n.join(",")+"}, subs: "+p(e.subs)}e.stringify=function(n,t,i){return"{code: function (c,p,i) { "+e.wrapMain(n.code)+" },"+b(n)+"}"};var m=0;e.generate=function(n,t,i){m=0;var r={code:"",subs:{},partials:{}};e.walk(n,r);if(i.asString){return this.stringify(r,t,i)}return this.makeTemplate(r,t,i)};e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"};e.template=e.Template;e.makeTemplate=function(e,n,t){var i=this.makePartials(e);i.code=new Function("c","p","i",this.wrapMain(e.code));return new this.template(i,n,this,t)};e.makePartials=function(e){var n,t={subs:{},partials:e.partials,name:e.name};for(n in t.partials){t.partials[n]=this.makePartials(t.partials[n])}for(n in e.subs){t.subs[n]=new Function("c","p","t","i",e.subs[n])}return t};function g(e){return e.replace(f,"\\\\").replace(t,'\\"').replace(i,"\\n").replace(r,"\\r").replace(o,"\\u2028").replace(s,"\\u2029")}function w(e){return~e.indexOf(".")?"d":"f"}function y(e,n){var t="<"+(n.prefix||"");var i=t+e.n+m++;n.partials[i]={name:e.n,partials:{}};n.code+='t.b(t.rp("'+g(i)+'",c,p,"'+(e.indent||"")+'"));';return i}e.codegen={"#":function(n,t){t.code+="if(t.s(t."+w(n.n)+'("'+g(n.n)+'",c,p,1),'+"c,p,0,"+n.i+","+n.end+',"'+n.otag+" "+n.ctag+'")){'+"t.rs(c,p,"+"function(c,p,t){";e.walk(n.nodes,t);t.code+="});c.pop();}"},"^":function(n,t){t.code+="if(!t.s(t."+w(n.n)+'("'+g(n.n)+'",c,p,1),c,p,1,0,0,"")){';e.walk(n.nodes,t);t.code+="};"},">":y,"<":function(n,t){var i={partials:{},code:"",subs:{},inPartial:true};e.walk(n.nodes,i);var r=t.partials[y(n,t)];r.subs=i.subs;r.partials=i.partials},$:function(n,t){var i={subs:{},code:"",partials:t.partials,prefix:n.n};e.walk(n.nodes,i);t.subs[n.n]=i.code;if(!t.inPartial){t.code+='t.sub("'+g(n.n)+'",c,p,i);'}},"\n":function(e,n){n.code+=j('"\\n"'+(e.last?"":" + i"))},_v:function(e,n){n.code+="t.b(t.v(t."+w(e.n)+'("'+g(e.n)+'",c,p,0)));'},_t:function(e,n){n.code+=j('"'+g(e.text)+'"')},"{":x,"&":x};function x(e,n){n.code+="t.b(t.t(t."+w(e.n)+'("'+g(e.n)+'",c,p,0)));'}function j(e){return"t.b("+e+");"}e.walk=function(n,t){var i;for(var r=0,f=n.length;r<f;r++){i=e.codegen[n[r].tag];i&&i(n[r],t)}return t};e.parse=function(e,n,t){t=t||{};return c(e,"",[],t.sectionTags||[])};e.cache={};e.cacheKey=function(e,n){return[e,!!n.asString,!!n.disableLambda,n.delimiters,!!n.modelGet].join("||")};e.compile=function(n,t){t=t||{};var i=e.cacheKey(n,t);var r=this.cache[i];if(r){var f=r.partials;for(var o in f){delete f[o].instance}return r}r=this.generate(this.parse(this.scan(n,t.delimiters),n,t),n,t);return this.cache[i]=r}})(n)}));var oe=i((function(e,n){(function(e){e.Template=function(e,n,t,i){e=e||{};this.r=e.code||this.r;this.c=t;this.options=i||{};this.text=n||"";this.partials=e.partials||{};this.subs=e.subs||{};this.buf=""};e.Template.prototype={r:function(e,n,t){return""},v:a,t:l,render:function e(n,t,i){return this.ri([n],t||{},i)},ri:function(e,n,t){return this.r(e,n,t)},ep:function(e,n){var i=this.partials[e];var r=n[i.name];if(i.instance&&i.base==r){return i.instance}if(typeof r=="string"){if(!this.c){throw new Error("No compiler available.")}r=this.c.compile(r,this.options)}if(!r){return null}this.partials[e].base=r;if(i.subs){if(!n.stackText)n.stackText={};for(key in i.subs){if(!n.stackText[key]){n.stackText[key]=this.activeSub!==undefined&&n.stackText[this.activeSub]?n.stackText[this.activeSub]:this.text}}r=t(r,i.subs,i.partials,this.stackSubs,this.stackPartials,n.stackText)}this.partials[e].instance=r;return r},rp:function(e,n,t,i){var r=this.ep(e,t);if(!r){return""}return r.ri(n,t,i)},rs:function(e,n,t){var i=e[e.length-1];if(!d(i)){t(e,n,this);return}for(var r=0;r<i.length;r++){e.push(i[r]);t(e,n,this);e.pop()}},s:function(e,n,t,i,r,f,o){var s;if(d(e)&&e.length===0){return false}if(typeof e=="function"){e=this.ms(e,n,t,i,r,f,o)}s=!!e;if(!i&&s&&n){n.push(typeof e=="object"?e:n[n.length-1])}return s},d:function(e,t,i,r){var f,o=e.split("."),s=this.f(o[0],t,i,r),u=this.options.modelGet,l=null;if(e==="."&&d(t[t.length-2])){s=t[t.length-1]}else{for(var a=1;a<o.length;a++){f=n(o[a],s,u);if(f!==undefined){l=s;s=f}else{s=""}}}if(r&&!s){return false}if(!r&&typeof s=="function"){t.push(l);s=this.mv(s,t,i);t.pop()}return s},f:function(e,t,i,r){var f=false,o=null,s=false,u=this.options.modelGet;for(var l=t.length-1;l>=0;l--){o=t[l];f=n(e,o,u);if(f!==undefined){s=true;break}}if(!s){return r?false:""}if(!r&&typeof f=="function"){f=this.mv(f,t,i)}return f},ls:function(e,n,t,i,r){var f=this.options.delimiters;this.options.delimiters=r;this.b(this.ct(l(e.call(n,i)),n,t));this.options.delimiters=f;return false},ct:function(e,n,t){if(this.options.disableLambda){throw new Error("Lambda features disabled.")}return this.c.compile(e,this.options).render(n,t)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;this.buf="";return e},ms:function(e,n,t,i,r,f,o){var s,u=n[n.length-1],l=e.call(u);if(typeof l=="function"){if(i){return true}else{s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text;return this.ls(l,u,t,s.substring(r,f),o)}}return l},mv:function(e,n,t){var i=n[n.length-1];var r=e.call(i);if(typeof r=="function"){return this.ct(l(r.call(i)),i,t)}return r},sub:function(e,n,t,i){var r=this.subs[e];if(r){this.activeSub=e;r(n,t,this,i);this.activeSub=false}}};function n(e,n,t){var i;if(n&&typeof n=="object"){if(n[e]!==undefined){i=n[e]}else if(t&&n.get&&typeof n.get=="function"){i=n.get(e)}}return i}function t(e,n,t,i,r,f){function o(){}o.prototype=e;function s(){}s.prototype=e.subs;var u;var l=new o;l.subs=new s;l.subsText={};l.buf="";i=i||{};l.stackSubs=i;l.subsText=f;for(u in n){if(!i[u])i[u]=n[u]}for(u in i){l.subs[u]=i[u]}r=r||{};l.stackPartials=r;for(u in t){if(!r[u])r[u]=t[u]}for(u in r){l.partials[u]=r[u]}return l}var i=/&/g,r=/</g,f=/>/g,o=/\'/g,s=/\"/g,u=/[&<>\"\']/;function l(e){return String(e===null||e===undefined?"":e)}function a(e){e=l(e);return u.test(e)?e.replace(i,"&amp;").replace(r,"&lt;").replace(f,"&gt;").replace(o,"&#39;").replace(s,"&quot;"):e}var d=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}})(n)}));fe.Template=oe.Template;fe.template=fe.Template;var se=fe;const ue={};ue["file-summary-line"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<li class="d2h-file-list-line">');i.b("\n"+t);i.b('    <span class="d2h-file-name-wrapper">');i.b("\n"+t);i.b(i.rp("<fileIcon0",e,n,"      "));i.b('      <a href="#');i.b(i.v(i.f("fileHtmlId",e,n,0)));i.b('" class="d2h-file-name">');i.b(i.v(i.f("fileName",e,n,0)));i.b("</a>");i.b("\n"+t);i.b('      <span class="d2h-file-stats">');i.b("\n"+t);i.b('          <span class="d2h-lines-added">');i.b(i.v(i.f("addedLines",e,n,0)));i.b("</span>");i.b("\n"+t);i.b('          <span class="d2h-lines-deleted">');i.b(i.v(i.f("deletedLines",e,n,0)));i.b("</span>");i.b("\n"+t);i.b("      </span>");i.b("\n"+t);i.b("    </span>");i.b("\n"+t);i.b("</li>");return i.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}}},subs:{}});ue["file-summary-wrapper"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<div class="d2h-file-list-wrapper">');i.b("\n"+t);i.b('    <div class="d2h-file-list-header">');i.b("\n"+t);i.b('        <span class="d2h-file-list-title">Files changed (');i.b(i.v(i.f("filesNumber",e,n,0)));i.b(")</span>");i.b("\n"+t);i.b('        <a class="d2h-file-switch d2h-hide">hide</a>');i.b("\n"+t);i.b('        <a class="d2h-file-switch d2h-show">show</a>');i.b("\n"+t);i.b("    </div>");i.b("\n"+t);i.b('    <ol class="d2h-file-list">');i.b("\n"+t);i.b("    ");i.b(i.t(i.f("files",e,n,0)));i.b("\n"+t);i.b("    </ol>");i.b("\n"+t);i.b("</div>");return i.fl()},partials:{},subs:{}});ue["generic-block-header"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b("<tr>");i.b("\n"+t);i.b('    <td class="');i.b(i.v(i.f("lineClass",e,n,0)));i.b(" ");i.b(i.v(i.d("CSSLineClass.INFO",e,n,0)));i.b('"></td>');i.b("\n"+t);i.b('    <td class="');i.b(i.v(i.d("CSSLineClass.INFO",e,n,0)));i.b('">');i.b("\n"+t);i.b('        <div class="');i.b(i.v(i.f("contentClass",e,n,0)));i.b('">');if(i.s(i.f("blockHeader",e,n,1),e,n,0,156,173,"{{ }}")){i.rs(e,n,(function(e,n,t){t.b(t.t(t.f("blockHeader",e,n,0)))}));e.pop()}if(!i.s(i.f("blockHeader",e,n,1),e,n,1,0,0,"")){i.b("&nbsp;")}i.b("</div>");i.b("\n"+t);i.b("    </td>");i.b("\n"+t);i.b("</tr>");return i.fl()},partials:{},subs:{}});ue["generic-empty-diff"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b("<tr>");i.b("\n"+t);i.b('    <td class="');i.b(i.v(i.d("CSSLineClass.INFO",e,n,0)));i.b('">');i.b("\n"+t);i.b('        <div class="');i.b(i.v(i.f("contentClass",e,n,0)));i.b('">');i.b("\n"+t);i.b("            File without changes");i.b("\n"+t);i.b("        </div>");i.b("\n"+t);i.b("    </td>");i.b("\n"+t);i.b("</tr>");return i.fl()},partials:{},subs:{}});ue["generic-file-path"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<span class="d2h-file-name-wrapper">');i.b("\n"+t);i.b(i.rp("<fileIcon0",e,n,"    "));i.b('    <span class="d2h-file-name">');i.b(i.v(i.f("fileDiffName",e,n,0)));i.b("</span>");i.b("\n"+t);i.b(i.rp("<fileTag1",e,n,"    "));i.b("</span>");i.b("\n"+t);i.b('<label class="d2h-file-collapse">');i.b("\n"+t);i.b('    <input class="d2h-file-collapse-input" type="checkbox" name="viewed" value="viewed">');i.b("\n"+t);i.b("    Viewed");i.b("\n"+t);i.b("</label>");return i.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}},"<fileTag1":{name:"fileTag",partials:{},subs:{}}},subs:{}});ue["generic-line"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b("<tr>");i.b("\n"+t);i.b('    <td class="');i.b(i.v(i.f("lineClass",e,n,0)));i.b(" ");i.b(i.v(i.f("type",e,n,0)));i.b('">');i.b("\n"+t);i.b("      ");i.b(i.t(i.f("lineNumber",e,n,0)));i.b("\n"+t);i.b("    </td>");i.b("\n"+t);i.b('    <td class="');i.b(i.v(i.f("type",e,n,0)));i.b('">');i.b("\n"+t);i.b('        <div class="');i.b(i.v(i.f("contentClass",e,n,0)));i.b('">');i.b("\n"+t);if(i.s(i.f("prefix",e,n,1),e,n,0,162,238,"{{ }}")){i.rs(e,n,(function(e,n,i){i.b('            <span class="d2h-code-line-prefix">');i.b(i.t(i.f("prefix",e,n,0)));i.b("</span>");i.b("\n"+t)}));e.pop()}if(!i.s(i.f("prefix",e,n,1),e,n,1,0,0,"")){i.b('            <span class="d2h-code-line-prefix">&nbsp;</span>');i.b("\n"+t)}if(i.s(i.f("content",e,n,1),e,n,0,371,445,"{{ }}")){i.rs(e,n,(function(e,n,i){i.b('            <span class="d2h-code-line-ctn">');i.b(i.t(i.f("content",e,n,0)));i.b("</span>");i.b("\n"+t)}));e.pop()}if(!i.s(i.f("content",e,n,1),e,n,1,0,0,"")){i.b('            <span class="d2h-code-line-ctn"><br></span>');i.b("\n"+t)}i.b("        </div>");i.b("\n"+t);i.b("    </td>");i.b("\n"+t);i.b("</tr>");return i.fl()},partials:{},subs:{}});ue["generic-wrapper"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<div class="d2h-wrapper">');i.b("\n"+t);i.b("    ");i.b(i.t(i.f("content",e,n,0)));i.b("\n"+t);i.b("</div>");return i.fl()},partials:{},subs:{}});ue["icon-file-added"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<svg aria-hidden="true" class="d2h-icon d2h-added" height="16" title="added" version="1.1" viewBox="0 0 14 16"');i.b("\n"+t);i.b('     width="14">');i.b("\n"+t);i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path>');i.b("\n"+t);i.b("</svg>");return i.fl()},partials:{},subs:{}});ue["icon-file-changed"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"');i.b("\n"+t);i.b('     viewBox="0 0 14 16" width="14">');i.b("\n"+t);i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>');i.b("\n"+t);i.b("</svg>");return i.fl()},partials:{},subs:{}});ue["icon-file-deleted"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<svg aria-hidden="true" class="d2h-icon d2h-deleted" height="16" title="removed" version="1.1"');i.b("\n"+t);i.b('     viewBox="0 0 14 16" width="14">');i.b("\n"+t);i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM11 9H3V7h8v2z"></path>');i.b("\n"+t);i.b("</svg>");return i.fl()},partials:{},subs:{}});ue["icon-file-renamed"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<svg aria-hidden="true" class="d2h-icon d2h-moved" height="16" title="renamed" version="1.1"');i.b("\n"+t);i.b('     viewBox="0 0 14 16" width="14">');i.b("\n"+t);i.b('    <path d="M6 9H3V7h3V4l5 4-5 4V9z m8-7v12c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h12c0.55 0 1 0.45 1 1z m-1 0H1v12h12V2z"></path>');i.b("\n"+t);i.b("</svg>");return i.fl()},partials:{},subs:{}});ue["icon-file"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">');i.b("\n"+t);i.b('    <path d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>');i.b("\n"+t);i.b("</svg>");return i.fl()},partials:{},subs:{}});ue["line-by-line-file-diff"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<div id="');i.b(i.v(i.f("fileHtmlId",e,n,0)));i.b('" class="d2h-file-wrapper" data-lang="');i.b(i.v(i.d("file.language",e,n,0)));i.b('">');i.b("\n"+t);i.b('    <div class="d2h-file-header">');i.b("\n"+t);i.b("    ");i.b(i.t(i.f("filePath",e,n,0)));i.b("\n"+t);i.b("    </div>");i.b("\n"+t);i.b('    <div class="d2h-file-diff">');i.b("\n"+t);i.b('        <div class="d2h-code-wrapper">');i.b("\n"+t);i.b('            <table class="d2h-diff-table">');i.b("\n"+t);i.b('                <tbody class="d2h-diff-tbody">');i.b("\n"+t);i.b("                ");i.b(i.t(i.f("diffs",e,n,0)));i.b("\n"+t);i.b("                </tbody>");i.b("\n"+t);i.b("            </table>");i.b("\n"+t);i.b("        </div>");i.b("\n"+t);i.b("    </div>");i.b("\n"+t);i.b("</div>");return i.fl()},partials:{},subs:{}});ue["line-by-line-numbers"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<div class="line-num1">');i.b(i.v(i.f("oldNumber",e,n,0)));i.b("</div>");i.b("\n"+t);i.b('<div class="line-num2">');i.b(i.v(i.f("newNumber",e,n,0)));i.b("</div>");return i.fl()},partials:{},subs:{}});ue["side-by-side-file-diff"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<div id="');i.b(i.v(i.f("fileHtmlId",e,n,0)));i.b('" class="d2h-file-wrapper" data-lang="');i.b(i.v(i.d("file.language",e,n,0)));i.b('">');i.b("\n"+t);i.b('    <div class="d2h-file-header">');i.b("\n"+t);i.b("      ");i.b(i.t(i.f("filePath",e,n,0)));i.b("\n"+t);i.b("    </div>");i.b("\n"+t);i.b('    <div class="d2h-files-diff">');i.b("\n"+t);i.b('        <div class="d2h-file-side-diff">');i.b("\n"+t);i.b('            <div class="d2h-code-wrapper">');i.b("\n"+t);i.b('                <table class="d2h-diff-table">');i.b("\n"+t);i.b('                    <tbody class="d2h-diff-tbody">');i.b("\n"+t);i.b("                    ");i.b(i.t(i.d("diffs.left",e,n,0)));i.b("\n"+t);i.b("                    </tbody>");i.b("\n"+t);i.b("                </table>");i.b("\n"+t);i.b("            </div>");i.b("\n"+t);i.b("        </div>");i.b("\n"+t);i.b('        <div class="d2h-file-side-diff">');i.b("\n"+t);i.b('            <div class="d2h-code-wrapper">');i.b("\n"+t);i.b('                <table class="d2h-diff-table">');i.b("\n"+t);i.b('                    <tbody class="d2h-diff-tbody">');i.b("\n"+t);i.b("                    ");i.b(i.t(i.d("diffs.right",e,n,0)));i.b("\n"+t);i.b("                    </tbody>");i.b("\n"+t);i.b("                </table>");i.b("\n"+t);i.b("            </div>");i.b("\n"+t);i.b("        </div>");i.b("\n"+t);i.b("    </div>");i.b("\n"+t);i.b("</div>");return i.fl()},partials:{},subs:{}});ue["tag-file-added"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<span class="d2h-tag d2h-added d2h-added-tag">ADDED</span>');return i.fl()},partials:{},subs:{}});ue["tag-file-changed"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span>');return i.fl()},partials:{},subs:{}});ue["tag-file-deleted"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<span class="d2h-tag d2h-deleted d2h-deleted-tag">DELETED</span>');return i.fl()},partials:{},subs:{}});ue["tag-file-renamed"]=new se.Template({code:function(e,n,t){var i=this;i.b(t=t||"");i.b('<span class="d2h-tag d2h-moved d2h-moved-tag">RENAMED</span>');return i.fl()},partials:{},subs:{}});class le{constructor({compiledTemplates:e={},rawTemplates:n={}}){const t=Object.entries(n).reduce(((e,[n,t])=>{const i=se.compile(t,{asString:false});return Object.assign(Object.assign({},e),{[n]:i})}),{});this.preCompiledTemplates=Object.assign(Object.assign(Object.assign({},ue),e),t)}static compile(e){return se.compile(e,{asString:false})}render(e,n,t,i,r){const f=this.templateKey(e,n);try{const e=this.preCompiledTemplates[f];return e.render(t,i,r)}catch(e){throw new Error(`Could not find template to render '${f}'`)}}template(e,n){return this.preCompiledTemplates[this.templateKey(e,n)]}templateKey(e,n){return`${e}-${n}`}}const ae=Object.assign(Object.assign(Object.assign({},G),Q),{outputFormat:l.LINE_BY_LINE,drawFileList:true});function de(e,n={}){const t=Object.assign(Object.assign({},ae),n);const i=typeof e==="string"?O(e,t):e;const r=new le(t);const f=t.drawFileList?q(i,r):"";const o=t.outputFormat==="side-by-side"?new re(r,t).render(i):new K(r,t).render(i);return f+o}var ce=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n["default"]=t;function t(){}t.prototype={diff:function e(n,t){var f=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var o=f.callback;if(typeof f==="function"){o=f;f={}}this.options=f;var s=this;function u(e){if(o){setTimeout((function(){o(undefined,e)}),0);return true}else{return e}}n=this.castInput(n);t=this.castInput(t);n=this.removeEmpty(this.tokenize(n));t=this.removeEmpty(this.tokenize(t));var l=t.length,a=n.length;var d=1;var c=l+a;if(f.maxEditLength){c=Math.min(c,f.maxEditLength)}var h=[{newPos:-1,components:[]}];var v=this.extractCommon(h[0],t,n,0);if(h[0].newPos+1>=l&&v+1>=a){return u([{value:this.join(t),count:t.length}])}function p(){for(var e=-1*d;e<=d;e+=2){var f=void 0;var o=h[e-1],c=h[e+1],v=(c?c.newPos:0)-e;if(o){h[e-1]=undefined}var p=o&&o.newPos+1<l,b=c&&0<=v&&v<a;if(!p&&!b){h[e]=undefined;continue}if(!p||b&&o.newPos<c.newPos){f=r(c);s.pushComponent(f.components,undefined,true)}else{f=o;f.newPos++;s.pushComponent(f.components,true,undefined)}v=s.extractCommon(f,t,n,e);if(f.newPos+1>=l&&v+1>=a){return u(i(s,f.components,t,n,s.useLongestToken))}else{h[e]=f}}d++}if(o){(function e(){setTimeout((function(){if(d>c){return o()}if(!p()){e()}}),0)})()}else{while(d<=c){var b=p();if(b){return b}}}},pushComponent:function e(n,t,i){var r=n[n.length-1];if(r&&r.added===t&&r.removed===i){n[n.length-1]={count:r.count+1,added:t,removed:i}}else{n.push({count:1,added:t,removed:i})}},extractCommon:function e(n,t,i,r){var f=t.length,o=i.length,s=n.newPos,u=s-r,l=0;while(s+1<f&&u+1<o&&this.equals(t[s+1],i[u+1])){s++;u++;l++}if(l){n.components.push({count:l})}n.newPos=s;return u},equals:function e(n,t){if(this.options.comparator){return this.options.comparator(n,t)}else{return n===t||this.options.ignoreCase&&n.toLowerCase()===t.toLowerCase()}},removeEmpty:function e(n){var t=[];for(var i=0;i<n.length;i++){if(n[i]){t.push(n[i])}}return t},castInput:function e(n){return n},tokenize:function e(n){return n.split("")},join:function e(n){return n.join("")}};function i(e,n,t,i,r){var f=0,o=n.length,s=0,u=0;for(;f<o;f++){var l=n[f];if(!l.removed){if(!l.added&&r){var a=t.slice(s,s+l.count);a=a.map((function(e,n){var t=i[u+n];return t.length>e.length?t:e}));l.value=e.join(a)}else{l.value=e.join(t.slice(s,s+l.count))}s+=l.count;if(!l.added){u+=l.count}}else{l.value=e.join(i.slice(u,u+l.count));u+=l.count;if(f&&n[f-1].added){var d=n[f-1];n[f-1]=n[f];n[f]=d}}}var c=n[o-1];if(o>1&&typeof c.value==="string"&&(c.added||c.removed)&&e.equals("",c.value)){n[o-2].value+=c.value;n.pop()}return n}function r(e){return{newPos:e.newPos,components:e.components.slice(0)}}}));var he=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.diffChars=f;n.characterDiff=void 0;var t=i(ce);function i(e){return e&&e.__esModule?e:{default:e}}var r=new t["default"];n.characterDiff=r;function f(e,n,t){return r.diff(e,n,t)}}));var ve=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.generateOptions=t;function t(e,n){if(typeof e==="function"){n.callback=e}else if(e){for(var t in e){if(e.hasOwnProperty(t)){n[t]=e[t]}}}return n}}));var pe=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.diffWords=s;n.diffWordsWithSpace=u;n.wordDiff=void 0;var t=i(ce);function i(e){return e&&e.__esModule?e:{default:e}}var r=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/;var f=/\S/;var o=new t["default"];n.wordDiff=o;o.equals=function(e,n){if(this.options.ignoreCase){e=e.toLowerCase();n=n.toLowerCase()}return e===n||this.options.ignoreWhitespace&&!f.test(e)&&!f.test(n)};o.tokenize=function(e){var n=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(var t=0;t<n.length-1;t++){if(!n[t+1]&&n[t+2]&&r.test(n[t])&&r.test(n[t+2])){n[t]+=n[t+2];n.splice(t+1,2);t--}}return n};function s(e,n,t){t=(0,ve.generateOptions)(t,{ignoreWhitespace:true});return o.diff(e,n,t)}function u(e,n,t){return o.diff(e,n,t)}}));var be=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.diffLines=f;n.diffTrimmedLines=o;n.lineDiff=void 0;var t=i(ce);function i(e){return e&&e.__esModule?e:{default:e}}var r=new t["default"];n.lineDiff=r;r.tokenize=function(e){var n=[],t=e.split(/(\n|\r\n)/);if(!t[t.length-1]){t.pop()}for(var i=0;i<t.length;i++){var r=t[i];if(i%2&&!this.options.newlineIsToken){n[n.length-1]+=r}else{if(this.options.ignoreWhitespace){r=r.trim()}n.push(r)}}return n};function f(e,n,t){return r.diff(e,n,t)}function o(e,n,t){var i=(0,ve.generateOptions)(t,{ignoreWhitespace:true});return r.diff(e,n,i)}}));var me=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.diffSentences=f;n.sentenceDiff=void 0;var t=i(ce);function i(e){return e&&e.__esModule?e:{default:e}}var r=new t["default"];n.sentenceDiff=r;r.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};function f(e,n,t){return r.diff(e,n,t)}}));var ge=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.diffCss=f;n.cssDiff=void 0;var t=i(ce);function i(e){return e&&e.__esModule?e:{default:e}}var r=new t["default"];n.cssDiff=r;r.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function f(e,n,t){return r.diff(e,n,t)}}));var we=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.diffJson=s;n.canonicalize=u;n.jsonDiff=void 0;var t=i(ce);function i(e){return e&&e.__esModule?e:{default:e}}function r(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){r=function e(n){return typeof n}}else{r=function e(n){return n&&typeof Symbol==="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n}}return r(e)}var f=Object.prototype.toString;var o=new t["default"];n.jsonDiff=o;o.useLongestToken=true;o.tokenize=be.lineDiff.tokenize;o.castInput=function(e){var n=this.options,t=n.undefinedReplacement,i=n.stringifyReplacer,r=i===void 0?function(e,n){return typeof n==="undefined"?t:n}:i;return typeof e==="string"?e:JSON.stringify(u(e,null,null,r),r,"  ")};o.equals=function(e,n){return t["default"].prototype.equals.call(o,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};function s(e,n,t){return o.diff(e,n,t)}function u(e,n,t,i,o){n=n||[];t=t||[];if(i){e=i(o,e)}var s;for(s=0;s<n.length;s+=1){if(n[s]===e){return t[s]}}var l;if("[object Array]"===f.call(e)){n.push(e);l=new Array(e.length);t.push(l);for(s=0;s<e.length;s+=1){l[s]=u(e[s],n,t,i,o)}n.pop();t.pop();return l}if(e&&e.toJSON){e=e.toJSON()}if(r(e)==="object"&&e!==null){n.push(e);l={};t.push(l);var a=[],d;for(d in e){if(e.hasOwnProperty(d)){a.push(d)}}a.sort();for(s=0;s<a.length;s+=1){d=a[s];l[d]=u(e[d],n,t,i,d)}n.pop();t.pop()}else{l=e}return l}}));var ye=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.diffArrays=f;n.arrayDiff=void 0;var t=i(ce);function i(e){return e&&e.__esModule?e:{default:e}}var r=new t["default"];n.arrayDiff=r;r.tokenize=function(e){return e.slice()};r.join=r.removeEmpty=function(e){return e};function f(e,n,t){return r.diff(e,n,t)}}));var xe=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.parsePatch=t;function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var t=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],r=[],f=0;function o(){var e={};r.push(e);while(f<t.length){var i=t[f];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i)){break}var o=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);if(o){e.index=o[1]}f++}s(e);s(e);e.hunks=[];while(f<t.length){var l=t[f];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(l)){break}else if(/^@@/.test(l)){e.hunks.push(u())}else if(l&&n.strict){throw new Error("Unknown line "+(f+1)+" "+JSON.stringify(l))}else{f++}}}function s(e){var n=/^(---|\+\+\+)\s+(.*)$/.exec(t[f]);if(n){var i=n[1]==="---"?"old":"new";var r=n[2].split("\t",2);var o=r[0].replace(/\\\\/g,"\\");if(/^".*"$/.test(o)){o=o.substr(1,o.length-2)}e[i+"FileName"]=o;e[i+"Header"]=(r[1]||"").trim();f++}}function u(){var e=f,r=t[f++],o=r.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/);var s={oldStart:+o[1],oldLines:typeof o[2]==="undefined"?1:+o[2],newStart:+o[3],newLines:typeof o[4]==="undefined"?1:+o[4],lines:[],linedelimiters:[]};if(s.oldLines===0){s.oldStart+=1}if(s.newLines===0){s.newStart+=1}var u=0,l=0;for(;f<t.length;f++){if(t[f].indexOf("--- ")===0&&f+2<t.length&&t[f+1].indexOf("+++ ")===0&&t[f+2].indexOf("@@")===0){break}var a=t[f].length==0&&f!=t.length-1?" ":t[f][0];if(a==="+"||a==="-"||a===" "||a==="\\"){s.lines.push(t[f]);s.linedelimiters.push(i[f]||"\n");if(a==="+"){u++}else if(a==="-"){l++}else if(a===" "){u++;l++}}else{break}}if(!u&&s.newLines===1){s.newLines=0}if(!l&&s.oldLines===1){s.oldLines=0}if(n.strict){if(u!==s.newLines){throw new Error("Added line count did not match for hunk at line "+(e+1))}if(l!==s.oldLines){throw new Error("Removed line count did not match for hunk at line "+(e+1))}}return s}while(f<t.length){o()}return r}}));var je=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n["default"]=t;function t(e,n,t){var i=true,r=false,f=false,o=1;return function s(){if(i&&!f){if(r){o++}else{i=false}if(e+o<=t){return o}f=true}if(!r){if(!f){i=true}if(n<=e-o){return-o++}r=true;return s()}}}}));var Oe=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.applyPatch=r;n.applyPatches=f;var t=i(je);function i(e){return e&&e.__esModule?e:{default:e}}function r(e,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(typeof n==="string"){n=(0,xe.parsePatch)(n)}if(Array.isArray(n)){if(n.length>1){throw new Error("applyPatch only works with a single input.")}n=n[0]}var r=e.split(/\r\n|[\n\v\f\r\x85]/),f=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=n.hunks,s=i.compareLine||function(e,n,t,i){return n===i},u=0,l=i.fuzzFactor||0,a=0,d=0,c,h;function v(e,n){for(var t=0;t<e.lines.length;t++){var i=e.lines[t],f=i.length>0?i[0]:" ",o=i.length>0?i.substr(1):i;if(f===" "||f==="-"){if(!s(n+1,r[n],f,o)){u++;if(u>l){return false}}n++}}return true}for(var p=0;p<o.length;p++){var b=o[p],m=r.length-b.oldLines,g=0,w=d+b.oldStart-1;var y=(0,t["default"])(w,a,m);for(;g!==undefined;g=y()){if(v(b,w+g)){b.offset=d+=g;break}}if(g===undefined){return false}a=b.offset+b.oldStart+b.oldLines}var x=0;for(var j=0;j<o.length;j++){var O=o[j],S=O.oldStart+O.offset+x-1;x+=O.newLines-O.oldLines;for(var k=0;k<O.lines.length;k++){var _=O.lines[k],L=_.length>0?_[0]:" ",C=_.length>0?_.substr(1):_,N=O.linedelimiters[k];if(L===" "){S++}else if(L==="-"){r.splice(S,1);f.splice(S,1)}else if(L==="+"){r.splice(S,0,C);f.splice(S,0,N);S++}else if(L==="\\"){var I=O.lines[k-1]?O.lines[k-1][0]:null;if(I==="+"){c=true}else if(I==="-"){h=true}}}}if(c){while(!r[r.length-1]){r.pop();f.pop()}}else if(h){r.push("");f.push("\n")}for(var E=0;E<r.length-1;E++){r[E]=r[E]+f[E]}return r.join("")}function f(e,n){if(typeof e==="string"){e=(0,xe.parsePatch)(e)}var t=0;function i(){var f=e[t++];if(!f){return n.complete()}n.loadFile(f,(function(e,t){if(e){return n.complete(e)}var o=r(t,f,n);n.patched(f,o,(function(e){if(e){return n.complete(e)}i()}))}))}i()}}));var Se=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.structuredPatch=u;n.formatPatch=l;n.createTwoFilesPatch=a;n.createPatch=d;function t(e){return o(e)||f(e)||r(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,n){if(!e)return;if(typeof e==="string")return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor)t=e.constructor.name;if(t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}function f(e){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function o(e){if(Array.isArray(e))return s(e)}function s(e,n){if(n==null||n>e.length)n=e.length;for(var t=0,i=new Array(n);t<n;t++){i[t]=e[t]}return i}function u(e,n,i,r,f,o,s){if(!s){s={}}if(typeof s.context==="undefined"){s.context=4}var u=(0,be.diffLines)(i,r,s);if(!u){return}u.push({value:"",lines:[]});function l(e){return e.map((function(e){return" "+e}))}var a=[];var d=0,c=0,h=[],v=1,p=1;var b=function e(n){var f=u[n],o=f.lines||f.value.replace(/\n$/,"").split("\n");f.lines=o;if(f.added||f.removed){var b;if(!d){var m=u[n-1];d=v;c=p;if(m){h=s.context>0?l(m.lines.slice(-s.context)):[];d-=h.length;c-=h.length}}(b=h).push.apply(b,t(o.map((function(e){return(f.added?"+":"-")+e}))));if(f.added){p+=o.length}else{v+=o.length}}else{if(d){if(o.length<=s.context*2&&n<u.length-2){var g;(g=h).push.apply(g,t(l(o)))}else{var w;var y=Math.min(o.length,s.context);(w=h).push.apply(w,t(l(o.slice(0,y))));var x={oldStart:d,oldLines:v-d+y,newStart:c,newLines:p-c+y,lines:h};if(n>=u.length-2&&o.length<=s.context){var j=/\n$/.test(i);var O=/\n$/.test(r);var S=o.length==0&&h.length>x.oldLines;if(!j&&S&&i.length>0){h.splice(x.oldLines,0,"\\ No newline at end of file")}if(!j&&!S||!O){h.push("\\ No newline at end of file")}}a.push(x);d=0;c=0;h=[]}}v+=o.length;p+=o.length}};for(var m=0;m<u.length;m++){b(m)}return{oldFileName:e,newFileName:n,oldHeader:f,newHeader:o,hunks:a}}function l(e){var n=[];if(e.oldFileName==e.newFileName){n.push("Index: "+e.oldFileName)}n.push("===================================================================");n.push("--- "+e.oldFileName+(typeof e.oldHeader==="undefined"?"":"\t"+e.oldHeader));n.push("+++ "+e.newFileName+(typeof e.newHeader==="undefined"?"":"\t"+e.newHeader));for(var t=0;t<e.hunks.length;t++){var i=e.hunks[t];if(i.oldLines===0){i.oldStart-=1}if(i.newLines===0){i.newStart-=1}n.push("@@ -"+i.oldStart+","+i.oldLines+" +"+i.newStart+","+i.newLines+" @@");n.push.apply(n,i.lines)}return n.join("\n")+"\n"}function a(e,n,t,i,r,f,o){return l(u(e,n,t,i,r,f,o))}function d(e,n,t,i,r,f){return a(e,e,n,t,i,r,f)}}));var ke=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.arrayEqual=t;n.arrayStartsWith=i;function t(e,n){if(e.length!==n.length){return false}return i(e,n)}function i(e,n){if(n.length>e.length){return false}for(var t=0;t<n.length;t++){if(n[t]!==e[t]){return false}}return true}}));var _e=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.calcLineCount=u;n.merge=l;function t(e){return o(e)||f(e)||r(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,n){if(!e)return;if(typeof e==="string")return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor)t=e.constructor.name;if(t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}function f(e){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function o(e){if(Array.isArray(e))return s(e)}function s(e,n){if(n==null||n>e.length)n=e.length;for(var t=0,i=new Array(n);t<n;t++){i[t]=e[t]}return i}function u(e){var n=k(e.lines),t=n.oldLines,i=n.newLines;if(t!==undefined){e.oldLines=t}else{delete e.oldLines}if(i!==undefined){e.newLines=i}else{delete e.newLines}}function l(e,n,t){e=a(e,t);n=a(n,t);var i={};if(e.index||n.index){i.index=e.index||n.index}if(e.newFileName||n.newFileName){if(!d(e)){i.oldFileName=n.oldFileName||e.oldFileName;i.newFileName=n.newFileName||e.newFileName;i.oldHeader=n.oldHeader||e.oldHeader;i.newHeader=n.newHeader||e.newHeader}else if(!d(n)){i.oldFileName=e.oldFileName;i.newFileName=e.newFileName;i.oldHeader=e.oldHeader;i.newHeader=e.newHeader}else{i.oldFileName=c(i,e.oldFileName,n.oldFileName);i.newFileName=c(i,e.newFileName,n.newFileName);i.oldHeader=c(i,e.oldHeader,n.oldHeader);i.newHeader=c(i,e.newHeader,n.newHeader)}}i.hunks=[];var r=0,f=0,o=0,s=0;while(r<e.hunks.length||f<n.hunks.length){var u=e.hunks[r]||{oldStart:Infinity},l=n.hunks[f]||{oldStart:Infinity};if(h(u,l)){i.hunks.push(v(u,o));r++;s+=u.newLines-u.oldLines}else if(h(l,u)){i.hunks.push(v(l,s));f++;o+=l.newLines-l.oldLines}else{var b={oldStart:Math.min(u.oldStart,l.oldStart),oldLines:0,newStart:Math.min(u.newStart+o,l.oldStart+s),newLines:0,lines:[]};p(b,u.oldStart,u.lines,l.oldStart,l.lines);f++;r++;i.hunks.push(b)}}return i}function a(e,n){if(typeof e==="string"){if(/^@@/m.test(e)||/^Index:/m.test(e)){return(0,xe.parsePatch)(e)[0]}if(!n){throw new Error("Must provide a base reference or pass in a patch")}return(0,Se.structuredPatch)(undefined,undefined,n,e)}return e}function d(e){return e.newFileName&&e.newFileName!==e.oldFileName}function c(e,n,t){if(n===t){return n}else{e.conflict=true;return{mine:n,theirs:t}}}function h(e,n){return e.oldStart<n.oldStart&&e.oldStart+e.oldLines<n.oldStart}function v(e,n){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+n,newLines:e.newLines,lines:e.lines}}function p(e,n,i,r,f){var o={offset:n,lines:i,index:0},s={offset:r,lines:f,index:0};w(e,o,s);w(e,s,o);while(o.index<o.lines.length&&s.index<s.lines.length){var l=o.lines[o.index],a=s.lines[s.index];if((l[0]==="-"||l[0]==="+")&&(a[0]==="-"||a[0]==="+")){b(e,o,s)}else if(l[0]==="+"&&a[0]===" "){var d;(d=e.lines).push.apply(d,t(x(o)))}else if(a[0]==="+"&&l[0]===" "){var c;(c=e.lines).push.apply(c,t(x(s)))}else if(l[0]==="-"&&a[0]===" "){m(e,o,s)}else if(a[0]==="-"&&l[0]===" "){m(e,s,o,true)}else if(l===a){e.lines.push(l);o.index++;s.index++}else{g(e,x(o),x(s))}}y(e,o);y(e,s);u(e)}function b(e,n,i){var r=x(n),f=x(i);if(O(r)&&O(f)){if((0,ke.arrayStartsWith)(r,f)&&S(i,r,r.length-f.length)){var o;(o=e.lines).push.apply(o,t(r));return}else if((0,ke.arrayStartsWith)(f,r)&&S(n,f,f.length-r.length)){var s;(s=e.lines).push.apply(s,t(f));return}}else if((0,ke.arrayEqual)(r,f)){var u;(u=e.lines).push.apply(u,t(r));return}g(e,r,f)}function m(e,n,i,r){var f=x(n),o=j(i,f);if(o.merged){var s;(s=e.lines).push.apply(s,t(o.merged))}else{g(e,r?o:f,r?f:o)}}function g(e,n,t){e.conflict=true;e.lines.push({conflict:true,mine:n,theirs:t})}function w(e,n,t){while(n.offset<t.offset&&n.index<n.lines.length){var i=n.lines[n.index++];e.lines.push(i);n.offset++}}function y(e,n){while(n.index<n.lines.length){var t=n.lines[n.index++];e.lines.push(t)}}function x(e){var n=[],t=e.lines[e.index][0];while(e.index<e.lines.length){var i=e.lines[e.index];if(t==="-"&&i[0]==="+"){t="+"}if(t===i[0]){n.push(i);e.index++}else{break}}return n}function j(e,n){var t=[],i=[],r=0,f=false,o=false;while(r<n.length&&e.index<e.lines.length){var s=e.lines[e.index],u=n[r];if(u[0]==="+"){break}f=f||s[0]!==" ";i.push(u);r++;if(s[0]==="+"){o=true;while(s[0]==="+"){t.push(s);s=e.lines[++e.index]}}if(u.substr(1)===s.substr(1)){t.push(s);e.index++}else{o=true}}if((n[r]||"")[0]==="+"&&f){o=true}if(o){return t}while(r<n.length){i.push(n[r++])}return{merged:i,changes:t}}function O(e){return e.reduce((function(e,n){return e&&n[0]==="-"}),true)}function S(e,n,t){for(var i=0;i<t;i++){var r=n[n.length-t+i].substr(1);if(e.lines[e.index+i]!==" "+r){return false}}e.index+=t;return true}function k(e){var n=0;var t=0;e.forEach((function(e){if(typeof e!=="string"){var i=k(e.mine);var r=k(e.theirs);if(n!==undefined){if(i.oldLines===r.oldLines){n+=i.oldLines}else{n=undefined}}if(t!==undefined){if(i.newLines===r.newLines){t+=i.newLines}else{t=undefined}}}else{if(t!==undefined&&(e[0]==="+"||e[0]===" ")){t++}if(n!==undefined&&(e[0]==="-"||e[0]===" ")){n++}}}));return{oldLines:n,newLines:t}}}));var Le=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.convertChangesToDMP=t;function t(e){var n=[],t,i;for(var r=0;r<e.length;r++){t=e[r];if(t.added){i=1}else if(t.removed){i=-1}else{i=0}n.push([i,t.value])}return n}}));var Ce=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});n.convertChangesToXML=t;function t(e){var n=[];for(var t=0;t<e.length;t++){var r=e[t];if(r.added){n.push("<ins>")}else if(r.removed){n.push("<del>")}n.push(i(r.value));if(r.added){n.push("</ins>")}else if(r.removed){n.push("</del>")}}return n.join("")}function i(e){var n=e;n=n.replace(/&/g,"&amp;");n=n.replace(/</g,"&lt;");n=n.replace(/>/g,"&gt;");n=n.replace(/"/g,"&quot;");return n}}));var Ne=i((function(e,n){Object.defineProperty(n,"__esModule",{value:true});Object.defineProperty(n,"Diff",{enumerable:true,get:function e(){return t["default"]}});Object.defineProperty(n,"diffChars",{enumerable:true,get:function e(){return he.diffChars}});Object.defineProperty(n,"diffWords",{enumerable:true,get:function e(){return pe.diffWords}});Object.defineProperty(n,"diffWordsWithSpace",{enumerable:true,get:function e(){return pe.diffWordsWithSpace}});Object.defineProperty(n,"diffLines",{enumerable:true,get:function e(){return be.diffLines}});Object.defineProperty(n,"diffTrimmedLines",{enumerable:true,get:function e(){return be.diffTrimmedLines}});Object.defineProperty(n,"diffSentences",{enumerable:true,get:function e(){return me.diffSentences}});Object.defineProperty(n,"diffCss",{enumerable:true,get:function e(){return ge.diffCss}});Object.defineProperty(n,"diffJson",{enumerable:true,get:function e(){return we.diffJson}});Object.defineProperty(n,"canonicalize",{enumerable:true,get:function e(){return we.canonicalize}});Object.defineProperty(n,"diffArrays",{enumerable:true,get:function e(){return ye.diffArrays}});Object.defineProperty(n,"applyPatch",{enumerable:true,get:function e(){return Oe.applyPatch}});Object.defineProperty(n,"applyPatches",{enumerable:true,get:function e(){return Oe.applyPatches}});Object.defineProperty(n,"parsePatch",{enumerable:true,get:function e(){return xe.parsePatch}});Object.defineProperty(n,"merge",{enumerable:true,get:function e(){return _e.merge}});Object.defineProperty(n,"structuredPatch",{enumerable:true,get:function e(){return Se.structuredPatch}});Object.defineProperty(n,"createTwoFilesPatch",{enumerable:true,get:function e(){return Se.createTwoFilesPatch}});Object.defineProperty(n,"createPatch",{enumerable:true,get:function e(){return Se.createPatch}});Object.defineProperty(n,"convertChangesToDMP",{enumerable:true,get:function e(){return Le.convertChangesToDMP}});Object.defineProperty(n,"convertChangesToXML",{enumerable:true,get:function e(){return Ce.convertChangesToXML}});var t=i(ce);function i(e){return e&&e.__esModule?e:{default:e}}}));const Ie='.d2h-wrapper{text-align:left}.d2h-file-header{background-color:#f7f7f7;border-bottom:1px solid #d8d8d8;display:-webkit-box;display:-ms-flexbox;display:flex;font-family:Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;height:35px;padding:5px 10px}.d2h-file-header.d2h-sticky-header{position:sticky;top:0;z-index:1}.d2h-file-stats{display:-webkit-box;display:-ms-flexbox;display:flex;font-size:14px;margin-left:auto}.d2h-lines-added{border:1px solid #b4e2b4;border-radius:5px 0 0 5px;color:#399839;padding:2px;text-align:right;vertical-align:middle}.d2h-lines-deleted{border:1px solid #e9aeae;border-radius:0 5px 5px 0;color:#c33;margin-left:1px;padding:2px;text-align:left;vertical-align:middle}.d2h-file-name-wrapper{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:15px;width:100%}.d2h-file-name{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap}.d2h-file-wrapper{border:1px solid #ddd;border-radius:3px;margin-bottom:1em}.d2h-file-collapse{-webkit-box-pack:end;-ms-flex-pack:end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid #ddd;border-radius:3px;cursor:pointer;display:none;font-size:12px;justify-content:flex-end;padding:4px 8px}.d2h-file-collapse.d2h-selected{background-color:#c8e1ff}.d2h-file-collapse-input{margin:0 4px 0 0}.d2h-diff-table{border-collapse:collapse;font-family:Menlo,Consolas,monospace;font-size:13px;width:100%}.d2h-files-diff{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.d2h-file-diff{overflow-y:hidden}.d2h-file-diff.d2h-d-none,.d2h-files-diff.d2h-d-none{display:none}.d2h-file-side-diff{display:inline-block;overflow-x:scroll;overflow-y:hidden;width:50%}.d2h-code-line{padding:0 8em;width:calc(100% - 16em)}.d2h-code-line,.d2h-code-side-line{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.d2h-code-side-line{padding:0 4.5em;width:calc(100% - 9em)}.d2h-code-line-ctn{word-wrap:normal;background:none;display:inline-block;padding:0;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle;white-space:pre;width:100%}.d2h-code-line del,.d2h-code-side-line del{background-color:#ffb6ba}.d2h-code-line del,.d2h-code-line ins,.d2h-code-side-line del,.d2h-code-side-line ins{border-radius:.2em;display:inline-block;margin-top:-1px;-webkit-text-decoration:none;text-decoration:none}.d2h-code-line ins,.d2h-code-side-line ins{background-color:#97f295;text-align:left}.d2h-code-line-prefix{word-wrap:normal;background:none;display:inline;padding:0;white-space:pre}.line-num1{float:left}.line-num1,.line-num2{-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;padding:0 .5em;text-overflow:ellipsis;width:3.5em}.line-num2{float:right}.d2h-code-linenumber{background-color:#fff;border:solid #eee;border-width:0 1px;-webkit-box-sizing:border-box;box-sizing:border-box;color:rgba(0,0,0,.3);cursor:pointer;display:inline-block;position:absolute;text-align:right;width:7.5em}.d2h-code-linenumber:after{content:"\\200b"}.d2h-code-side-linenumber{background-color:#fff;border:solid #eee;border-width:0 1px;-webkit-box-sizing:border-box;box-sizing:border-box;color:rgba(0,0,0,.3);cursor:pointer;display:inline-block;overflow:hidden;padding:0 .5em;position:absolute;text-align:right;text-overflow:ellipsis;width:4em}.d2h-code-side-linenumber:after{content:"\\200b"}.d2h-code-side-emptyplaceholder,.d2h-emptyplaceholder{background-color:#f1f1f1;border-color:#e1e1e1}.d2h-code-line-prefix,.d2h-code-linenumber,.d2h-code-side-linenumber,.d2h-emptyplaceholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.d2h-code-linenumber,.d2h-code-side-linenumber{direction:rtl}.d2h-del{background-color:#fee8e9;border-color:#e9aeae}.d2h-ins{background-color:#dfd;border-color:#b4e2b4}.d2h-info{background-color:#f8fafd;border-color:#d5e4f2;color:rgba(0,0,0,.3)}.d2h-file-diff .d2h-del.d2h-change{background-color:#fdf2d0}.d2h-file-diff .d2h-ins.d2h-change{background-color:#ded}.d2h-file-list-wrapper{margin-bottom:10px}.d2h-file-list-wrapper a{color:#3572b0;-webkit-text-decoration:none;text-decoration:none}.d2h-file-list-wrapper a:visited{color:#3572b0}.d2h-file-list-header{text-align:left}.d2h-file-list-title{font-weight:700}.d2h-file-list-line{display:-webkit-box;display:-ms-flexbox;display:flex;text-align:left}.d2h-file-list{display:block;list-style:none;margin:0;padding:0}.d2h-file-list>li{border-bottom:1px solid #ddd;margin:0;padding:5px 10px}.d2h-file-list>li:last-child{border-bottom:none}.d2h-file-switch{cursor:pointer;display:none;font-size:10px}.d2h-icon{fill:currentColor;margin-right:10px;vertical-align:middle}.d2h-deleted{color:#c33}.d2h-added{color:#399839}.d2h-changed{color:#d0b44c}.d2h-moved{color:#3572b0}.d2h-tag{background-color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:10px;margin-left:5px;padding:0 2px}.d2h-deleted-tag{border:1px solid #c33}.d2h-added-tag{border:1px solid #399839}.d2h-changed-tag{border:1px solid #d0b44c}.d2h-moved-tag{border:1px solid #3572b0}:host{display:flex;justify-content:center;align-items:center;flex-direction:column;min-height:100%}.code-editors{display:flex;flex-flow:row nowrap;display:flex}.diff__viewer{max-width:75%;margin-left:12rem}.diff__viewer .d2h-moved-tag{display:none}.diff__viewer .d2h-file-header,.diff__viewer .d2h-file-name-wrapper{position:sticky;top:2rem;z-index:1000 !important}.diff__viewer--single .d2h-code-line-prefix{display:none}.diff__viewer--single .d2h-ins{background-color:unset;border-color:unset}';const Ee=class{constructor(n){e(this,n);this.defaultRenderOptions={outputFormat:"line-by-line",drawFileList:false};this.selectedVersion=0;this.handleSelect=e=>{e.stopPropagation();const n=Number(e.detail.text.replace("version ",""))-1;this.selectedVersion=n;this.updateItems()};this.renderComparison=()=>this.getComparisonHtml(this.selectedVersion+1,this.versions.length,this.getVersion(this.selectedVersion),this.getLatestVersion());this.path=undefined;this.reformatJson=false;this.single=false;this.renderOptions={};this.items=undefined}componentWillLoad(){this.versions=JSON.parse(localStorage.getItem("configMinorVersions")).filter((e=>this.matchConfigSelector(e.configSelector)));this.items=this.versions.map(((e,n)=>({text:"version "+(n+1).toString(),selected:this.isSelected(n)}))).filter(((e,n)=>n!==this.versions.length-1))}render(){return[n("limel-menu",{items:this.items,onSelect:this.handleSelect},n("limel-button",{label:"versions",slot:"trigger"})),n("div",{class:"code-editors"},n("div",{class:`diff__viewer ${this.single?"diff__viewer--single":""}`,innerHTML:this.renderComparison()}," "))]}getLatestVersion(){return this.getVersion(this.versions.length-1)}getVersion(e){return JSON.stringify(o(this.versions,e),null,"    ")}updateItems(){this.items=this.items.map(((e,n)=>{const t=Object.assign({},e);t.selected=this.isSelected(n);return t}))}matchConfigSelector(e){return this.path.split("/")[0]===e.split("/")[0]}isSelected(e){return e===this.selectedVersion}getComparisonHtml(e,n,t,i){const r=`Version ${e}`;const f=`Version ${n} [Latest]`;const o=4;let s=t;let u=i;if(this.reformatJson===true){try{s=JSON.stringify(JSON.parse(t),null,o);u=JSON.stringify(JSON.parse(i),null,o)}catch(e){}}const l=Object.assign(Object.assign({},this.defaultRenderOptions),this.renderOptions);const a=Ne.createTwoFilesPatch(r,f,s,u);return de(a,l)}};Ee.style=Ie;export{Ee as limel_code_diff};
//# sourceMappingURL=limel-code-diff.entry.js.map