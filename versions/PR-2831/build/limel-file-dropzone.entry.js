import{r as t,c as e,h as r,H as i}from"./index-6156b4fd.js";import{g as s,a as o,b as n,c as a}from"./file-metadata-9a4780e2.js";import{b as l}from"./_baseForOwn-5c15df9f.js";import{i as c}from"./isArrayLike-84e8e25f.js";import{b as f}from"./_baseIteratee-28da26ef.js";import{i as d}from"./isArray-80298bc7.js";import"./get-icon-props-0b65f85e.js";import"./_baseIsEqual-bb328657.js";import"./eq-1533d1d3.js";import"./_baseGetTag-49d0259e.js";import"./isObject-7039fcda.js";import"./_getNative-4698fd71.js";import"./isObjectLike-38996507.js";import"./_nodeUtil-0ed26eea.js";import"./isSymbol-f24bedd7.js";import"./toString-0a9c1851.js";import"./_arrayMap-e86f6dbb.js";import"./identity-5b806255.js";function u(t,e,r,i){var s=-1,o=t==null?0:t.length;while(++s<o){var n=t[s];e(i,n,r(n),t)}return i}function p(t,e){return function(r,i){if(r==null){return r}if(!c(r)){return t(r,i)}var s=r.length,o=e?s:-1,n=Object(r);while(e?o--:++o<s){if(i(n[o],o,n)===false){break}}return r}}var m=p(l);function h(t,e,r,i){m(t,(function(t,s,o){e(i,t,r(t),o)}));return i}function b(t,e){return function(r,i){var s=d(r)?u:h,o=e?e():{};return s(r,t,f(i),o)}}var j=b((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));function g(t){const e={id:crypto.randomUUID(),filename:t.name,contentType:t.type,size:t.size,fileContent:t};e.icon={name:s(e),title:o(e),color:n(e),backgroundColor:a(e)};return e}function v(t,e){if(e===undefined||e==="*"){return true}const r=e.split(",").map((t=>t.trim()));return r.some((e=>{if(e===t.contentType){return true}if(e.endsWith("/*")){const r=e.split("/")[0];return t.contentType.startsWith(`${r}/`)}if(e.startsWith(".")){const r=e.split(".")[1];return t.contentType.endsWith(`/${r}`)}}))}const y=":host(limel-file-dropzone){display:grid;position:relative}.has-file-to-drop{animation:display-drop-zone 0.6s ease forwards;box-sizing:border-box;isolation:isolate;z-index:1;position:absolute;inset:0.25rem;overflow:hidden;display:flex;justify-content:center;align-items:center;gap:0.5rem;color:rgb(var(--contrast-700));border:0.125rem dashed rgb(var(--color-cyan-light));border-radius:0.75rem}.text-helpertext{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.icon{width:clamp(2rem, 5vh, 7rem)}.text{font-size:clamp(1rem, 2vh, 1.75rem)}.helper-text{font-size:clamp(0.75rem, 1.5vh, 1rem)}@keyframes display-drop-zone{0%{background-color:rgb(var(--contrast-1100), 0);backdrop-filter:blur(0);-webkit-backdrop-filter:blur(0);scale:0.9;opacity:0}50%{scale:1;opacity:1}100%{background-color:rgb(var(--contrast-1100), 0.8);backdrop-filter:blur(0.25rem);-webkit-backdrop-filter:blur(0.25rem)}}";const x=class{constructor(i){t(this,i);this.filesSelected=e(this,"filesSelected",7);this.filesRejected=e(this,"filesRejected",7);this.renderOnDragLayout=()=>{if(this.disabled||!this.hasFileToDrop){return}return r("div",{class:"has-file-to-drop"},r("limel-icon",{class:"icon",name:"upload_2"}),r("div",{class:"text-helpertext"},this.renderText(),this.renderHelperText()))};this.renderText=()=>{if(!this.text){return}return r("span",{class:"text"},this.text)};this.renderHelperText=()=>{if(!this.helperText){return}return r("span",{class:"helper-text"},this.helperText)};this.handleDrop=t=>{t.stopPropagation();t.preventDefault();this.hasFileToDrop=false;if(this.disabled){return}const e=Array.from(t.dataTransfer.files);const r=e.map(g);const[i,s]=j(r,(t=>v(t,this.accept)));if(i.length>0){this.filesSelected.emit(i)}if(s.length>0){this.filesRejected.emit(s)}};this.handleDragOver=t=>{this.hasFileToDrop=true;t.preventDefault()};this.handleDragLeave=t=>{this.hasFileToDrop=false;t.preventDefault()};this.accept="*";this.disabled=false;this.text=undefined;this.helperText="";this.hasFileToDrop=false}render(){return r(i,{onDrop:this.handleDrop,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave},r("slot",null),this.renderOnDragLayout())}};x.style=y;export{x as limel_file_dropzone};
//# sourceMappingURL=limel-file-dropzone.entry.js.map