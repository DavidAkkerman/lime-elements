import{r as t,c as i,h as s,g as e}from"./index-6156b4fd.js";import{t as r}from"./translations-8927471e.js";class o{constructor(){this.elements=[]}add(t){const i=t.shadowRoot.querySelector("aside");i===null||i===void 0?void 0:i.showPopover();this.elements=[t,...this.elements];this.emitOffsets()}remove(t){const i=t.shadowRoot.querySelector("aside");i===null||i===void 0?void 0:i.hidePopover();this.elements=this.elements.filter((t=>t!==i));this.emitOffsets()}emitOffsets(){let t=0;this.elements.forEach((i=>{i.dispatchEvent(new CustomEvent("changeOffset",{detail:t}));t+=i.shadowRoot.querySelector("aside").getBoundingClientRect().height}))}}const n="*{box-sizing:border-box}aside{border:none;width:30rem;height:5rem;position:fixed;inset:unset;right:0;top:0}@keyframes timeout{0%{stroke-width:4;stroke-dashoffset:0;opacity:1}100%{stroke-width:1;stroke-dashoffset:-100;opacity:0.7}}";const h=new o;const a=class{constructor(s){t(this,s);this.action=i(this,"action",7);this.hide=i(this,"hide",7);this.close=()=>{if(!this.open){return false}this.open=false;h.remove(this.host);this.hide.emit()};this.handleClickAction=()=>{this.action.emit()};this.message=undefined;this.timeout=5e3;this.actionText=undefined;this.dismissible=true;this.multiline=undefined;this.language="en";this.offset=0;this.open=false}onChangeIndex(t){t.stopPropagation();this.offset=t.detail}async show(){if(this.open){return}this.open=true;h.add(this.host);if(this.timeout){setTimeout(this.close,this.timeout)}}render(){return s("aside",{popover:"manual",style:{"--snackbar-timeout":`${this.timeout}ms`,top:`${this.offset}px`}},s("div",{role:"status","aria-relevant":"additions"},s("div",{"aria-atomic":"false"},this.message),this.renderActions(this.actionText),this.renderDismissButton(this.dismissible)))}renderActions(t){if(!t){return}return s("div",{"aria-atomic":"true"},this.renderActionButton(t))}renderActionButton(t){if(!t){return}return s("limel-button",{label:t,onClick:this.handleClickAction})}renderDismissButton(t){if(!t){return}const i=r.get("snackbar.dismiss",this.language);return s("div",{class:"dismiss"},this.renderTimeoutVisualization(),s("limel-icon-button",{icon:"multiply",label:i,onClick:this.close}))}renderTimeoutVisualization(){return s("svg",{width:"36",height:"36",viewBox:"0 0 36 36"},s("circle",{r:"18",cx:"18",cy:"18",fill:"var(--track-color)"}),s("path",{class:"track",d:"M 18,18 m -16,0 a 16,16 0 1,0 32,0 a 16,16 0 1,0 -32,0",stroke:"var(--fill-color)"}))}get host(){return e(this)}};a.style=n;export{a as limel_snackbar};
//# sourceMappingURL=limel-snackbar.entry.js.map