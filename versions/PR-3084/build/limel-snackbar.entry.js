import{r as t,c as s,h as i,g as e}from"./index-6156b4fd.js";import{t as r}from"./translations-8927471e.js";class a{constructor(){this.elements=[]}add(t){const s=t.shadowRoot.querySelector("aside");s===null||s===void 0?void 0:s.showPopover();this.elements=[t,...this.elements];this.emitOffsets()}remove(t){const s=t.shadowRoot.querySelector("aside");s===null||s===void 0?void 0:s.hidePopover();this.elements=this.elements.filter((t=>t!==s));this.emitOffsets()}emitOffsets(){let t=0;this.elements.forEach((s=>{s.dispatchEvent(new CustomEvent("changeOffset",{detail:t}));t+=s.shadowRoot.querySelector("aside").getBoundingClientRect().height}))}}const o="*{box-sizing:border-box}aside{background:none;border:none;inset:unset;top:0;right:0;align-items:center;justify-content:flex-start;padding:0.75rem;min-height:3.25rem;min-width:unset;max-width:42rem;transition:opacity 0.25s cubic-bezier(0, 0, 0.2, 1), transform 0.25s cubic-bezier(0, 0, 0.2, 1)}aside:popover-open{transform:scale(1);opacity:1}aside:backdrop{background-color:transparent}aside.is-closing{transform:scale(0.8);opacity:0}.surface{padding:0.5rem;display:flex;align-items:center;justify-content:flex-start;gap:0.25rem;min-height:3.25rem;min-width:unset;max-width:42rem;border-radius:0.75rem;background-color:rgb(var(--contrast-1400));box-shadow:var(--shadow-depth-8), var(--shadow-depth-16)}.label{color:rgb(var(--contrast-100));-webkit-font-smoothing:antialiased;font-size:0.8125rem;font-weight:400;padding:0 0.25rem;width:100%;flex-grow:1}.actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;gap:0.5rem}.dismiss,.actions{--lime-elevated-surface-background-color:rgb(\n      var(--contrast-1300)\n  )}.dismiss{--mdc-theme-on-surface:rgb(var(--contrast-100));--icon-background-color:var(--lime-elevated-surface-background-color);--fill-color:var(--mdc-theme-primary);--track-color:rgb(var(--contrast-800), 0.2);position:absolute;top:-0.3rem;left:-0.3rem;transform:scale(0.7);display:flex;align-items:center;justify-content:center}.dismiss limel-icon-button.dismiss-button{transform:scale(0.8);margin:0;padding:0}.dismiss svg{position:absolute;transform:rotate(90deg);fill:transparent;stroke-dasharray:100;stroke-linecap:round}aside:popover-open .dismiss svg{animation:timeout var(--snackbar-timeout) linear forwards}@keyframes timeout{0%{stroke-width:4;stroke-dashoffset:0;opacity:1}100%{stroke-width:1;stroke-dashoffset:-100;opacity:0.7}}";const n=new a;const c=class{constructor(i){t(this,i);this.action=s(this,"action",7);this.hide=s(this,"hide",7);this.close=()=>{if(!this.open){return false}this.open=false;const t=300;setTimeout((()=>{n.remove(this.host)}),t);this.hide.emit()};this.handleClickAction=()=>{this.action.emit()};this.message=undefined;this.timeout=5e3;this.actionText=undefined;this.dismissible=true;this.multiline=undefined;this.language="en";this.offset=0;this.open=false}onChangeIndex(t){t.stopPropagation();this.offset=t.detail}async show(){if(this.open){return}this.open=true;n.add(this.host);if(this.timeout){setTimeout(this.close,this.timeout)}}render(){return i("aside",{popover:"manual",style:{"--snackbar-timeout":`${this.timeout}ms`,top:`${this.offset}px`},class:{"is-closing":!this.open}},i("div",{class:"surface",role:"status","aria-relevant":"additions"},i("div",{class:"label","aria-atomic":"false"},this.message),this.renderActions(this.actionText),this.renderDismissButton(this.dismissible)))}renderActions(t){if(!t){return}return i("div",{class:"actions","aria-atomic":"true"},this.renderActionButton(t))}renderActionButton(t){if(!t){return}return i("limel-button",{label:t,onClick:this.handleClickAction})}renderDismissButton(t){if(!t){return}const s=r.get("snackbar.dismiss",this.language);return i("div",{class:"dismiss"},this.renderTimeoutVisualization(),i("limel-icon-button",{class:"dismiss-button",icon:"multiply",label:s,onClick:this.close}))}renderTimeoutVisualization(){return i("svg",{width:"36",height:"36",viewBox:"0 0 36 36"},i("circle",{r:"18",cx:"18",cy:"18",fill:"var(--track-color)"}),i("path",{class:"track",d:"M 18,18 m -16,0 a 16,16 0 1,0 32,0 a 16,16 0 1,0 -32,0",stroke:"var(--fill-color)"}))}get host(){return e(this)}};c.style=o;export{c as limel_snackbar};
//# sourceMappingURL=limel-snackbar.entry.js.map