{"version":3,"names":["breadcrumbsCss","Breadcrumbs","this","renderSteps","items","allStepsWithoutLast","slice","areItemsLinks","map","renderAsLinks","renderAsButtons","h","onClick","handleClick","renderIcon","text","href","_a","link","title","_b","icon","name","renderLastStep","lastItem","some","item","hasOwnProperty","interact","emit","render","componentDidRender","button","host","shadowRoot","querySelector","anchor","makeEnterClickable","disconnectedCallback","removeEnterClickable"],"sources":["./src/components/breadcrumbs/breadcrumbs.scss?tag=limel-breadcrumbs&encapsulation=shadow","./src/components/breadcrumbs/breadcrumbs.tsx"],"sourcesContent":["limel-icon {\n    width: 1.5rem;\n}\n\nol {\n    list-style-type: none;\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n}\nbutton,\nli,\na {\n    display: inline-flex;\n    align-items: center;\n}\n","import {\n    Component,\n    Element,\n    h,\n    Event,\n    EventEmitter,\n    Prop,\n} from '@stencil/core';\nimport { Items } from './breadcrumbs.types';\nimport {\n    makeEnterClickable,\n    removeEnterClickable,\n} from 'src/util/make-enter-clickable';\n\n/**\n * A Breadcrumb consists of a list of distinct \"places\" that user has gone through,\n * before ending up where they are right now, in a website or an application.\n *\n * These \"places\" can be for example _pages_ of a website, which are hierarchically\n * before the current page that the user is looking at.\n * They could also be _steps_ which the user has gone through, which perhaps have no\n * hierarchal relation with each other, but has eventually led the user \"here\".\n *\n * :::note\n * - Where the user currently is, is always the last step of the breadcrumb.\n * - A breadcrumbs never shows where users can go after this place.\n * It only illustrates where user has been before ending up here.\n * If the path that a user can take is not changing and if next steps are clear,\n * you can use the [Progress flow component](#/component/limel-progress-flow) instead.\n * :::\n *\n * Breadcrumbs are often placed horizontally before the main content of the current screen.\n * @exampleComponent limel-example-breadcrumbs-links\n * @exampleComponent limel-example-breadcrumbs-buttons\n */\n\n@Component({\n    tag: 'limel-breadcrumbs',\n    shadow: true,\n    styleUrl: 'breadcrumbs.scss',\n})\nexport class Breadcrumbs {\n    @Prop()\n    public items: Items[];\n\n    /**\n     * Fired when clicking on the flow item\n     */\n    @Event()\n    public interact: EventEmitter<void>;\n\n    @Element()\n    private host: HTMLLimelBreadcrumbsElement;\n\n    private button: HTMLButtonElement;\n    private anchor: HTMLAnchorElement;\n\n    public render() {\n        return (\n            <nav aria-label=\"Breadcrumb\">\n                <ol>\n                    {this.renderSteps(this.items)}\n                    {this.renderLastStep(this.items)}\n                </ol>\n            </nav>\n        );\n    }\n\n    public componentDidRender() {\n        this.button = this.host.shadowRoot.querySelector('button');\n        this.anchor = this.host.shadowRoot.querySelector('a');\n        if (this.button) {\n            makeEnterClickable(this.button);\n        }\n\n        if (this.anchor) {\n            makeEnterClickable(this.anchor);\n        }\n    }\n\n    public disconnectedCallback() {\n        if (this.button) {\n            removeEnterClickable(this.button);\n        }\n\n        if (this.anchor) {\n            removeEnterClickable(this.anchor);\n        }\n    }\n\n    private renderSteps = (items) => {\n        const allStepsWithoutLast = items.slice(0, -1);\n\n        if (this.areItemsLinks(items)) {\n            return allStepsWithoutLast.map(this.renderAsLinks);\n        }\n\n        return allStepsWithoutLast.map(this.renderAsButtons);\n    };\n\n    private renderAsButtons = (items) => {\n        return (\n            <li>\n                <button onClick={this.handleClick}>\n                    {this.renderIcon(items)}\n                    <span>{items.text}</span>\n                </button>\n            </li>\n        );\n    };\n\n    private renderAsLinks = (items) => {\n        return (\n            <li>\n                <a\n                    // onClick={this.handleClick} // FIXME: i don't think we need onClick here, since this is a link, the `href` will take care of the interactions\n                    href={items.link?.href}\n                    title={items.link?.title}\n                >\n                    {this.renderIcon(items)}\n                    <span>{items.text}</span>\n                </a>\n            </li>\n        );\n    };\n\n    private renderIcon = (items) => {\n        if (!items.icon) {\n            return;\n        }\n\n        return <limel-icon name={items.icon} />;\n    };\n\n    private renderLastStep = (items) => {\n        const lastItem = items.slice(-1);\n\n        return (\n            <li aria-current={this.areItemsLinks(items) ? 'page' : 'step'}>\n                <limel-icon name={lastItem[0].icon} />\n                <span>{lastItem[0].text}</span>\n            </li>\n        );\n    };\n\n    private areItemsLinks = (items) => {\n        return items.some((item) => item.hasOwnProperty('link'));\n        // FIXME: lint doesn't like `hasOwnProperty`\n    };\n\n    private handleClick = () => {\n        this.interact.emit();\n    };\n}\n"],"mappings":"2HAAA,MAAMA,EAAiB,+I,MCyCVC,EAAW,M,4DAiDZC,KAAAC,YAAeC,IACnB,MAAMC,EAAsBD,EAAME,MAAM,GAAI,GAE5C,GAAIJ,KAAKK,cAAcH,GAAQ,CAC3B,OAAOC,EAAoBG,IAAIN,KAAKO,c,CAGxC,OAAOJ,EAAoBG,IAAIN,KAAKQ,gBAAgB,EAGhDR,KAAAQ,gBAAmBN,GAEnBO,EAAA,UACIA,EAAA,UAAQC,QAASV,KAAKW,aACjBX,KAAKY,WAAWV,GACjBO,EAAA,YAAOP,EAAMW,QAMrBb,KAAAO,cAAiBL,I,QACrB,OACIO,EAAA,UACIA,EAAA,KAEIK,MAAMC,EAAAb,EAAMc,QAAI,MAAAD,SAAA,SAAAA,EAAED,KAClBG,OAAOC,EAAAhB,EAAMc,QAAI,MAAAE,SAAA,SAAAA,EAAED,OAElBjB,KAAKY,WAAWV,GACjBO,EAAA,YAAOP,EAAMW,OAEhB,EAILb,KAAAY,WAAcV,IAClB,IAAKA,EAAMiB,KAAM,CACb,M,CAGJ,OAAOV,EAAA,cAAYW,KAAMlB,EAAMiB,MAAQ,EAGnCnB,KAAAqB,eAAkBnB,IACtB,MAAMoB,EAAWpB,EAAME,OAAO,GAE9B,OACIK,EAAA,qBAAkBT,KAAKK,cAAcH,GAAS,OAAS,QACnDO,EAAA,cAAYW,KAAME,EAAS,GAAGH,OAC9BV,EAAA,YAAOa,EAAS,GAAGT,MAClB,EAILb,KAAAK,cAAiBH,GACdA,EAAMqB,MAAMC,GAASA,EAAKC,eAAe,UAI5CzB,KAAAW,YAAc,KAClBX,KAAK0B,SAASC,MAAM,E,qBA9FjBC,SACH,OACInB,EAAA,oBAAgB,cACZA,EAAA,UACKT,KAAKC,YAAYD,KAAKE,OACtBF,KAAKqB,eAAerB,KAAKE,Q,CAMnC2B,qBACH7B,KAAK8B,OAAS9B,KAAK+B,KAAKC,WAAWC,cAAc,UACjDjC,KAAKkC,OAASlC,KAAK+B,KAAKC,WAAWC,cAAc,KACjD,GAAIjC,KAAK8B,OAAQ,CACbK,EAAmBnC,KAAK8B,O,CAG5B,GAAI9B,KAAKkC,OAAQ,CACbC,EAAmBnC,KAAKkC,O,EAIzBE,uBACH,GAAIpC,KAAK8B,OAAQ,CACbO,EAAqBrC,KAAK8B,O,CAG9B,GAAI9B,KAAKkC,OAAQ,CACbG,EAAqBrC,KAAKkC,O"}