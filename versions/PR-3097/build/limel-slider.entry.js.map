{"version":3,"names":["cssClasses","DISABLED","DISCRETE","INPUT","RANGE","THUMB","THUMB_FOCUSED","THUMB_KNOB","THUMB_TOP","THUMB_WITH_INDICATOR","TICK_MARKS","TICK_MARKS_CONTAINER","TICK_MARK_ACTIVE","TICK_MARK_INACTIVE","TRACK","TRACK_ACTIVE","VALUE_INDICATOR_TEXT","numbers","STEP_SIZE","THUMB_UPDATE_MIN_PX","attributes","ARIA_VALUETEXT","INPUT_DISABLED","INPUT_MIN","INPUT_MAX","INPUT_VALUE","INPUT_STEP","events","CHANGE","AnimationFrame","this","rafIDs","Map","prototype","request","key","callback","_this","cancel","frameID","requestAnimationFrame","frame","delete","set","rafID","get","cancelAnimationFrame","cancelAll","forEach","_","getQueue","queue","push","TickMark","Thumb","AnimationKeys","HAS_WINDOW","window","MDCSliderFoundation","_super","__extends","adapter","call","__assign","defaultAdapter","initialStylesRemoved","isDisabled","isDiscrete","step","hasTickMarks","isRange","thumb","downEventClientX","startThumbKnobWidth","endThumbKnobWidth","animFrame","Object","defineProperty","hasClass","addClass","undefined","removeClass","addThumbClass","removeThumbClass","getAttribute","getInputValue","setInputValue","getInputAttribute","setInputAttribute","removeInputAttribute","focusInput","isInputFocused","getThumbKnobWidth","getThumbBoundingClientRect","top","right","bottom","left","width","height","getBoundingClientRect","isRTL","setThumbStyleProperty","removeThumbStyleProperty","setTrackActiveStyleProperty","removeTrackActiveStyleProperty","setValueIndicatorText","getValueToAriaValueTextFn","updateTickMarks","setPointerCapture","emitChangeEvent","emitInputEvent","emitDragStartEvent","emitDragEndEvent","registerEventHandler","deregisterEventHandler","registerThumbEventHandler","deregisterThumbEventHandler","registerInputEventHandler","deregisterInputEventHandler","registerBodyEventHandler","deregisterBodyEventHandler","registerWindowEventHandler","deregisterWindowEventHandler","enumerable","configurable","init","min","convertAttributeValueToNumber","START","END","max","value","valueStart","stepAttr","validateProperties","numDecimalPlaces","getNumDecimalPlaces","valueBeforeDownEvent","valueStartBeforeDownEvent","mousedownOrTouchstartListener","handleMousedownOrTouchstart","bind","moveListener","handleMove","pointerdownListener","handlePointerdown","pointerupListener","handlePointerup","thumbMouseenterListener","handleThumbMouseenter","thumbMouseleaveListener","handleThumbMouseleave","inputStartChangeListener","handleInputChange","inputEndChangeListener","inputStartFocusListener","handleInputFocus","inputEndFocusListener","inputStartBlurListener","handleInputBlur","inputEndBlurListener","resizeListener","handleResize","registerEventHandlers","destroy","deregisterEventHandlers","setMin","updateUI","setMax","getMin","getMax","getValue","setValue","Error","updateValue","getValueStart","setValueStart","setStep","setIsDiscrete","updateValueIndicatorUI","updateTickMarksUI","getStep","setHasTickMarks","getDisabled","setDisabled","disabled","getIsRange","layout","_a","_b","skipUpdateUI","rect","handleDown","event","clientX","targetTouches","mapClientXOnSliderScale","getThumbFromDownEvent","handleDragStart","preventDefault","dragAlreadyStarted","getThumbFromMoveEvent","handleUp","oldValue","newValue","moveEventType","type","upHandler","pointerId","Number","otherThumb","thumbStartRect","thumbEndRect","inThumbStartBounds","inThumbEndBounds","moveDistanceUnderThreshold","Math","abs","draggedThumbToLeft","updateThumbAndInputAttributes","updateThumbAndTrackUI","valueStr","String","valueToAriaValueTextFn","numTickMarksInactiveStart","numTickMarksActive","numTickMarksInactiveEnd","tickMarksInactiveStart","Array","from","length","fill","INACTIVE","tickMarksActive","ACTIVE","tickMarksInactiveEnd","concat","xPos","pctComplete","quantize","toFixed","numSteps","round","clampValue","thumbStartMovedPastThumbEnd","thumbEndMovedPastThumbStart","rangePx","isRtl","transformProp","getCorrectPropertyName","thumbLeftPos_1","thumbRightPos_1","SLIDER_UPDATE","trackAnimatesFromRight","thumbStartPos","thumbEndPos","removeInitialStyles","updateOverlappingThumbsUI","position","resetTrackAndThumbAnimation","transitionProp","transitionDefault","thumbsOverlap","startThumbLeftEdge","endThumbRightEdge","startThumbRightEdge","endThumbLeftEdge","attributeValue","attributeName","isNaN","numStepsValueStartFromMin","numStepsValueFromMin","SUPPORTS_POINTER_EVENTS","Boolean","PointerEvent","isIOS","MDCFoundation","includes","navigator","platform","userAgent","document","n","match","exec","fraction","exponent","MDCSlider","apply","arguments","skipInitialUIUpdate","attachTo","root","options","getDefaultFoundation","className","classList","contains","add","remove","getThumbEl","attribute","getInput","setAttribute","removeAttribute","focus","activeElement","querySelector","getComputedStyle","direction","propertyName","style","setProperty","removeProperty","trackActive","valueIndicatorEl","textContent","tickMarks","tickMarksContainer","createElement","track","appendChild","children","firstChild","removeChild","addTickMarks","emit","getRipple","activate","deactivate","evtType","handler","listen","unlisten","addEventListener","removeEventListener","body","initialize","inputs","slice","querySelectorAll","thumbs","ripples","createRipples","initialSyncWithDOM","foundation","setValueToAriaValueTextFn","mapFn","tickMarkContainer","fragment","createDocumentFragment","i","div","tickMarkClass","tickMarkEls","rippleSurfaces","_loop_1","rippleSurface","input","this_1","MDCRipple","createAdapter","computeBoundingRect","deregisterInteractionHandler","isSurfaceActive","matches","isUnbounded","registerInteractionHandler","applyPassive","updateCssVariable","varName","ripple","MDCRippleFoundation","unbounded","MDCComponent","getPercentageClass","tenPercent","twentyPercent","thirtyPercent","fortyPercent","fiftyPercent","sixtyPercent","seventyPercent","eightyPercent","ninetyPercent","sliderCss","DEFAULT_FACTOR","DEFAULT_MAX_VALUE","DEFAULT_MIN_VALUE","Slider","constructor","hostRef","renderHelperLine","helperText","h","helperTextId","inputElement","getInputElement","multiplyByFactor","greaterThanOrEqualMin","valuemin","lessThanOrEqualMax","valuemax","newMin","newMax","isMultipleOfStep","createMDCSlider","reCreateSliderWithStep","destroyMDCSlider","element","getRootElement","mdcSlider","changeHandler","inputHandler","detail","roundToStep","change","factor","setPercentageClass","getContainerClassList","percentageClass","readonly","resizeObserverCallback","updateDisabledState","isFinite","rootElement","shadowRoot","isStepConfigured","hasAttribute","labelId","createRandomString","connectedCallback","observer","ResizeObserver","observe","componentWillLoad","componentDidLoad","disconnectedCallback","disconnect","render","inputProps","Host","class","id","label","unit","assign","name","watchDisabled","watchReadonly","watchValue"],"sources":["./node_modules/@material/slider/constants.js","./node_modules/@material/animation/animationframe.js","./node_modules/@material/slider/types.js","./node_modules/@material/slider/foundation.js","./node_modules/@material/slider/component.js","./src/components/slider/getPercentageClass.ts","./src/components/slider/slider.scss?tag=limel-slider&encapsulation=shadow","./src/components/slider/slider.tsx"],"sourcesContent":["/**\n * @license\n * Copyright 2020 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n/** Slider element classes. */\nexport var cssClasses = {\n    DISABLED: 'mdc-slider--disabled',\n    DISCRETE: 'mdc-slider--discrete',\n    INPUT: 'mdc-slider__input',\n    RANGE: 'mdc-slider--range',\n    THUMB: 'mdc-slider__thumb',\n    // Applied when thumb is in the focused state.\n    THUMB_FOCUSED: 'mdc-slider__thumb--focused',\n    THUMB_KNOB: 'mdc-slider__thumb-knob',\n    // Class added to the top thumb (for overlapping thumbs in range slider).\n    THUMB_TOP: 'mdc-slider__thumb--top',\n    THUMB_WITH_INDICATOR: 'mdc-slider__thumb--with-indicator',\n    TICK_MARKS: 'mdc-slider--tick-marks',\n    TICK_MARKS_CONTAINER: 'mdc-slider__tick-marks',\n    TICK_MARK_ACTIVE: 'mdc-slider__tick-mark--active',\n    TICK_MARK_INACTIVE: 'mdc-slider__tick-mark--inactive',\n    TRACK: 'mdc-slider__track',\n    // The active track fill element that will be scaled as the value changes.\n    TRACK_ACTIVE: 'mdc-slider__track--active_fill',\n    VALUE_INDICATOR_TEXT: 'mdc-slider__value-indicator-text',\n};\n/** Slider numbers. */\nexport var numbers = {\n    // Default step size.\n    STEP_SIZE: 1,\n    // Minimum absolute difference between clientX of move event / down event\n    // for which to update thumb, in the case of overlapping thumbs.\n    // This is needed to reduce chances of choosing the thumb based on\n    // pointer jitter.\n    THUMB_UPDATE_MIN_PX: 5,\n};\n/** Slider attributes. */\nexport var attributes = {\n    ARIA_VALUETEXT: 'aria-valuetext',\n    INPUT_DISABLED: 'disabled',\n    INPUT_MIN: 'min',\n    INPUT_MAX: 'max',\n    INPUT_VALUE: 'value',\n    INPUT_STEP: 'step',\n};\n/** Slider events. */\nexport var events = {\n    CHANGE: 'MDCSlider:change',\n    INPUT: 'MDCSlider:input',\n};\n//# sourceMappingURL=constants.js.map","/**\n * @license\n * Copyright 2020 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n/**\n * AnimationFrame provides a user-friendly abstraction around requesting\n * and canceling animation frames.\n */\nvar AnimationFrame = /** @class */ (function () {\n    function AnimationFrame() {\n        this.rafIDs = new Map();\n    }\n    /**\n     * Requests an animation frame. Cancels any existing frame with the same key.\n     * @param {string} key The key for this callback.\n     * @param {FrameRequestCallback} callback The callback to be executed.\n     */\n    AnimationFrame.prototype.request = function (key, callback) {\n        var _this = this;\n        this.cancel(key);\n        var frameID = requestAnimationFrame(function (frame) {\n            _this.rafIDs.delete(key);\n            // Callback must come *after* the key is deleted so that nested calls to\n            // request with the same key are not deleted.\n            callback(frame);\n        });\n        this.rafIDs.set(key, frameID);\n    };\n    /**\n     * Cancels a queued callback with the given key.\n     * @param {string} key The key for this callback.\n     */\n    AnimationFrame.prototype.cancel = function (key) {\n        var rafID = this.rafIDs.get(key);\n        if (rafID) {\n            cancelAnimationFrame(rafID);\n            this.rafIDs.delete(key);\n        }\n    };\n    /**\n     * Cancels all queued callback.\n     */\n    AnimationFrame.prototype.cancelAll = function () {\n        var _this = this;\n        // Need to use forEach because it's the only iteration method supported\n        // by IE11. Suppress the underscore because we don't need it.\n        // tslint:disable-next-line:enforce-name-casing\n        this.rafIDs.forEach(function (_, key) {\n            _this.cancel(key);\n        });\n    };\n    /**\n     * Returns the queue of unexecuted callback keys.\n     */\n    AnimationFrame.prototype.getQueue = function () {\n        var queue = [];\n        // Need to use forEach because it's the only iteration method supported\n        // by IE11. Suppress the underscore because we don't need it.\n        // tslint:disable-next-line:enforce-name-casing\n        this.rafIDs.forEach(function (_, key) {\n            queue.push(key);\n        });\n        return queue;\n    };\n    return AnimationFrame;\n}());\nexport { AnimationFrame };\n//# sourceMappingURL=animationframe.js.map","/**\n * @license\n * Copyright 2020 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n/** Tick mark enum, for discrete sliders. */\nexport var TickMark;\n(function (TickMark) {\n    TickMark[TickMark[\"ACTIVE\"] = 0] = \"ACTIVE\";\n    TickMark[TickMark[\"INACTIVE\"] = 1] = \"INACTIVE\";\n})(TickMark || (TickMark = {}));\n/**\n * Thumb types: range slider has two thumbs (START, END) whereas single point\n * slider only has one thumb (END).\n */\nexport var Thumb;\n(function (Thumb) {\n    // Thumb at start of slider (e.g. in LTR mode, left thumb on range slider).\n    Thumb[Thumb[\"START\"] = 1] = \"START\";\n    // Thumb at end of slider (e.g. in LTR mode, right thumb on range slider,\n    // or only thumb on single point slider).\n    Thumb[Thumb[\"END\"] = 2] = \"END\";\n})(Thumb || (Thumb = {}));\n//# sourceMappingURL=types.js.map","/**\n * @license\n * Copyright 2020 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends } from \"tslib\";\nimport { AnimationFrame } from '@material/animation/animationframe';\nimport { getCorrectPropertyName } from '@material/animation/util';\nimport { MDCFoundation } from '@material/base/foundation';\nimport { attributes, cssClasses, numbers } from './constants';\nimport { Thumb, TickMark } from './types';\nvar AnimationKeys;\n(function (AnimationKeys) {\n    AnimationKeys[\"SLIDER_UPDATE\"] = \"slider_update\";\n})(AnimationKeys || (AnimationKeys = {}));\n// Accessing `window` without a `typeof` check will throw on Node environments.\nvar HAS_WINDOW = typeof window !== 'undefined';\n/**\n * Foundation class for slider. Responsibilities include:\n * - Updating slider values (internal state and DOM updates) based on client\n *   'x' position.\n * - Updating DOM after slider property updates (e.g. min, max).\n */\nvar MDCSliderFoundation = /** @class */ (function (_super) {\n    __extends(MDCSliderFoundation, _super);\n    function MDCSliderFoundation(adapter) {\n        var _this = _super.call(this, __assign(__assign({}, MDCSliderFoundation.defaultAdapter), adapter)) || this;\n        // Whether the initial styles (to position the thumb, before component\n        // initialization) have been removed.\n        _this.initialStylesRemoved = false;\n        _this.isDisabled = false;\n        _this.isDiscrete = false;\n        _this.step = numbers.STEP_SIZE;\n        _this.hasTickMarks = false;\n        // The following properties are only set for range sliders.\n        _this.isRange = false;\n        // Tracks the thumb being moved across a slider pointer interaction (down,\n        // move event).\n        _this.thumb = null;\n        // `clientX` from the most recent down event. Used in subsequent move\n        // events to determine which thumb to move (in the case of\n        // overlapping thumbs).\n        _this.downEventClientX = null;\n        // Width of the start thumb knob.\n        _this.startThumbKnobWidth = 0;\n        // Width of the end thumb knob.\n        _this.endThumbKnobWidth = 0;\n        _this.animFrame = new AnimationFrame();\n        return _this;\n    }\n    Object.defineProperty(MDCSliderFoundation, \"defaultAdapter\", {\n        get: function () {\n            // tslint:disable:object-literal-sort-keys Methods should be in the same\n            // order as the adapter interface.\n            return {\n                hasClass: function () { return false; },\n                addClass: function () { return undefined; },\n                removeClass: function () { return undefined; },\n                addThumbClass: function () { return undefined; },\n                removeThumbClass: function () { return undefined; },\n                getAttribute: function () { return null; },\n                getInputValue: function () { return ''; },\n                setInputValue: function () { return undefined; },\n                getInputAttribute: function () { return null; },\n                setInputAttribute: function () { return null; },\n                removeInputAttribute: function () { return null; },\n                focusInput: function () { return undefined; },\n                isInputFocused: function () { return false; },\n                getThumbKnobWidth: function () { return 0; },\n                getThumbBoundingClientRect: function () {\n                    return ({ top: 0, right: 0, bottom: 0, left: 0, width: 0, height: 0 });\n                },\n                getBoundingClientRect: function () {\n                    return ({ top: 0, right: 0, bottom: 0, left: 0, width: 0, height: 0 });\n                },\n                isRTL: function () { return false; },\n                setThumbStyleProperty: function () { return undefined; },\n                removeThumbStyleProperty: function () { return undefined; },\n                setTrackActiveStyleProperty: function () { return undefined; },\n                removeTrackActiveStyleProperty: function () { return undefined; },\n                setValueIndicatorText: function () { return undefined; },\n                getValueToAriaValueTextFn: function () { return null; },\n                updateTickMarks: function () { return undefined; },\n                setPointerCapture: function () { return undefined; },\n                emitChangeEvent: function () { return undefined; },\n                emitInputEvent: function () { return undefined; },\n                emitDragStartEvent: function () { return undefined; },\n                emitDragEndEvent: function () { return undefined; },\n                registerEventHandler: function () { return undefined; },\n                deregisterEventHandler: function () { return undefined; },\n                registerThumbEventHandler: function () { return undefined; },\n                deregisterThumbEventHandler: function () { return undefined; },\n                registerInputEventHandler: function () { return undefined; },\n                deregisterInputEventHandler: function () { return undefined; },\n                registerBodyEventHandler: function () { return undefined; },\n                deregisterBodyEventHandler: function () { return undefined; },\n                registerWindowEventHandler: function () { return undefined; },\n                deregisterWindowEventHandler: function () { return undefined; },\n            };\n            // tslint:enable:object-literal-sort-keys\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MDCSliderFoundation.prototype.init = function () {\n        var _this = this;\n        this.isDisabled = this.adapter.hasClass(cssClasses.DISABLED);\n        this.isDiscrete = this.adapter.hasClass(cssClasses.DISCRETE);\n        this.hasTickMarks = this.adapter.hasClass(cssClasses.TICK_MARKS);\n        this.isRange = this.adapter.hasClass(cssClasses.RANGE);\n        var min = this.convertAttributeValueToNumber(this.adapter.getInputAttribute(attributes.INPUT_MIN, this.isRange ? Thumb.START : Thumb.END), attributes.INPUT_MIN);\n        var max = this.convertAttributeValueToNumber(this.adapter.getInputAttribute(attributes.INPUT_MAX, Thumb.END), attributes.INPUT_MAX);\n        var value = this.convertAttributeValueToNumber(this.adapter.getInputAttribute(attributes.INPUT_VALUE, Thumb.END), attributes.INPUT_VALUE);\n        var valueStart = this.isRange ?\n            this.convertAttributeValueToNumber(this.adapter.getInputAttribute(attributes.INPUT_VALUE, Thumb.START), attributes.INPUT_VALUE) :\n            min;\n        var stepAttr = this.adapter.getInputAttribute(attributes.INPUT_STEP, Thumb.END);\n        var step = stepAttr ?\n            this.convertAttributeValueToNumber(stepAttr, attributes.INPUT_STEP) :\n            this.step;\n        this.validateProperties({ min: min, max: max, value: value, valueStart: valueStart, step: step });\n        this.min = min;\n        this.max = max;\n        this.value = value;\n        this.valueStart = valueStart;\n        this.step = step;\n        this.numDecimalPlaces = getNumDecimalPlaces(this.step);\n        this.valueBeforeDownEvent = value;\n        this.valueStartBeforeDownEvent = valueStart;\n        this.mousedownOrTouchstartListener =\n            this.handleMousedownOrTouchstart.bind(this);\n        this.moveListener = this.handleMove.bind(this);\n        this.pointerdownListener = this.handlePointerdown.bind(this);\n        this.pointerupListener = this.handlePointerup.bind(this);\n        this.thumbMouseenterListener = this.handleThumbMouseenter.bind(this);\n        this.thumbMouseleaveListener = this.handleThumbMouseleave.bind(this);\n        this.inputStartChangeListener = function () {\n            _this.handleInputChange(Thumb.START);\n        };\n        this.inputEndChangeListener = function () {\n            _this.handleInputChange(Thumb.END);\n        };\n        this.inputStartFocusListener = function () {\n            _this.handleInputFocus(Thumb.START);\n        };\n        this.inputEndFocusListener = function () {\n            _this.handleInputFocus(Thumb.END);\n        };\n        this.inputStartBlurListener = function () {\n            _this.handleInputBlur(Thumb.START);\n        };\n        this.inputEndBlurListener = function () {\n            _this.handleInputBlur(Thumb.END);\n        };\n        this.resizeListener = this.handleResize.bind(this);\n        this.registerEventHandlers();\n    };\n    MDCSliderFoundation.prototype.destroy = function () {\n        this.deregisterEventHandlers();\n    };\n    MDCSliderFoundation.prototype.setMin = function (value) {\n        this.min = value;\n        if (!this.isRange) {\n            this.valueStart = value;\n        }\n        this.updateUI();\n    };\n    MDCSliderFoundation.prototype.setMax = function (value) {\n        this.max = value;\n        this.updateUI();\n    };\n    MDCSliderFoundation.prototype.getMin = function () {\n        return this.min;\n    };\n    MDCSliderFoundation.prototype.getMax = function () {\n        return this.max;\n    };\n    /**\n     * - For single point sliders, returns the thumb value.\n     * - For range (two-thumb) sliders, returns the end thumb's value.\n     */\n    MDCSliderFoundation.prototype.getValue = function () {\n        return this.value;\n    };\n    /**\n     * - For single point sliders, sets the thumb value.\n     * - For range (two-thumb) sliders, sets the end thumb's value.\n     */\n    MDCSliderFoundation.prototype.setValue = function (value) {\n        if (this.isRange && value < this.valueStart) {\n            throw new Error(\"end thumb value (\" + value + \") must be >= start thumb \" +\n                (\"value (\" + this.valueStart + \")\"));\n        }\n        this.updateValue(value, Thumb.END);\n    };\n    /**\n     * Only applicable for range sliders.\n     * @return The start thumb's value.\n     */\n    MDCSliderFoundation.prototype.getValueStart = function () {\n        if (!this.isRange) {\n            throw new Error('`valueStart` is only applicable for range sliders.');\n        }\n        return this.valueStart;\n    };\n    /**\n     * Only applicable for range sliders. Sets the start thumb's value.\n     */\n    MDCSliderFoundation.prototype.setValueStart = function (valueStart) {\n        if (!this.isRange) {\n            throw new Error('`valueStart` is only applicable for range sliders.');\n        }\n        if (this.isRange && valueStart > this.value) {\n            throw new Error(\"start thumb value (\" + valueStart + \") must be <= end thumb \" +\n                (\"value (\" + this.value + \")\"));\n        }\n        this.updateValue(valueStart, Thumb.START);\n    };\n    MDCSliderFoundation.prototype.setStep = function (value) {\n        this.step = value;\n        this.numDecimalPlaces = getNumDecimalPlaces(value);\n        this.updateUI();\n    };\n    MDCSliderFoundation.prototype.setIsDiscrete = function (value) {\n        this.isDiscrete = value;\n        this.updateValueIndicatorUI();\n        this.updateTickMarksUI();\n    };\n    MDCSliderFoundation.prototype.getStep = function () {\n        return this.step;\n    };\n    MDCSliderFoundation.prototype.setHasTickMarks = function (value) {\n        this.hasTickMarks = value;\n        this.updateTickMarksUI();\n    };\n    MDCSliderFoundation.prototype.getDisabled = function () {\n        return this.isDisabled;\n    };\n    /**\n     * Sets disabled state, including updating styles and thumb tabindex.\n     */\n    MDCSliderFoundation.prototype.setDisabled = function (disabled) {\n        this.isDisabled = disabled;\n        if (disabled) {\n            this.adapter.addClass(cssClasses.DISABLED);\n            if (this.isRange) {\n                this.adapter.setInputAttribute(attributes.INPUT_DISABLED, '', Thumb.START);\n            }\n            this.adapter.setInputAttribute(attributes.INPUT_DISABLED, '', Thumb.END);\n        }\n        else {\n            this.adapter.removeClass(cssClasses.DISABLED);\n            if (this.isRange) {\n                this.adapter.removeInputAttribute(attributes.INPUT_DISABLED, Thumb.START);\n            }\n            this.adapter.removeInputAttribute(attributes.INPUT_DISABLED, Thumb.END);\n        }\n    };\n    /** @return Whether the slider is a range slider. */\n    MDCSliderFoundation.prototype.getIsRange = function () {\n        return this.isRange;\n    };\n    /**\n     * - Syncs slider boundingClientRect with the current DOM.\n     * - Updates UI based on internal state.\n     */\n    MDCSliderFoundation.prototype.layout = function (_a) {\n        var _b = _a === void 0 ? {} : _a, skipUpdateUI = _b.skipUpdateUI;\n        this.rect = this.adapter.getBoundingClientRect();\n        if (this.isRange) {\n            this.startThumbKnobWidth = this.adapter.getThumbKnobWidth(Thumb.START);\n            this.endThumbKnobWidth = this.adapter.getThumbKnobWidth(Thumb.END);\n        }\n        if (!skipUpdateUI) {\n            this.updateUI();\n        }\n    };\n    /** Handles resize events on the window. */\n    MDCSliderFoundation.prototype.handleResize = function () {\n        this.layout();\n    };\n    /**\n     * Handles pointer down events on the slider root element.\n     */\n    MDCSliderFoundation.prototype.handleDown = function (event) {\n        if (this.isDisabled)\n            return;\n        this.valueStartBeforeDownEvent = this.valueStart;\n        this.valueBeforeDownEvent = this.value;\n        var clientX = event.clientX != null ?\n            event.clientX :\n            event.targetTouches[0].clientX;\n        this.downEventClientX = clientX;\n        var value = this.mapClientXOnSliderScale(clientX);\n        this.thumb = this.getThumbFromDownEvent(clientX, value);\n        if (this.thumb === null)\n            return;\n        this.handleDragStart(event, value, this.thumb);\n        this.updateValue(value, this.thumb, { emitInputEvent: true });\n    };\n    /**\n     * Handles pointer move events on the slider root element.\n     */\n    MDCSliderFoundation.prototype.handleMove = function (event) {\n        if (this.isDisabled)\n            return;\n        // Prevent scrolling.\n        event.preventDefault();\n        var clientX = event.clientX != null ?\n            event.clientX :\n            event.targetTouches[0].clientX;\n        var dragAlreadyStarted = this.thumb != null;\n        this.thumb = this.getThumbFromMoveEvent(clientX);\n        if (this.thumb === null)\n            return;\n        var value = this.mapClientXOnSliderScale(clientX);\n        if (!dragAlreadyStarted) {\n            this.handleDragStart(event, value, this.thumb);\n            this.adapter.emitDragStartEvent(value, this.thumb);\n        }\n        this.updateValue(value, this.thumb, { emitInputEvent: true });\n    };\n    /**\n     * Handles pointer up events on the slider root element.\n     */\n    MDCSliderFoundation.prototype.handleUp = function () {\n        if (this.isDisabled || this.thumb === null)\n            return;\n        var oldValue = this.thumb === Thumb.START ?\n            this.valueStartBeforeDownEvent :\n            this.valueBeforeDownEvent;\n        var newValue = this.thumb === Thumb.START ? this.valueStart : this.value;\n        if (oldValue !== newValue) {\n            this.adapter.emitChangeEvent(newValue, this.thumb);\n        }\n        this.adapter.emitDragEndEvent(newValue, this.thumb);\n        this.thumb = null;\n    };\n    /**\n     * For range, discrete slider, shows the value indicator on both thumbs.\n     */\n    MDCSliderFoundation.prototype.handleThumbMouseenter = function () {\n        if (!this.isDiscrete || !this.isRange)\n            return;\n        this.adapter.addThumbClass(cssClasses.THUMB_WITH_INDICATOR, Thumb.START);\n        this.adapter.addThumbClass(cssClasses.THUMB_WITH_INDICATOR, Thumb.END);\n    };\n    /**\n     * For range, discrete slider, hides the value indicator on both thumbs.\n     */\n    MDCSliderFoundation.prototype.handleThumbMouseleave = function () {\n        if (!this.isDiscrete || !this.isRange)\n            return;\n        if (this.adapter.isInputFocused(Thumb.START) ||\n            this.adapter.isInputFocused(Thumb.END)) {\n            // Leave value indicator shown if either input is focused.\n            return;\n        }\n        this.adapter.removeThumbClass(cssClasses.THUMB_WITH_INDICATOR, Thumb.START);\n        this.adapter.removeThumbClass(cssClasses.THUMB_WITH_INDICATOR, Thumb.END);\n    };\n    MDCSliderFoundation.prototype.handleMousedownOrTouchstart = function (event) {\n        var _this = this;\n        var moveEventType = event.type === 'mousedown' ? 'mousemove' : 'touchmove';\n        // After a down event on the slider root, listen for move events on\n        // body (so the slider value is updated for events outside of the\n        // slider root).\n        this.adapter.registerBodyEventHandler(moveEventType, this.moveListener);\n        var upHandler = function () {\n            _this.handleUp();\n            // Once the drag is finished (up event on body), remove the move\n            // handler.\n            _this.adapter.deregisterBodyEventHandler(moveEventType, _this.moveListener);\n            // Also stop listening for subsequent up events.\n            _this.adapter.deregisterEventHandler('mouseup', upHandler);\n            _this.adapter.deregisterEventHandler('touchend', upHandler);\n        };\n        this.adapter.registerBodyEventHandler('mouseup', upHandler);\n        this.adapter.registerBodyEventHandler('touchend', upHandler);\n        this.handleDown(event);\n    };\n    MDCSliderFoundation.prototype.handlePointerdown = function (event) {\n        this.adapter.setPointerCapture(event.pointerId);\n        this.adapter.registerEventHandler('pointermove', this.moveListener);\n        this.handleDown(event);\n    };\n    /**\n     * Handles input `change` event by setting internal slider value to match\n     * input's new value.\n     */\n    MDCSliderFoundation.prototype.handleInputChange = function (thumb) {\n        var value = Number(this.adapter.getInputValue(thumb));\n        if (thumb === Thumb.START) {\n            this.setValueStart(value);\n        }\n        else {\n            this.setValue(value);\n        }\n        this.adapter.emitChangeEvent(thumb === Thumb.START ? this.valueStart : this.value, thumb);\n        this.adapter.emitInputEvent(thumb === Thumb.START ? this.valueStart : this.value, thumb);\n    };\n    /** Shows activated state and value indicator on thumb(s). */\n    MDCSliderFoundation.prototype.handleInputFocus = function (thumb) {\n        this.adapter.addThumbClass(cssClasses.THUMB_FOCUSED, thumb);\n        if (!this.isDiscrete)\n            return;\n        this.adapter.addThumbClass(cssClasses.THUMB_WITH_INDICATOR, thumb);\n        if (this.isRange) {\n            var otherThumb = thumb === Thumb.START ? Thumb.END : Thumb.START;\n            this.adapter.addThumbClass(cssClasses.THUMB_WITH_INDICATOR, otherThumb);\n        }\n    };\n    /** Removes activated state and value indicator from thumb(s). */\n    MDCSliderFoundation.prototype.handleInputBlur = function (thumb) {\n        this.adapter.removeThumbClass(cssClasses.THUMB_FOCUSED, thumb);\n        if (!this.isDiscrete)\n            return;\n        this.adapter.removeThumbClass(cssClasses.THUMB_WITH_INDICATOR, thumb);\n        if (this.isRange) {\n            var otherThumb = thumb === Thumb.START ? Thumb.END : Thumb.START;\n            this.adapter.removeThumbClass(cssClasses.THUMB_WITH_INDICATOR, otherThumb);\n        }\n    };\n    /**\n     * Emits custom dragStart event, along with focusing the underlying input.\n     */\n    MDCSliderFoundation.prototype.handleDragStart = function (event, value, thumb) {\n        this.adapter.emitDragStartEvent(value, thumb);\n        this.adapter.focusInput(thumb);\n        // Prevent the input (that we just focused) from losing focus.\n        event.preventDefault();\n    };\n    /**\n     * @return The thumb to be moved based on initial down event.\n     */\n    MDCSliderFoundation.prototype.getThumbFromDownEvent = function (clientX, value) {\n        // For single point slider, thumb to be moved is always the END (only)\n        // thumb.\n        if (!this.isRange)\n            return Thumb.END;\n        // Check if event press point is in the bounds of any thumb.\n        var thumbStartRect = this.adapter.getThumbBoundingClientRect(Thumb.START);\n        var thumbEndRect = this.adapter.getThumbBoundingClientRect(Thumb.END);\n        var inThumbStartBounds = clientX >= thumbStartRect.left && clientX <= thumbStartRect.right;\n        var inThumbEndBounds = clientX >= thumbEndRect.left && clientX <= thumbEndRect.right;\n        if (inThumbStartBounds && inThumbEndBounds) {\n            // Thumbs overlapping. Thumb to be moved cannot be determined yet.\n            return null;\n        }\n        // If press is in bounds for either thumb on down event, that's the thumb\n        // to be moved.\n        if (inThumbStartBounds) {\n            return Thumb.START;\n        }\n        if (inThumbEndBounds) {\n            return Thumb.END;\n        }\n        // For presses outside the range, return whichever thumb is closer.\n        if (value < this.valueStart) {\n            return Thumb.START;\n        }\n        if (value > this.value) {\n            return Thumb.END;\n        }\n        // For presses inside the range, return whichever thumb is closer.\n        return (value - this.valueStart <= this.value - value) ? Thumb.START :\n            Thumb.END;\n    };\n    /**\n     * @return The thumb to be moved based on move event (based on drag\n     *     direction from original down event). Only applicable if thumbs\n     *     were overlapping in the down event.\n     */\n    MDCSliderFoundation.prototype.getThumbFromMoveEvent = function (clientX) {\n        // Thumb has already been chosen.\n        if (this.thumb !== null)\n            return this.thumb;\n        if (this.downEventClientX === null) {\n            throw new Error('`downEventClientX` is null after move event.');\n        }\n        var moveDistanceUnderThreshold = Math.abs(this.downEventClientX - clientX) < numbers.THUMB_UPDATE_MIN_PX;\n        if (moveDistanceUnderThreshold)\n            return this.thumb;\n        var draggedThumbToLeft = clientX < this.downEventClientX;\n        if (draggedThumbToLeft) {\n            return this.adapter.isRTL() ? Thumb.END : Thumb.START;\n        }\n        else {\n            return this.adapter.isRTL() ? Thumb.START : Thumb.END;\n        }\n    };\n    /**\n     * Updates UI based on internal state.\n     * @param thumb Thumb whose value is being updated. If undefined, UI is\n     *     updated for both thumbs based on current internal state.\n     */\n    MDCSliderFoundation.prototype.updateUI = function (thumb) {\n        this.updateThumbAndInputAttributes(thumb);\n        this.updateThumbAndTrackUI(thumb);\n        this.updateValueIndicatorUI(thumb);\n        this.updateTickMarksUI();\n    };\n    /**\n     * Updates thumb and input attributes based on current value.\n     * @param thumb Thumb whose aria attributes to update.\n     */\n    MDCSliderFoundation.prototype.updateThumbAndInputAttributes = function (thumb) {\n        if (!thumb)\n            return;\n        var value = this.isRange && thumb === Thumb.START ? this.valueStart : this.value;\n        var valueStr = String(value);\n        this.adapter.setInputAttribute(attributes.INPUT_VALUE, valueStr, thumb);\n        if (this.isRange && thumb === Thumb.START) {\n            this.adapter.setInputAttribute(attributes.INPUT_MIN, valueStr, Thumb.END);\n        }\n        else if (this.isRange && thumb === Thumb.END) {\n            this.adapter.setInputAttribute(attributes.INPUT_MAX, valueStr, Thumb.START);\n        }\n        // Sync attribute with property.\n        if (this.adapter.getInputValue(thumb) !== valueStr) {\n            this.adapter.setInputValue(valueStr, thumb);\n        }\n        var valueToAriaValueTextFn = this.adapter.getValueToAriaValueTextFn();\n        if (valueToAriaValueTextFn) {\n            this.adapter.setInputAttribute(attributes.ARIA_VALUETEXT, valueToAriaValueTextFn(value), thumb);\n        }\n    };\n    /**\n     * Updates value indicator UI based on current value.\n     * @param thumb Thumb whose value indicator to update. If undefined, all\n     *     thumbs' value indicators are updated.\n     */\n    MDCSliderFoundation.prototype.updateValueIndicatorUI = function (thumb) {\n        if (!this.isDiscrete)\n            return;\n        var value = this.isRange && thumb === Thumb.START ? this.valueStart : this.value;\n        this.adapter.setValueIndicatorText(value, thumb === Thumb.START ? Thumb.START : Thumb.END);\n        if (!thumb && this.isRange) {\n            this.adapter.setValueIndicatorText(this.valueStart, Thumb.START);\n        }\n    };\n    /**\n     * Updates tick marks UI within slider, based on current min, max, and step.\n     */\n    MDCSliderFoundation.prototype.updateTickMarksUI = function () {\n        if (!this.isDiscrete || !this.hasTickMarks)\n            return;\n        var numTickMarksInactiveStart = (this.valueStart - this.min) / this.step;\n        var numTickMarksActive = (this.value - this.valueStart) / this.step + 1;\n        var numTickMarksInactiveEnd = (this.max - this.value) / this.step;\n        var tickMarksInactiveStart = Array.from({ length: numTickMarksInactiveStart })\n            .fill(TickMark.INACTIVE);\n        var tickMarksActive = Array.from({ length: numTickMarksActive })\n            .fill(TickMark.ACTIVE);\n        var tickMarksInactiveEnd = Array.from({ length: numTickMarksInactiveEnd })\n            .fill(TickMark.INACTIVE);\n        this.adapter.updateTickMarks(tickMarksInactiveStart.concat(tickMarksActive)\n            .concat(tickMarksInactiveEnd));\n    };\n    /** Maps clientX to a value on the slider scale. */\n    MDCSliderFoundation.prototype.mapClientXOnSliderScale = function (clientX) {\n        var xPos = clientX - this.rect.left;\n        var pctComplete = xPos / this.rect.width;\n        if (this.adapter.isRTL()) {\n            pctComplete = 1 - pctComplete;\n        }\n        // Fit the percentage complete between the range [min,max]\n        // by remapping from [0, 1] to [min, min+(max-min)].\n        var value = this.min + pctComplete * (this.max - this.min);\n        if (value === this.max || value === this.min) {\n            return value;\n        }\n        return Number(this.quantize(value).toFixed(this.numDecimalPlaces));\n    };\n    /** Calculates the quantized value based on step value. */\n    MDCSliderFoundation.prototype.quantize = function (value) {\n        var numSteps = Math.round((value - this.min) / this.step);\n        return this.min + numSteps * this.step;\n    };\n    /**\n     * Updates slider value (internal state and UI) based on the given value.\n     */\n    MDCSliderFoundation.prototype.updateValue = function (value, thumb, _a) {\n        var _b = _a === void 0 ? {} : _a, emitInputEvent = _b.emitInputEvent;\n        value = this.clampValue(value, thumb);\n        if (this.isRange && thumb === Thumb.START) {\n            // Exit early if current value is the same as the new value.\n            if (this.valueStart === value)\n                return;\n            this.valueStart = value;\n        }\n        else {\n            // Exit early if current value is the same as the new value.\n            if (this.value === value)\n                return;\n            this.value = value;\n        }\n        this.updateUI(thumb);\n        if (emitInputEvent) {\n            this.adapter.emitInputEvent(thumb === Thumb.START ? this.valueStart : this.value, thumb);\n        }\n    };\n    /**\n     * Clamps the given value for the given thumb based on slider properties:\n     * - Restricts value within [min, max].\n     * - If range slider, clamp start value <= end value, and\n     *   end value >= start value.\n     */\n    MDCSliderFoundation.prototype.clampValue = function (value, thumb) {\n        // Clamp value to [min, max] range.\n        value = Math.min(Math.max(value, this.min), this.max);\n        var thumbStartMovedPastThumbEnd = this.isRange && thumb === Thumb.START && value > this.value;\n        if (thumbStartMovedPastThumbEnd) {\n            return this.value;\n        }\n        var thumbEndMovedPastThumbStart = this.isRange && thumb === Thumb.END && value < this.valueStart;\n        if (thumbEndMovedPastThumbStart) {\n            return this.valueStart;\n        }\n        return value;\n    };\n    /**\n     * Updates the active track and thumb style properties to reflect current\n     * value.\n     */\n    MDCSliderFoundation.prototype.updateThumbAndTrackUI = function (thumb) {\n        var _this = this;\n        var _a = this, max = _a.max, min = _a.min;\n        var pctComplete = (this.value - this.valueStart) / (max - min);\n        var rangePx = pctComplete * this.rect.width;\n        var isRtl = this.adapter.isRTL();\n        var transformProp = HAS_WINDOW ? getCorrectPropertyName(window, 'transform') : 'transform';\n        if (this.isRange) {\n            var thumbLeftPos_1 = this.adapter.isRTL() ?\n                (max - this.value) / (max - min) * this.rect.width :\n                (this.valueStart - min) / (max - min) * this.rect.width;\n            var thumbRightPos_1 = thumbLeftPos_1 + rangePx;\n            this.animFrame.request(AnimationKeys.SLIDER_UPDATE, function () {\n                // Set active track styles, accounting for animation direction by\n                // setting `transform-origin`.\n                var trackAnimatesFromRight = (!isRtl && thumb === Thumb.START) ||\n                    (isRtl && thumb !== Thumb.START);\n                if (trackAnimatesFromRight) {\n                    _this.adapter.setTrackActiveStyleProperty('transform-origin', 'right');\n                    _this.adapter.setTrackActiveStyleProperty('left', 'unset');\n                    _this.adapter.setTrackActiveStyleProperty('right', _this.rect.width - thumbRightPos_1 + \"px\");\n                }\n                else {\n                    _this.adapter.setTrackActiveStyleProperty('transform-origin', 'left');\n                    _this.adapter.setTrackActiveStyleProperty('right', 'unset');\n                    _this.adapter.setTrackActiveStyleProperty('left', thumbLeftPos_1 + \"px\");\n                }\n                _this.adapter.setTrackActiveStyleProperty(transformProp, \"scaleX(\" + pctComplete + \")\");\n                // Set thumb styles.\n                var thumbStartPos = isRtl ? thumbRightPos_1 : thumbLeftPos_1;\n                var thumbEndPos = _this.adapter.isRTL() ? thumbLeftPos_1 : thumbRightPos_1;\n                if (thumb === Thumb.START || !thumb || !_this.initialStylesRemoved) {\n                    _this.adapter.setThumbStyleProperty(transformProp, \"translateX(\" + thumbStartPos + \"px)\", Thumb.START);\n                }\n                if (thumb === Thumb.END || !thumb || !_this.initialStylesRemoved) {\n                    _this.adapter.setThumbStyleProperty(transformProp, \"translateX(\" + thumbEndPos + \"px)\", Thumb.END);\n                }\n                _this.removeInitialStyles(isRtl);\n                _this.updateOverlappingThumbsUI(thumbStartPos, thumbEndPos, thumb);\n            });\n        }\n        else {\n            this.animFrame.request(AnimationKeys.SLIDER_UPDATE, function () {\n                var thumbStartPos = isRtl ? _this.rect.width - rangePx : rangePx;\n                _this.adapter.setThumbStyleProperty(transformProp, \"translateX(\" + thumbStartPos + \"px)\", Thumb.END);\n                _this.adapter.setTrackActiveStyleProperty(transformProp, \"scaleX(\" + pctComplete + \")\");\n                _this.removeInitialStyles(isRtl);\n            });\n        }\n    };\n    /**\n     * Removes initial inline styles if not already removed. `left:<...>%`\n     * inline styles can be added to position the thumb correctly before JS\n     * initialization. However, they need to be removed before the JS starts\n     * positioning the thumb. This is because the JS uses\n     * `transform:translateX(<...>)px` (for performance reasons) to position\n     * the thumb (which is not possible for initial styles since we need the\n     * bounding rect measurements).\n     */\n    MDCSliderFoundation.prototype.removeInitialStyles = function (isRtl) {\n        if (this.initialStylesRemoved)\n            return;\n        // Remove thumb position properties that were added for initial render.\n        var position = isRtl ? 'right' : 'left';\n        this.adapter.removeThumbStyleProperty(position, Thumb.END);\n        if (this.isRange) {\n            this.adapter.removeThumbStyleProperty(position, Thumb.START);\n        }\n        this.initialStylesRemoved = true;\n        this.resetTrackAndThumbAnimation();\n    };\n    /**\n     * Resets track/thumb animation to prevent animation when adding\n     * `transform` styles to thumb initially.\n     */\n    MDCSliderFoundation.prototype.resetTrackAndThumbAnimation = function () {\n        var _this = this;\n        if (!this.isDiscrete)\n            return;\n        // Set transition properties to default (no animation), so that the\n        // newly added `transform` styles do not animate thumb/track from\n        // their default positions.\n        var transitionProp = HAS_WINDOW ?\n            getCorrectPropertyName(window, 'transition') :\n            'transition';\n        var transitionDefault = 'all 0s ease 0s';\n        this.adapter.setThumbStyleProperty(transitionProp, transitionDefault, Thumb.END);\n        if (this.isRange) {\n            this.adapter.setThumbStyleProperty(transitionProp, transitionDefault, Thumb.START);\n        }\n        this.adapter.setTrackActiveStyleProperty(transitionProp, transitionDefault);\n        // In the next frame, remove the transition inline styles we just\n        // added, such that any animations added in the CSS can now take effect.\n        requestAnimationFrame(function () {\n            _this.adapter.removeThumbStyleProperty(transitionProp, Thumb.END);\n            _this.adapter.removeTrackActiveStyleProperty(transitionProp);\n            if (_this.isRange) {\n                _this.adapter.removeThumbStyleProperty(transitionProp, Thumb.START);\n            }\n        });\n    };\n    /**\n     * Adds THUMB_TOP class to active thumb if thumb knobs overlap; otherwise\n     * removes THUMB_TOP class from both thumbs.\n     * @param thumb Thumb that is active (being moved).\n     */\n    MDCSliderFoundation.prototype.updateOverlappingThumbsUI = function (thumbStartPos, thumbEndPos, thumb) {\n        var thumbsOverlap = false;\n        if (this.adapter.isRTL()) {\n            var startThumbLeftEdge = thumbStartPos - this.startThumbKnobWidth / 2;\n            var endThumbRightEdge = thumbEndPos + this.endThumbKnobWidth / 2;\n            thumbsOverlap = endThumbRightEdge >= startThumbLeftEdge;\n        }\n        else {\n            var startThumbRightEdge = thumbStartPos + this.startThumbKnobWidth / 2;\n            var endThumbLeftEdge = thumbEndPos - this.endThumbKnobWidth / 2;\n            thumbsOverlap = startThumbRightEdge >= endThumbLeftEdge;\n        }\n        if (thumbsOverlap) {\n            this.adapter.addThumbClass(cssClasses.THUMB_TOP, \n            // If no thumb was dragged (in the case of initial layout), end\n            // thumb is on top by default.\n            thumb || Thumb.END);\n            this.adapter.removeThumbClass(cssClasses.THUMB_TOP, thumb === Thumb.START ? Thumb.END : Thumb.START);\n        }\n        else {\n            this.adapter.removeThumbClass(cssClasses.THUMB_TOP, Thumb.START);\n            this.adapter.removeThumbClass(cssClasses.THUMB_TOP, Thumb.END);\n        }\n    };\n    /**\n     * Converts attribute value to a number, e.g. '100' => 100. Throws errors\n     * for invalid values.\n     * @param attributeValue Attribute value, e.g. 100.\n     * @param attributeName Attribute name, e.g. `aria-valuemax`.\n     */\n    MDCSliderFoundation.prototype.convertAttributeValueToNumber = function (attributeValue, attributeName) {\n        if (attributeValue === null) {\n            throw new Error(\"MDCSliderFoundation: `\" + attributeName + \"` must be non-null.\");\n        }\n        var value = Number(attributeValue);\n        if (isNaN(value)) {\n            throw new Error(\"MDCSliderFoundation: `\" + attributeName + \"` value is \" +\n                (\"`\" + attributeValue + \"`, but must be a number.\"));\n        }\n        return value;\n    };\n    /** Checks that the given properties are valid slider values. */\n    MDCSliderFoundation.prototype.validateProperties = function (_a) {\n        var min = _a.min, max = _a.max, value = _a.value, valueStart = _a.valueStart, step = _a.step;\n        if (min >= max) {\n            throw new Error(\"MDCSliderFoundation: min must be strictly less than max. \" +\n                (\"Current: [min: \" + min + \", max: \" + max + \"]\"));\n        }\n        if (step <= 0) {\n            throw new Error(\"MDCSliderFoundation: step must be a positive number. \" +\n                (\"Current step: \" + this.step));\n        }\n        if (this.isRange) {\n            if (value < min || value > max || valueStart < min || valueStart > max) {\n                throw new Error(\"MDCSliderFoundation: values must be in [min, max] range. \" +\n                    (\"Current values: [start value: \" + valueStart + \", end value: \" + value + \"]\"));\n            }\n            if (valueStart > value) {\n                throw new Error(\"MDCSliderFoundation: start value must be <= end value. \" +\n                    (\"Current values: [start value: \" + valueStart + \", end value: \" + value + \"]\"));\n            }\n            var numStepsValueStartFromMin = (valueStart - min) / step;\n            var numStepsValueFromMin = (value - min) / step;\n            if ((numStepsValueStartFromMin % 1) !== 0 ||\n                (numStepsValueFromMin % 1) !== 0) {\n                throw new Error(\"MDCSliderFoundation: Slider values must be valid based on the \" +\n                    (\"step value. Current values: [start value: \" + valueStart + \", \") +\n                    (\"end value: \" + value + \"]\"));\n            }\n        }\n        else { // Single point slider.\n            if (value < min || value > max) {\n                throw new Error(\"MDCSliderFoundation: value must be in [min, max] range. \" +\n                    (\"Current value: \" + value));\n            }\n            var numStepsValueFromMin = (value - min) / step;\n            if ((numStepsValueFromMin % 1) !== 0) {\n                throw new Error(\"MDCSliderFoundation: Slider value must be valid based on the \" +\n                    (\"step value. Current value: \" + value));\n            }\n        }\n    };\n    MDCSliderFoundation.prototype.registerEventHandlers = function () {\n        this.adapter.registerWindowEventHandler('resize', this.resizeListener);\n        if (MDCSliderFoundation.SUPPORTS_POINTER_EVENTS) {\n            // If supported, use pointer events API with #setPointerCapture.\n            this.adapter.registerEventHandler('pointerdown', this.pointerdownListener);\n            this.adapter.registerEventHandler('pointerup', this.pointerupListener);\n        }\n        else {\n            // Otherwise, fall back to mousedown/touchstart events.\n            this.adapter.registerEventHandler('mousedown', this.mousedownOrTouchstartListener);\n            this.adapter.registerEventHandler('touchstart', this.mousedownOrTouchstartListener);\n        }\n        if (this.isRange) {\n            this.adapter.registerThumbEventHandler(Thumb.START, 'mouseenter', this.thumbMouseenterListener);\n            this.adapter.registerThumbEventHandler(Thumb.START, 'mouseleave', this.thumbMouseleaveListener);\n            this.adapter.registerInputEventHandler(Thumb.START, 'change', this.inputStartChangeListener);\n            this.adapter.registerInputEventHandler(Thumb.START, 'focus', this.inputStartFocusListener);\n            this.adapter.registerInputEventHandler(Thumb.START, 'blur', this.inputStartBlurListener);\n        }\n        this.adapter.registerThumbEventHandler(Thumb.END, 'mouseenter', this.thumbMouseenterListener);\n        this.adapter.registerThumbEventHandler(Thumb.END, 'mouseleave', this.thumbMouseleaveListener);\n        this.adapter.registerInputEventHandler(Thumb.END, 'change', this.inputEndChangeListener);\n        this.adapter.registerInputEventHandler(Thumb.END, 'focus', this.inputEndFocusListener);\n        this.adapter.registerInputEventHandler(Thumb.END, 'blur', this.inputEndBlurListener);\n    };\n    MDCSliderFoundation.prototype.deregisterEventHandlers = function () {\n        this.adapter.deregisterWindowEventHandler('resize', this.resizeListener);\n        if (MDCSliderFoundation.SUPPORTS_POINTER_EVENTS) {\n            this.adapter.deregisterEventHandler('pointerdown', this.pointerdownListener);\n            this.adapter.deregisterEventHandler('pointerup', this.pointerupListener);\n        }\n        else {\n            this.adapter.deregisterEventHandler('mousedown', this.mousedownOrTouchstartListener);\n            this.adapter.deregisterEventHandler('touchstart', this.mousedownOrTouchstartListener);\n        }\n        if (this.isRange) {\n            this.adapter.deregisterThumbEventHandler(Thumb.START, 'mouseenter', this.thumbMouseenterListener);\n            this.adapter.deregisterThumbEventHandler(Thumb.START, 'mouseleave', this.thumbMouseleaveListener);\n            this.adapter.deregisterInputEventHandler(Thumb.START, 'change', this.inputStartChangeListener);\n            this.adapter.deregisterInputEventHandler(Thumb.START, 'focus', this.inputStartFocusListener);\n            this.adapter.deregisterInputEventHandler(Thumb.START, 'blur', this.inputStartBlurListener);\n        }\n        this.adapter.deregisterThumbEventHandler(Thumb.END, 'mouseenter', this.thumbMouseenterListener);\n        this.adapter.deregisterThumbEventHandler(Thumb.END, 'mouseleave', this.thumbMouseleaveListener);\n        this.adapter.deregisterInputEventHandler(Thumb.END, 'change', this.inputEndChangeListener);\n        this.adapter.deregisterInputEventHandler(Thumb.END, 'focus', this.inputEndFocusListener);\n        this.adapter.deregisterInputEventHandler(Thumb.END, 'blur', this.inputEndBlurListener);\n    };\n    MDCSliderFoundation.prototype.handlePointerup = function () {\n        this.handleUp();\n        this.adapter.deregisterEventHandler('pointermove', this.moveListener);\n    };\n    MDCSliderFoundation.SUPPORTS_POINTER_EVENTS = HAS_WINDOW && Boolean(window.PointerEvent) &&\n        // #setPointerCapture is buggy on iOS, so we can't use pointer events\n        // until the following bug is fixed:\n        // https://bugs.webkit.org/show_bug.cgi?id=220196\n        !isIOS();\n    return MDCSliderFoundation;\n}(MDCFoundation));\nexport { MDCSliderFoundation };\nfunction isIOS() {\n    // Source:\n    // https://stackoverflow.com/questions/9038625/detect-if-device-is-ios\n    return [\n        'iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone',\n        'iPod'\n    ].includes(navigator.platform)\n        // iPad on iOS 13 detection\n        || (navigator.userAgent.includes('Mac') && 'ontouchend' in document);\n}\n/**\n * Given a number, returns the number of digits that appear after the\n * decimal point.\n * See\n * https://stackoverflow.com/questions/9539513/is-there-a-reliable-way-in-javascript-to-obtain-the-number-of-decimal-places-of\n */\nfunction getNumDecimalPlaces(n) {\n    // Pull out the fraction and the exponent.\n    var match = /(?:\\.(\\d+))?(?:[eE]([+\\-]?\\d+))?$/.exec(String(n));\n    // NaN or Infinity or integer.\n    // We arbitrarily decide that Infinity is integral.\n    if (!match)\n        return 0;\n    var fraction = match[1] || ''; // E.g. 1.234e-2 => 234\n    var exponent = match[2] || 0; // E.g. 1.234e-2 => -2\n    // Count the number of digits in the fraction and subtract the\n    // exponent to simulate moving the decimal point left by exponent places.\n    // 1.234e+2 has 1 fraction digit and '234'.length -  2 == 1\n    // 1.234e-2 has 5 fraction digit and '234'.length - -2 == 5\n    return Math.max(0, // lower limit\n    (fraction === '0' ? 0 : fraction.length) - Number(exponent));\n}\n//# sourceMappingURL=foundation.js.map","/**\n * @license\n * Copyright 2020 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends } from \"tslib\";\nimport { MDCComponent } from '@material/base/component';\nimport { applyPassive } from '@material/dom/events';\nimport { matches } from '@material/dom/ponyfill';\nimport { MDCRipple } from '@material/ripple/component';\nimport { MDCRippleFoundation } from '@material/ripple/foundation';\nimport { cssClasses, events } from './constants';\nimport { MDCSliderFoundation } from './foundation';\nimport { Thumb, TickMark } from './types';\n/** Vanilla JS implementation of slider component. */\nvar MDCSlider = /** @class */ (function (_super) {\n    __extends(MDCSlider, _super);\n    function MDCSlider() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.skipInitialUIUpdate = false;\n        // Function that maps a slider value to the value of the `aria-valuetext`\n        // attribute on the thumb element.\n        _this.valueToAriaValueTextFn = null;\n        return _this;\n    }\n    MDCSlider.attachTo = function (root, options) {\n        if (options === void 0) { options = {}; }\n        return new MDCSlider(root, undefined, options);\n    };\n    MDCSlider.prototype.getDefaultFoundation = function () {\n        var _this = this;\n        // tslint:disable:object-literal-sort-keys Methods should be in the same\n        // order as the adapter interface.\n        var adapter = {\n            hasClass: function (className) { return _this.root.classList.contains(className); },\n            addClass: function (className) {\n                _this.root.classList.add(className);\n            },\n            removeClass: function (className) {\n                _this.root.classList.remove(className);\n            },\n            addThumbClass: function (className, thumb) {\n                _this.getThumbEl(thumb).classList.add(className);\n            },\n            removeThumbClass: function (className, thumb) {\n                _this.getThumbEl(thumb).classList.remove(className);\n            },\n            getAttribute: function (attribute) { return _this.root.getAttribute(attribute); },\n            getInputValue: function (thumb) { return _this.getInput(thumb).value; },\n            setInputValue: function (value, thumb) {\n                _this.getInput(thumb).value = value;\n            },\n            getInputAttribute: function (attribute, thumb) {\n                return _this.getInput(thumb).getAttribute(attribute);\n            },\n            setInputAttribute: function (attribute, value, thumb) {\n                _this.getInput(thumb).setAttribute(attribute, value);\n            },\n            removeInputAttribute: function (attribute, thumb) {\n                _this.getInput(thumb).removeAttribute(attribute);\n            },\n            focusInput: function (thumb) {\n                _this.getInput(thumb).focus();\n            },\n            isInputFocused: function (thumb) {\n                return _this.getInput(thumb) === document.activeElement;\n            },\n            getThumbKnobWidth: function (thumb) {\n                return _this.getThumbEl(thumb)\n                    .querySelector(\".\" + cssClasses.THUMB_KNOB)\n                    .getBoundingClientRect()\n                    .width;\n            },\n            getThumbBoundingClientRect: function (thumb) {\n                return _this.getThumbEl(thumb).getBoundingClientRect();\n            },\n            getBoundingClientRect: function () { return _this.root.getBoundingClientRect(); },\n            isRTL: function () { return getComputedStyle(_this.root).direction === 'rtl'; },\n            setThumbStyleProperty: function (propertyName, value, thumb) {\n                _this.getThumbEl(thumb).style.setProperty(propertyName, value);\n            },\n            removeThumbStyleProperty: function (propertyName, thumb) {\n                _this.getThumbEl(thumb).style.removeProperty(propertyName);\n            },\n            setTrackActiveStyleProperty: function (propertyName, value) {\n                _this.trackActive.style.setProperty(propertyName, value);\n            },\n            removeTrackActiveStyleProperty: function (propertyName) {\n                _this.trackActive.style.removeProperty(propertyName);\n            },\n            setValueIndicatorText: function (value, thumb) {\n                var valueIndicatorEl = _this.getThumbEl(thumb).querySelector(\".\" + cssClasses.VALUE_INDICATOR_TEXT);\n                valueIndicatorEl.textContent = String(value);\n            },\n            getValueToAriaValueTextFn: function () { return _this.valueToAriaValueTextFn; },\n            updateTickMarks: function (tickMarks) {\n                var tickMarksContainer = _this.root.querySelector(\".\" + cssClasses.TICK_MARKS_CONTAINER);\n                if (!tickMarksContainer) {\n                    tickMarksContainer = document.createElement('div');\n                    tickMarksContainer.classList.add(cssClasses.TICK_MARKS_CONTAINER);\n                    var track = _this.root.querySelector(\".\" + cssClasses.TRACK);\n                    track.appendChild(tickMarksContainer);\n                }\n                if (tickMarks.length !== tickMarksContainer.children.length) {\n                    while (tickMarksContainer.firstChild) {\n                        tickMarksContainer.removeChild(tickMarksContainer.firstChild);\n                    }\n                    _this.addTickMarks(tickMarksContainer, tickMarks);\n                }\n                else {\n                    _this.updateTickMarks(tickMarksContainer, tickMarks);\n                }\n            },\n            setPointerCapture: function (pointerId) {\n                _this.root.setPointerCapture(pointerId);\n            },\n            emitChangeEvent: function (value, thumb) {\n                _this.emit(events.CHANGE, { value: value, thumb: thumb });\n            },\n            emitInputEvent: function (value, thumb) {\n                _this.emit(events.INPUT, { value: value, thumb: thumb });\n            },\n            emitDragStartEvent: function (_, thumb) {\n                // Emitting event is not yet implemented. See issue:\n                // https://github.com/material-components/material-components-web/issues/6448\n                _this.getRipple(thumb).activate();\n            },\n            emitDragEndEvent: function (_, thumb) {\n                // Emitting event is not yet implemented. See issue:\n                // https://github.com/material-components/material-components-web/issues/6448\n                _this.getRipple(thumb).deactivate();\n            },\n            registerEventHandler: function (evtType, handler) {\n                _this.listen(evtType, handler);\n            },\n            deregisterEventHandler: function (evtType, handler) {\n                _this.unlisten(evtType, handler);\n            },\n            registerThumbEventHandler: function (thumb, evtType, handler) {\n                _this.getThumbEl(thumb).addEventListener(evtType, handler);\n            },\n            deregisterThumbEventHandler: function (thumb, evtType, handler) {\n                _this.getThumbEl(thumb).removeEventListener(evtType, handler);\n            },\n            registerInputEventHandler: function (thumb, evtType, handler) {\n                _this.getInput(thumb).addEventListener(evtType, handler);\n            },\n            deregisterInputEventHandler: function (thumb, evtType, handler) {\n                _this.getInput(thumb).removeEventListener(evtType, handler);\n            },\n            registerBodyEventHandler: function (evtType, handler) {\n                document.body.addEventListener(evtType, handler);\n            },\n            deregisterBodyEventHandler: function (evtType, handler) {\n                document.body.removeEventListener(evtType, handler);\n            },\n            registerWindowEventHandler: function (evtType, handler) {\n                window.addEventListener(evtType, handler);\n            },\n            deregisterWindowEventHandler: function (evtType, handler) {\n                window.removeEventListener(evtType, handler);\n            },\n            // tslint:enable:object-literal-sort-keys\n        };\n        return new MDCSliderFoundation(adapter);\n    };\n    /**\n     * Initializes component, with the following options:\n     * - `skipInitialUIUpdate`: Whether to skip updating the UI when initially\n     *   syncing with the DOM. This should be enabled when the slider position\n     *   is set before component initialization.\n     */\n    MDCSlider.prototype.initialize = function (_a) {\n        var _b = _a === void 0 ? {} : _a, skipInitialUIUpdate = _b.skipInitialUIUpdate;\n        this.inputs =\n            [].slice.call(this.root.querySelectorAll(\".\" + cssClasses.INPUT));\n        this.thumbs =\n            [].slice.call(this.root.querySelectorAll(\".\" + cssClasses.THUMB));\n        this.trackActive =\n            this.root.querySelector(\".\" + cssClasses.TRACK_ACTIVE);\n        this.ripples = this.createRipples();\n        if (skipInitialUIUpdate) {\n            this.skipInitialUIUpdate = true;\n        }\n    };\n    MDCSlider.prototype.initialSyncWithDOM = function () {\n        this.foundation.layout({ skipUpdateUI: this.skipInitialUIUpdate });\n    };\n    /** Redraws UI based on DOM (e.g. element dimensions, RTL). */\n    MDCSlider.prototype.layout = function () {\n        this.foundation.layout();\n    };\n    MDCSlider.prototype.getValueStart = function () {\n        return this.foundation.getValueStart();\n    };\n    MDCSlider.prototype.setValueStart = function (valueStart) {\n        this.foundation.setValueStart(valueStart);\n    };\n    MDCSlider.prototype.getValue = function () {\n        return this.foundation.getValue();\n    };\n    MDCSlider.prototype.setValue = function (value) {\n        this.foundation.setValue(value);\n    };\n    /** @return Slider disabled state. */\n    MDCSlider.prototype.getDisabled = function () {\n        return this.foundation.getDisabled();\n    };\n    /** Sets slider disabled state. */\n    MDCSlider.prototype.setDisabled = function (disabled) {\n        this.foundation.setDisabled(disabled);\n    };\n    /**\n     * Sets a function that maps the slider value to the value of the\n     * `aria-valuetext` attribute on the thumb element.\n     */\n    MDCSlider.prototype.setValueToAriaValueTextFn = function (mapFn) {\n        this.valueToAriaValueTextFn = mapFn;\n    };\n    MDCSlider.prototype.getThumbEl = function (thumb) {\n        return thumb === Thumb.END ? this.thumbs[this.thumbs.length - 1] :\n            this.thumbs[0];\n    };\n    MDCSlider.prototype.getInput = function (thumb) {\n        return thumb === Thumb.END ? this.inputs[this.inputs.length - 1] :\n            this.inputs[0];\n    };\n    MDCSlider.prototype.getRipple = function (thumb) {\n        return thumb === Thumb.END ? this.ripples[this.ripples.length - 1] :\n            this.ripples[0];\n    };\n    /** Adds tick mark elements to the given container. */\n    MDCSlider.prototype.addTickMarks = function (tickMarkContainer, tickMarks) {\n        var fragment = document.createDocumentFragment();\n        for (var i = 0; i < tickMarks.length; i++) {\n            var div = document.createElement('div');\n            var tickMarkClass = tickMarks[i] === TickMark.ACTIVE ?\n                cssClasses.TICK_MARK_ACTIVE :\n                cssClasses.TICK_MARK_INACTIVE;\n            div.classList.add(tickMarkClass);\n            fragment.appendChild(div);\n        }\n        tickMarkContainer.appendChild(fragment);\n    };\n    /** Updates tick mark elements' classes in the given container. */\n    MDCSlider.prototype.updateTickMarks = function (tickMarkContainer, tickMarks) {\n        var tickMarkEls = Array.from(tickMarkContainer.children);\n        for (var i = 0; i < tickMarkEls.length; i++) {\n            if (tickMarks[i] === TickMark.ACTIVE) {\n                tickMarkEls[i].classList.add(cssClasses.TICK_MARK_ACTIVE);\n                tickMarkEls[i].classList.remove(cssClasses.TICK_MARK_INACTIVE);\n            }\n            else {\n                tickMarkEls[i].classList.add(cssClasses.TICK_MARK_INACTIVE);\n                tickMarkEls[i].classList.remove(cssClasses.TICK_MARK_ACTIVE);\n            }\n        }\n    };\n    /** Initializes thumb ripples. */\n    MDCSlider.prototype.createRipples = function () {\n        var ripples = [];\n        var rippleSurfaces = [].slice.call(this.root.querySelectorAll(\".\" + cssClasses.THUMB));\n        var _loop_1 = function (i) {\n            var rippleSurface = rippleSurfaces[i];\n            // Use the corresponding input as the focus source for the ripple (i.e.\n            // when the input is focused, the ripple is in the focused state).\n            var input = this_1.inputs[i];\n            var adapter = __assign(__assign({}, MDCRipple.createAdapter(this_1)), { addClass: function (className) {\n                    rippleSurface.classList.add(className);\n                }, computeBoundingRect: function () { return rippleSurface.getBoundingClientRect(); }, deregisterInteractionHandler: function (evtType, handler) {\n                    input.removeEventListener(evtType, handler);\n                }, isSurfaceActive: function () { return matches(input, ':active'); }, isUnbounded: function () { return true; }, registerInteractionHandler: function (evtType, handler) {\n                    input.addEventListener(evtType, handler, applyPassive());\n                }, removeClass: function (className) {\n                    rippleSurface.classList.remove(className);\n                }, updateCssVariable: function (varName, value) {\n                    rippleSurface.style.setProperty(varName, value);\n                } });\n            var ripple = new MDCRipple(rippleSurface, new MDCRippleFoundation(adapter));\n            ripple.unbounded = true;\n            ripples.push(ripple);\n        };\n        var this_1 = this;\n        for (var i = 0; i < rippleSurfaces.length; i++) {\n            _loop_1(i);\n        }\n        return ripples;\n    };\n    return MDCSlider;\n}(MDCComponent));\nexport { MDCSlider };\n//# sourceMappingURL=component.js.map","export function getPercentageClass(value: number) {\n    const tenPercent = 0.1;\n    const twentyPercent = 0.2;\n    const thirtyPercent = 0.3;\n    const fortyPercent = 0.4;\n    const fiftyPercent = 0.5;\n    const sixtyPercent = 0.6;\n    const seventyPercent = 0.7;\n    const eightyPercent = 0.8;\n    const ninetyPercent = 0.9;\n\n    if (value === 0) {\n        return 'percent-0';\n    }\n\n    if (value < tenPercent) {\n        return 'percent-0-10';\n    }\n\n    if (value < twentyPercent) {\n        return 'percent-10-20';\n    }\n\n    if (value < thirtyPercent) {\n        return 'percent-20-30';\n    }\n\n    if (value < fortyPercent) {\n        return 'percent-30-40';\n    }\n\n    if (value < fiftyPercent) {\n        return 'percent-40-50';\n    }\n\n    if (value < sixtyPercent) {\n        return 'percent-50-60';\n    }\n\n    if (value < seventyPercent) {\n        return 'percent-60-70';\n    }\n\n    if (value < eightyPercent) {\n        return 'percent-70-80';\n    }\n\n    if (value < ninetyPercent) {\n        return 'percent-80-90';\n    }\n\n    return 'percent-90-100';\n}\n","@use '../../style/internal/z-index';\n@use '../../style/functions';\n@use '../../style/internal/shared_input-select-picker';\n\n@use '../../style/internal/lime-theme';\n\n@use '@material/slider/styles';\n@use '@material/floating-label/mdc-floating-label';\n\n:host(limel-slider) {\n    isolation: isolate;\n    position: relative;\n\n    display: flex;\n    flex-direction: column;\n}\n\n.mdc-slider {\n    height: shared_input-select-picker.$height-of-mdc-text-field;\n    margin: 0 0.75rem;\n}\n\n.mdc-floating-label,\n.mdc-slider .mdc-slider__value-indicator-text {\n    // As long as this component is depended on MDC,\n    // we need to force it to be font-agnostic.\n    // When MDC-dependency is removed, this block can also be removed.\n    // However, on removal of MDC-dependency, we should also make sure to check\n    // other font-related styles that might be set by MDC,\n    // such as `letter-spacing` or `font-size`.\n    font-family: inherit;\n}\n\n.slider__label {\n    padding-left: functions.pxToRem(20);\n    top: 0.75rem; // To place its label on the same height as other `floating-label`s in a form\n\n    color: shared_input-select-picker.$label-color;\n    :host(limel-slider.disabled:not(.readonly)) & {\n        color: shared_input-select-picker.$label-color-disabled;\n    }\n}\n\n.slider__content-range-container {\n    display: flex;\n    order: 2;\n    justify-content: space-between;\n    margin: 0 auto;\n    margin-top: -0.75rem;\n    width: 100%;\n}\n\n.slider__content-min-label,\n.slider__content-max-label {\n    line-height: 1;\n    transition: opacity 0.2s ease;\n    opacity: 0.7;\n    font-size: functions.pxToRem(12);\n    color: shared_input-select-picker.$helper-text-color;\n}\n\n.mdc-slider__track {\n    &:before,\n    &:after {\n        // start & end indicators\n        content: '';\n        display: inline-block;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        margin: auto;\n\n        width: functions.pxToRem(6);\n        height: functions.pxToRem(6);\n        border-radius: 50%;\n        background-color: rgba(var(--contrast-700), 0.6);\n    }\n\n    &:before {\n        left: functions.pxToRem(-12);\n    }\n\n    &:after {\n        right: functions.pxToRem(-12);\n    }\n}\n\n@import './partial-styles/percentage-color';\n@import './partial-styles/_readonly';\n@import './partial-styles/_thumb';\n@import './partial-styles/_helper-text';\n","import { MDCSlider, MDCSliderChangeEventDetail } from '@material/slider';\nimport {\n    Component,\n    Element,\n    Event,\n    EventEmitter,\n    h,\n    Host,\n    Prop,\n    State,\n    Watch,\n} from '@stencil/core';\nimport { getPercentageClass } from './getPercentageClass';\nimport { createRandomString } from '../../util/random-string';\n\nconst DEFAULT_FACTOR = 1;\nconst DEFAULT_MAX_VALUE = 100;\nconst DEFAULT_MIN_VALUE = 0;\n\n/**\n * @exampleComponent limel-example-slider-basic\n * @exampleComponent limel-example-slider-multiplier\n * @exampleComponent limel-example-slider-multiplier-percentage-colors\n * @exampleComponent limel-example-slider-composite\n */\n@Component({\n    tag: 'limel-slider',\n    shadow: true,\n    styleUrl: 'slider.scss',\n})\nexport class Slider {\n    /**\n     * Disables the slider when `true`,\n     * and visually shows that the field is editable but disabled.\n     * This tells the users that if certain requirements are met,\n     * the slider may become interactable.\n     */\n    @Prop({ reflect: true })\n    public disabled = false;\n\n    /**\n     * Disables the slider when `true`. This visualizes the slider slightly differently.\n     * But shows no visual sign indicating that the slider field\n     * is disabled or can ever become interactable.\n     */\n    @Prop({ reflect: true })\n    public readonly = false;\n\n    /**\n     * Default value: 1.\n     * The factor that the properties `value`, `valuemax`, `valuemin`, and\n     * `step` are multiplied by. On `change` divides the value by the factor,\n     * so the original format stays the same.\n     */\n    @Prop({ reflect: true })\n    public factor: number = DEFAULT_FACTOR;\n\n    /**\n     * Label to display next to the input\n     */\n    @Prop({ reflect: true })\n    public label: string;\n\n    /**\n     * Optional helper text to display below the slider\n     */\n    @Prop({ reflect: true })\n    public helperText: string;\n\n    /**\n     * Unit to display next to the value\n     */\n    @Prop({ reflect: true })\n    public unit: string = '';\n\n    /**\n     * The value of the input\n     */\n    @Prop({ reflect: true })\n    public value: number;\n\n    /**\n     * The maximum value allowed\n     */\n    @Prop({ reflect: true })\n    public valuemax: number = DEFAULT_MAX_VALUE;\n\n    /**\n     * The minimum value allowed\n     */\n    @Prop({ reflect: true })\n    public valuemin: number = DEFAULT_MIN_VALUE;\n\n    /**\n     * The stepping interval to use when adjusting the value\n     */\n    @Prop({ reflect: true })\n    public step: number;\n\n    /**\n     * Emitted when the value has been changed\n     */\n    @Event()\n    private change: EventEmitter<number>;\n\n    @Element()\n    private rootElement: HTMLLimelSliderElement;\n\n    @State()\n    private percentageClass: string;\n\n    private mdcSlider: MDCSlider;\n    private labelId: string;\n    private helperTextId: string;\n    private observer: ResizeObserver;\n\n    public constructor() {\n        this.labelId = createRandomString();\n        this.helperTextId = createRandomString();\n    }\n\n    public connectedCallback() {\n        this.initialize();\n        this.observer = new ResizeObserver(this.resizeObserverCallback);\n        this.observer.observe(this.rootElement);\n    }\n\n    public componentWillLoad() {\n        this.setPercentageClass(this.value);\n    }\n\n    public componentDidLoad() {\n        this.initialize();\n    }\n\n    public disconnectedCallback() {\n        this.destroyMDCSlider();\n        this.observer.disconnect();\n    }\n\n    public render() {\n        const inputProps: any = {};\n        if (this.step) {\n            inputProps.step = this.multiplyByFactor(this.step);\n        }\n\n        if (this.disabled || this.readonly) {\n            inputProps.disabled = true;\n        }\n\n        return (\n            <Host class={this.getContainerClassList()}>\n                <label\n                    class=\"slider__label mdc-floating-label mdc-floating-label--float-above\"\n                    id={this.labelId}\n                >\n                    {this.label}\n                </label>\n                <div class=\"slider__content-range-container\">\n                    <span class=\"slider__content-min-label\">\n                        {this.multiplyByFactor(this.valuemin)}\n                        {this.unit}\n                    </span>\n                    <span class=\"slider__content-max-label\">\n                        {this.multiplyByFactor(this.valuemax)}\n                        {this.unit}\n                    </span>\n                </div>\n                <div\n                    class={{\n                        'mdc-slider': true,\n                        'mdc-slider--discrete': true,\n                        'mdc-slider--disabled': this.disabled || this.readonly,\n                    }}\n                >\n                    <input\n                        class=\"mdc-slider__input\"\n                        type=\"range\"\n                        min={this.multiplyByFactor(this.valuemin)}\n                        max={this.multiplyByFactor(this.valuemax)}\n                        value={this.multiplyByFactor(this.value)}\n                        name=\"volume\"\n                        aria-labelledby={this.labelId}\n                        aria-controls={this.helperTextId}\n                        {...inputProps}\n                    />\n                    <div class=\"mdc-slider__track\">\n                        <div class=\"mdc-slider__track--inactive\"></div>\n                        <div class=\"mdc-slider__track--active\">\n                            <div class=\"mdc-slider__track--active_fill\"></div>\n                        </div>\n                    </div>\n                    <div class=\"mdc-slider__thumb\">\n                        <div\n                            class=\"mdc-slider__value-indicator-container\"\n                            aria-hidden=\"true\"\n                        >\n                            <div class=\"mdc-slider__value-indicator\">\n                                <span class=\"mdc-slider__value-indicator-text\">\n                                    {this.multiplyByFactor(this.value)}\n                                </span>\n                            </div>\n                        </div>\n                        <div class=\"mdc-slider__thumb-knob\"></div>\n                    </div>\n                </div>\n                {this.renderHelperLine()}\n            </Host>\n        );\n    }\n\n    @Watch('disabled')\n    protected watchDisabled() {\n        this.updateDisabledState();\n    }\n\n    @Watch('readonly')\n    protected watchReadonly() {\n        this.updateDisabledState();\n    }\n\n    @Watch('value')\n    protected watchValue() {\n        if (!this.mdcSlider) {\n            return;\n        }\n\n        const value = this.multiplyByFactor(this.getValue());\n        this.mdcSlider.setValue(value);\n\n        if (this.isStepConfigured()) {\n            return;\n        }\n\n        const step = this.multiplyByFactor(this.step);\n        if (!this.isMultipleOfStep(value, step)) {\n            return;\n        }\n\n        this.reCreateSliderWithStep();\n    }\n\n    private renderHelperLine = () => {\n        if (!this.helperText) {\n            return;\n        }\n\n        return (\n            <limel-helper-line\n                helperText={this.helperText}\n                helperTextId={this.helperTextId}\n            />\n        );\n    };\n\n    private initialize = () => {\n        const inputElement = this.getInputElement();\n        if (!inputElement) {\n            return;\n        }\n\n        const value = this.getValue();\n\n        /*\n        For some reason the input element's `value` attribute is removed\n        (probably by Stencil) when the element is first rendered. But if the\n        attribute is missing when MDCSlider is initialized (MDC v11.0.0),\n        MDCSlider crashes.\n        So we add the attribute right before initializing MDCSlider. /Ads\n        */\n        inputElement.setAttribute('value', `${this.multiplyByFactor(value)}`);\n\n        /*\n        When creating the `mdcSlider` component, its important that the value set in\n        the input field obeys the range and the step size.\n\n        The MDCSlider will throw an exception unless the value in the input element\n        is dividible by the step value and is in the provided range.\n        If an exception occurs, this component will crash and it will be impossible to change\n        its value.\n        The logic below ensures that the component will render even though the\n        provided value is wrong.\n        This could be considered wrong, but it at least fixes so that it's possible\n        to change the value from the UI.\n        */\n        const greaterThanOrEqualMin = value >= this.valuemin;\n        const lessThanOrEqualMax = value <= this.valuemax;\n\n        if (!greaterThanOrEqualMin) {\n            const newMin = this.multiplyByFactor(value);\n            inputElement.setAttribute('min', `${newMin}`);\n        }\n\n        if (!lessThanOrEqualMax) {\n            const newMax = this.multiplyByFactor(value);\n            inputElement.setAttribute('max', `${newMax}`);\n        }\n\n        if (!this.isMultipleOfStep(value, this.step)) {\n            inputElement.removeAttribute('step');\n        }\n\n        this.createMDCSlider();\n    };\n\n    private reCreateSliderWithStep = () => {\n        const inputElement = this.getInputElement();\n        const step = `${this.multiplyByFactor(this.step)}`;\n\n        inputElement.setAttribute('step', step);\n\n        this.destroyMDCSlider();\n        this.createMDCSlider();\n    };\n\n    private createMDCSlider = () => {\n        const element = this.getRootElement();\n\n        this.mdcSlider = new MDCSlider(element);\n        this.mdcSlider.listen('MDCSlider:change', this.changeHandler);\n        this.mdcSlider.listen('MDCSlider:input', this.inputHandler);\n    };\n\n    private destroyMDCSlider() {\n        this.mdcSlider.unlisten('MDCSlider:change', this.changeHandler);\n        this.mdcSlider.unlisten('MDCSlider:input', this.inputHandler);\n        this.mdcSlider.destroy();\n        this.mdcSlider = undefined;\n    }\n\n    private changeHandler = (\n        event: CustomEvent<MDCSliderChangeEventDetail>,\n    ) => {\n        let value = event.detail.value;\n        const step = this.multiplyByFactor(this.step);\n\n        if (!this.isMultipleOfStep(value, step)) {\n            value = this.roundToStep(value, step);\n        }\n\n        this.change.emit(value / this.factor);\n    };\n\n    private inputHandler = (event: CustomEvent<MDCSliderChangeEventDetail>) => {\n        this.setPercentageClass(event.detail.value / this.factor);\n    };\n\n    private getContainerClassList = () => {\n        return {\n            [this.percentageClass]: true,\n            disabled: this.disabled || this.readonly,\n            readonly: this.readonly,\n        };\n    };\n\n    private resizeObserverCallback = () => {\n        this.mdcSlider?.layout();\n    };\n\n    private updateDisabledState = () => {\n        if (!this.mdcSlider) {\n            return;\n        }\n\n        this.mdcSlider?.setDisabled(this.disabled || this.readonly);\n    };\n\n    private multiplyByFactor = (value: number) => {\n        return Math.round(value * this.factor);\n    };\n\n    private getValue = () => {\n        let value = this.value;\n        if (!isFinite(value)) {\n            value = this.valuemin;\n        }\n\n        return value;\n    };\n\n    private setPercentageClass = (value: number) => {\n        this.percentageClass = getPercentageClass(\n            (value - this.valuemin) / (this.valuemax - this.valuemin),\n        );\n    };\n\n    private isMultipleOfStep = (value: number, step: number): boolean => {\n        if (!step) {\n            return true;\n        }\n\n        return value % step === 0;\n    };\n\n    private roundToStep = (value: number, step: number): number => {\n        return Math.round(value / step) * step;\n    };\n\n    private getRootElement = (): HTMLElement | undefined => {\n        return this.rootElement.shadowRoot.querySelector('.mdc-slider');\n    };\n\n    private getInputElement = (): HTMLInputElement | undefined => {\n        const element = this.getRootElement();\n        if (!element) {\n            return;\n        }\n\n        return element.querySelector('input');\n    };\n\n    private isStepConfigured = (): boolean => {\n        if (!this.step) {\n            return true;\n        }\n\n        const input = this.getInputElement();\n        if (!input) {\n            return true;\n        }\n\n        return input.hasAttribute('step');\n    };\n}\n"],"mappings":"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"}