{"version":3,"names":["IconFinder","this","indexedIcons","loadIconIndex","async","response","fetch","json","_a","call","renderIconButton","icon","iconName","id","replace","label","h","onClick","copyIconName","onInput","event","textValue","detail","onKeyUp","key","ENTER","keyCode","ENTER_KEY_CODE","trim","value","createChip","searchIcons","icons","forEach","search","hits","tags","filter","tag","includes","text","length","push","Set","chipSetOnChange","componentWillLoad","render","type","onChange","onChipSetInput","searchLabel","emptyInputOnBlur","leadingIcon","map","target","element","document","createElement","body","appendChild","select","execCommand","removeChild","console","log","name","removable"],"sources":["./src/components/icon/examples/icon-finder.tsx"],"sourcesContent":["import { Chip, LimelChipSetCustomEvent } from '@limetech/lime-elements';\nimport { Component, h, State } from '@stencil/core';\nimport { ENTER, ENTER_KEY_CODE } from '../../../util/keycodes';\n\ninterface Icon {\n    id: string;\n    tags: string[];\n}\n\n/**\n * Icon Finder\n *\n * Used in the docs for `limel-icon`.\n */\n@Component({\n    tag: 'limel-example-icon-finder',\n    shadow: true,\n})\nexport class IconFinder {\n    @State()\n    private value: Chip[] = [];\n\n    @State()\n    private textValue = '';\n\n    @State()\n    private icons: Icon[] = [];\n\n    private indexedIcons: any[] = [];\n\n    public componentWillLoad() {\n        this.loadIconIndex();\n    }\n\n    private loadIconIndex = async () => {\n        const response = await fetch(\n            'https://lundalogik.github.io/lime-icons8/assets/icon-index.json'\n        );\n        const json = await response?.json?.();\n        this.indexedIcons = json;\n    };\n\n    public render() {\n        return [\n            <limel-chip-set\n                label=\"Icon finder\"\n                type=\"input\"\n                value={this.value}\n                onChange={this.chipSetOnChange}\n                onChipSetInput={this.onInput}\n                onKeyUp={this.onKeyUp}\n                searchLabel=\"Type and press enter to search\"\n                emptyInputOnBlur={true}\n                leadingIcon={'search'}\n            />,\n            <div> {this.icons.map(this.renderIconButton)}</div>,\n        ];\n    }\n\n    private renderIconButton = (icon: Icon) => {\n        const iconName = icon.id.replace('.svg', '');\n        const label = `Copy ${iconName}`;\n\n        return (\n            <limel-icon-button\n                label={label}\n                icon={iconName}\n                onClick={this.copyIconName}\n            />\n        );\n    };\n\n    private copyIconName(event) {\n        const iconName = event.target.icon;\n        const element = document.createElement('textarea');\n        element.value = iconName;\n        document.body.appendChild(element);\n        element.select();\n        document.execCommand('copy');\n        document.body.removeChild(element);\n        console.log(`copied icon name '${iconName}' to clipboard`);\n    }\n\n    private onInput = (event: CustomEvent<string>) => {\n        this.textValue = event.detail;\n    };\n\n    private onKeyUp = (event: KeyboardEvent) => {\n        if (\n            (event.key === ENTER || event.keyCode === ENTER_KEY_CODE) &&\n            this.textValue.trim()\n        ) {\n            this.value = [\n                ...this.value,\n                this.createChip(this.textValue.trim()),\n            ];\n            this.searchIcons();\n            this.textValue = '';\n        }\n    };\n\n    private searchIcons = () => {\n        this.icons = [];\n        this.indexedIcons.forEach((icon: Icon) => {\n            this.value.forEach((search: Chip) => {\n                const hits = icon.tags.filter((tag) =>\n                    tag.includes(search.text)\n                );\n                if (hits.length || icon.id.includes(search.text)) {\n                    this.icons.push(icon);\n                }\n            });\n        });\n        this.icons = [...new Set(this.icons)];\n    };\n\n    private chipSetOnChange = (event: LimelChipSetCustomEvent<Chip[]>) => {\n        this.value = event.detail;\n        this.searchIcons();\n    };\n\n    private createChip(name: string): Chip {\n        return {\n            id: name,\n            text: name,\n            removable: true,\n        };\n    }\n}\n"],"mappings":"uGAkBaA,EAAU,M,yBAUXC,KAAAC,aAAsB,GAMtBD,KAAAE,cAAgBC,U,MACpB,MAAMC,QAAiBC,MACnB,mEAEJ,MAAMC,SAAaC,EAAAH,IAAQ,MAARA,SAAQ,SAARA,EAAUE,QAAI,MAAAC,SAAA,SAAAA,EAAAC,KAAAJ,IACjCJ,KAAKC,aAAeK,CAAI,EAoBpBN,KAAAS,iBAAoBC,IACxB,MAAMC,EAAWD,EAAKE,GAAGC,QAAQ,OAAQ,IACzC,MAAMC,EAAQ,QAAQH,IAEtB,OACII,EAAA,qBACID,MAAOA,EACPJ,KAAMC,EACNK,QAAShB,KAAKiB,cAChB,EAeFjB,KAAAkB,QAAWC,IACfnB,KAAKoB,UAAYD,EAAME,MAAM,EAGzBrB,KAAAsB,QAAWH,IACf,IACKA,EAAMI,MAAQC,GAASL,EAAMM,UAAYC,IAC1C1B,KAAKoB,UAAUO,OACjB,CACE3B,KAAK4B,MAAQ,IACN5B,KAAK4B,MACR5B,KAAK6B,WAAW7B,KAAKoB,UAAUO,SAEnC3B,KAAK8B,cACL9B,KAAKoB,UAAY,E,GAIjBpB,KAAA8B,YAAc,KAClB9B,KAAK+B,MAAQ,GACb/B,KAAKC,aAAa+B,SAAStB,IACvBV,KAAK4B,MAAMI,SAASC,IAChB,MAAMC,EAAOxB,EAAKyB,KAAKC,QAAQC,GAC3BA,EAAIC,SAASL,EAAOM,QAExB,GAAIL,EAAKM,QAAU9B,EAAKE,GAAG0B,SAASL,EAAOM,MAAO,CAC9CvC,KAAK+B,MAAMU,KAAK/B,E,IAEtB,IAENV,KAAK+B,MAAQ,IAAI,IAAIW,IAAI1C,KAAK+B,OAAO,EAGjC/B,KAAA2C,gBAAmBxB,IACvBnB,KAAK4B,MAAQT,EAAME,OACnBrB,KAAK8B,aAAa,E,WAlGE,G,eAGJ,G,WAGI,E,CAIjBc,oBACH5C,KAAKE,e,CAWF2C,SACH,MAAO,CACH9B,EAAA,kBACID,MAAM,cACNgC,KAAK,QACLlB,MAAO5B,KAAK4B,MACZmB,SAAU/C,KAAK2C,gBACfK,eAAgBhD,KAAKkB,QACrBI,QAAStB,KAAKsB,QACd2B,YAAY,iCACZC,iBAAkB,KAClBC,YAAa,WAEjBpC,EAAA,eAAOf,KAAK+B,MAAMqB,IAAIpD,KAAKS,mB,CAiB3BQ,aAAaE,GACjB,MAAMR,EAAWQ,EAAMkC,OAAO3C,KAC9B,MAAM4C,EAAUC,SAASC,cAAc,YACvCF,EAAQ1B,MAAQjB,EAChB4C,SAASE,KAAKC,YAAYJ,GAC1BA,EAAQK,SACRJ,SAASK,YAAY,QACrBL,SAASE,KAAKI,YAAYP,GAC1BQ,QAAQC,IAAI,qBAAqBpD,kB,CAyC7BkB,WAAWmC,GACf,MAAO,CACHpD,GAAIoD,EACJzB,KAAMyB,EACNC,UAAW,K"}