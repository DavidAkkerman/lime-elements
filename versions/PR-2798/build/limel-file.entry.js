import{r as t,c as o,h as r,g as s}from"./index-6156b4fd.js";import{t as i}from"./translations-dea847ae.js";import{c as e}from"./random-string-812b1c35.js";import{g as n,a,b as c}from"./get-icon-props-0b65f85e.js";import{M as l}from"./component-bd36d795.js";import"./component-8200fd05.js";import"./component-c4a88229.js";import"./ponyfill-30263d5e.js";import"./component-2424eedd.js";const h="file";const p="tear_off_calendar";const d="email";const g="internet";const m="text_box";const b="ms_excel_copyrighted";const f="ms_word_copyrighted";const v="ms_powerpoint_copyrighted";const u="picture";const x="camera";const k="vector";const y="presentation_filled";const _="overview_pages_2";const w="data_sheet";const j="audio_wave";const z="video_file";const C="condom_package";const D="ms_outlook_copyrighted";const q="database";const F={msg:D,ics:p,ical:p,icalendar:p,ifb:p,email:d,eml:d,oft:d,ost:d,emlx:d,html:g,xml:g,txt:m,rtf:m,dot:f,doc:f,docx:f,dotx:f,docm:f,dotm:f,odt:_,pages:_,pdf:"PDF_2",ppt:v,pot:v,pps:v,pptx:v,pptm:v,potx:v,potm:v,ppam:v,ppsx:v,ppsm:v,sldx:v,sldm:v,odp:y,key:y,xls:b,xlsx:b,csv:w,numbers:w,jpg:x,jpeg:x,heic:x,bmp:u,png:u,gif:u,psd:"adobe_photoshop_copyrighted",ai:"adobe_illustrator_copyrighted",svg:k,svgz:k,ep:k,eps:k,sketch:k,mp3:j,wav:j,wma:j,ogg:j,avi:z,flv:z,h264:z,mov:z,mp4:z,mwv:z,zip:C,"7z":C,rar:C,json:"json",yaml:q,sql:q,db:q,dbf:q};function K(t){return F[t.toLowerCase()]||h}const E="rgb(var(--color-gray-dark))";const I="rgb(var(--color-cyan-dark))";const O="rgb(var(--color-gray-dark))";const S="rgb(var(--color-blue-dark))";const T="rgb(var(--color-yellow-darker))";const A="rgb(var(--color-green-dark))";const L="rgb(var(--color-coral-dark))";const U="rgb(var(--color-sky-dark))";const B="rgb(var(--color-lime-dark))";const M="rgb(var(--color-magenta-dark))";const P="rgb(var(--color-blue-dark))";const $="rgb(var(--color-orange-dark))";const G="rgb(var(--color-green-dark))";const H="rgb(var(--color-indigo-dark))";const J="rgb(var(--color-red-dark))";const N="rgb(var(--color-brown-default))";const Q="rgb(var(--color-yellow-dark))";const R="rgb(var(--color-red-dark))";const V="rgb(var(--color-glaucous-dark))";const W={msg:Q,ics:I,ical:I,icalendar:I,ifb:I,email:O,eml:O,oft:O,ost:O,emlx:O,html:S,xml:S,txt:T,rtf:T,dot:U,doc:U,docx:U,dotx:U,docm:U,dotm:U,odt:$,pages:$,pdf:R,ppt:L,pot:L,pps:L,pptx:L,pptm:L,potx:L,potm:L,ppam:L,ppsx:L,ppsm:L,sldx:L,sldm:L,odp:P,key:P,xls:A,xlsx:A,csv:E,numbers:G,bmp:B,jpg:B,jpeg:B,heic:B,png:B,gif:B,psd:P,ai:$,svg:M,svgz:M,ep:M,eps:M,sketch:M,mp3:H,wav:H,wma:H,ogg:H,flv:J,h264:J,mov:J,mp4:J,mwv:J,zip:N,"7z":N,rar:N,json:V,yaml:V,sql:V,db:V,dbf:V};function X(t){return W[t.toLowerCase()]||E}const Y="rgba(var(--color-gray-lighter), 0.4)";const Z="rgba(var(--color-cyan-lighter), 0.4)";const tt="rgba(var(--color-gray-lighter), 0.4)";const ot="rgba(var(--color-blue-lighter), 0.4)";const rt="rgba(var(--color-yellow-lighter), 0.4)";const st="rgba(var(--color-green-lighter), 0.4)";const it="rgba(var(--color-coral-lighter), 0.4)";const et="rgba(var(--color-sky-lighter), 0.4)";const nt="rgba(var(--color-lime-lighter), 0.4)";const at="rgba(var(--color-magenta-lighter), 0.4)";const ct="rgba(var(--color-blue-lighter), 0.4)";const lt="rgba(var(--color-orange-lighter), 0.4)";const ht="rgba(var(--color-green-lighter), 0.4)";const pt="rgba(var(--color-indigo-lighter), 0.4)";const dt="rgba(var(--color-red-lighter), 0.4)";const gt="rgba(var(--color-orange-lighter), 0.4)";const mt="rgba(var(--color-yellow-lighter), 0.4)";const bt="rgba(var(--color-red-lighter), 0.4)";const ft="rgba(var(--color-glaucous-lighter), 0.4)";const vt={msg:mt,ics:Z,ical:Z,icalendar:Z,ifb:Z,email:tt,eml:tt,oft:tt,ost:tt,emlx:tt,html:ot,xml:ot,txt:rt,rtf:rt,dot:et,doc:et,docx:et,dotx:et,docm:et,dotm:et,odt:lt,pages:lt,pdf:bt,ppt:it,pot:it,pps:it,pptx:it,pptm:it,potx:it,potm:it,ppam:it,ppsx:it,ppsm:it,sldx:it,sldm:it,odp:ct,key:ct,xls:st,xlsx:st,csv:Y,numbers:ht,bmp:nt,jpg:nt,jpeg:nt,heic:nt,png:nt,gif:nt,psd:ct,ai:lt,svg:at,svgz:at,ep:at,eps:at,sketch:at,mp3:pt,wav:pt,wma:pt,ogg:pt,flv:dt,h264:dt,mov:dt,mp4:dt,mwv:dt,zip:gt,"7z":gt,rar:gt,json:ft,yaml:ft,sql:ft,db:ft,dbf:ft};function ut(t){return vt[t.toLowerCase()]||Y}function xt(t){const o=n(t.icon);if(o){return o}const r=wt(t);if(!r){return}return K(r)}function kt(t){const o=a(t.icon,t.iconColor);if(o){return o}const r=wt(t);if(!r){return}return X(r)}function yt(t){const o=c(t.icon,t.iconBackgroundColor);if(o){return o}const r=wt(t);if(!r){return}return ut(r)}function _t(t){const o=n(t.icon);if(o){return o}return wt(t)}function wt(t){if(!t){return}return t.filename.split(".").pop()}const jt=":host{--icon-background-color:rgb(var(--contrast-400));--icon-color:rgb(var(--contrast-1100))}";const zt="limel-chip-set";const Ct={id:null,text:null,removable:true};const Dt=class{constructor(r){t(this,r);this.change=o(this,"change",7);this.interact=o(this,"interact",7);this.fileInputId=e();this.handleDragEnter=t=>{this.isDraggingOverDropZone=true;this.preventAndStop(t)};this.handleDragLeave=()=>{this.isDraggingOverDropZone=false};this.handleFileDrop=t=>{this.preventAndStop(t);this.isDraggingOverDropZone=false;const o=t.dataTransfer;this.handleFile(o.files[0])};this.value=undefined;this.label=undefined;this.required=false;this.disabled=false;this.readonly=false;this.invalid=false;this.accept="*";this.language="en";this.isDraggingOverDropZone=false;this.handleFileSelection=this.handleFileSelection.bind(this);this.handleFileChange=this.handleFileChange.bind(this);this.handleChipSetChange=this.handleChipSetChange.bind(this);this.handleFileDrop=this.handleFileDrop.bind(this);this.handleKeyDown=this.handleKeyDown.bind(this);this.handleKeyUp=this.handleKeyUp.bind(this);this.handleChipInteract=this.handleChipInteract.bind(this)}connectedCallback(){this.initialize()}componentDidLoad(){this.fileInput=this.element.shadowRoot.getElementById(this.fileInputId);this.chipSet=this.element.shadowRoot.querySelector(zt);this.initialize()}initialize(){if(!this.chipSet){return}this.mdcTextField=new l(this.chipSet.shadowRoot.querySelector(".mdc-text-field"))}disconnectedCallback(){if(this.mdcTextField){this.mdcTextField.destroy()}}render(){return[r("input",{hidden:true,id:this.fileInputId,onChange:this.handleFileChange,type:"file",accept:this.accept,disabled:this.disabled||this.readonly}),r("limel-chip-set",{class:{"is-file-picker":true,"shows-dropzone":true,"highlight-dropzone":this.isDraggingOverDropZone},disabled:this.disabled,readonly:this.readonly,invalid:this.invalid,label:this.label,leadingIcon:"upload_to_cloud",language:this.language,onChange:this.handleChipSetChange,onClick:this.handleClick,onInteract:this.handleChipInteract,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,required:this.required,type:"input",value:this.chipArray,title:this.getTranslation("drag-and-drop-tips"),onDragEnter:this.handleDragEnter,onDragOver:this.preventAndStop,onDragLeave:this.handleDragLeave,onDrop:this.handleFileDrop})]}get chipArray(){if(!this.value){return[]}return[Object.assign(Object.assign({},Ct),{text:this.value.filename,id:this.value.id,icon:{name:xt(this.value),title:_t(this.value),color:kt(this.value),backgroundColor:yt(this.value)},href:this.value.href})]}handleKeyDown(t){if(t.code==="Tab"||t.code==="Backspace"||t.code==="Enter"){return}t.preventDefault();t.stopPropagation()}handleKeyUp(t){if(t.code==="Enter"&&!this.value){this.fileInput.click()}}handleClick(t){this.handleFileSelection(t)}handleFileSelection(t){t.stopPropagation();t.preventDefault();if(!this.value){this.fileInput.click()}}handleFileChange(t){if(this.fileInput.files.length>0){t.stopPropagation();this.handleFile(this.fileInput.files[0])}}handleFile(t){const o={id:e(),filename:t.name,contentType:t.type,size:t.size,fileContent:t};this.change.emit(o);this.chipSet.blur();this.mdcTextField.valid=true}handleChipSetChange(t){t.stopPropagation();const o=!t.detail.length?t.detail[0]:null;this.chipSet.blur();if(!o){this.fileInput.value="";this.change.emit(o);if(this.required){this.mdcTextField.valid=false}}}handleChipInteract(t){t.stopPropagation();t.preventDefault();this.interact.emit(t.detail.id)}preventAndStop(t){t.stopPropagation();t.preventDefault()}getTranslation(t){return i.get(`file.${t}`,this.language)}get element(){return s(this)}};Dt.style=jt;export{Dt as limel_file};
//# sourceMappingURL=limel-file.entry.js.map